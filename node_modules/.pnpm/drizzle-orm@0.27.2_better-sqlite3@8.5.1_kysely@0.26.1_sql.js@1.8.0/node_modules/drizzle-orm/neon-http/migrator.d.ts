import { MigrationConfig } from '../migrator.js';
import { NeonHttpDatabase } from './index.js';
import '../column.d-aa4e525d.js';
import '../db.d-b9835153.js';
import '../query-promise.d-0dd411fc.js';
import '../select.types.d-eff54486.js';
import '@neondatabase/serverless';

/**
 * This function reads migrationFolder and execute each unapplied migration and mark it as executed in database
 *
 * NOTE: The Neon HTTP driver does not support transactions. This means that if any part of a migration fails,
 * no rollback will be executed. Currently, you will need to handle unsuccessful migration yourself.
 * @param db - drizzle db instance
 * @param config - path to migration folder generated by drizzle-kit
 */
declare function migrate<TSchema extends Record<string, unknown>>(db: NeonHttpDatabase<TSchema>, config: string | MigrationConfig): Promise<void>;

export { migrate };
