"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.isGrpcWebServiceDefinition = exports.fromGrpcWebServiceDefinition = void 0;
function fromGrpcWebServiceDefinition(definition) {
    const result = {};
    for (const [key, value] of Object.entries(definition)) {
        if (key === 'serviceName') {
            continue;
        }
        const method = value;
        result[uncapitalize(key)] = {
            path: `/${definition.serviceName}/${key}`,
            requestStream: method.requestStream,
            responseStream: method.responseStream,
            requestDeserialize: method.requestType.deserializeBinary,
            requestSerialize: (value) => value.serializeBinary(),
            responseDeserialize: method.responseType.deserializeBinary,
            responseSerialize: (value) => value.serializeBinary(),
            options: {},
        };
    }
    return result;
}
exports.fromGrpcWebServiceDefinition = fromGrpcWebServiceDefinition;
function isGrpcWebServiceDefinition(definition) {
    return 'prototype' in definition;
}
exports.isGrpcWebServiceDefinition = isGrpcWebServiceDefinition;
function uncapitalize(value) {
    if (value.length === 0) {
        return value;
    }
    return value[0].toLowerCase() + value.slice(1);
}
//# sourceMappingURL=grpc-web.js.map