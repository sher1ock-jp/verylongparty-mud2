import{g as Ut,c as J,a as wb}from"./bundle-b2289479.js";import{r as gd,E as Vr}from"./__polyfill-node.events-e75a050f.js";import{_ as Sb,g as ko,B as Ht}from"./_polyfill-node.buffer-7939f2e9.js";var bd={},is={},To={};Object.defineProperty(To,"__esModule",{value:!0});To.walletLogo=void 0;const Eb=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};To.walletLogo=Eb;var Oo={};Object.defineProperty(Oo,"__esModule",{value:!0});Oo.ScopedLocalStorage=void 0;class Mb{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}Oo.ScopedLocalStorage=Mb;var hi={},Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});const xb=gd;function Bl(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function Cb(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}let Rb=class extends xb.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")Bl(s,this,r);else{const o=s.length,a=Cb(s);for(let u=0;u<o;u+=1)Bl(a[u],this,r)}return!0}};Cn.default=Rb;var vc={exports:{}},fs=Ut(Sb);vc.exports;(function(t){(function(e,r){function n(v,c){if(!v)throw new Error(c||"Assertion failed")}function i(v,c){v.super_=c;var p=function(){};p.prototype=c.prototype,v.prototype=new p,v.prototype.constructor=v}function s(v,c,p){if(s.isBN(v))return v;this.negative=0,this.words=null,this.length=0,this.red=null,v!==null&&((c==="le"||c==="be")&&(p=c,c=10),this._init(v||0,c||10,p||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=fs.Buffer}catch{}s.isBN=function(c){return c instanceof s?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===s.wordSize&&Array.isArray(c.words)},s.max=function(c,p){return c.cmp(p)>0?c:p},s.min=function(c,p){return c.cmp(p)<0?c:p},s.prototype._init=function(c,p,b){if(typeof c=="number")return this._initNumber(c,p,b);if(typeof c=="object")return this._initArray(c,p,b);p==="hex"&&(p=16),n(p===(p|0)&&p>=2&&p<=36),c=c.toString().replace(/\s+/g,"");var y=0;c[0]==="-"&&(y++,this.negative=1),y<c.length&&(p===16?this._parseHex(c,y,b):(this._parseBase(c,p,y),b==="le"&&this._initArray(this.toArray(),p,b)))},s.prototype._initNumber=function(c,p,b){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(n(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),p,b)},s.prototype._initArray=function(c,p,b){if(n(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var _,C,k=0;if(b==="be")for(y=c.length-1,_=0;y>=0;y-=3)C=c[y]|c[y-1]<<8|c[y-2]<<16,this.words[_]|=C<<k&67108863,this.words[_+1]=C>>>26-k&67108863,k+=24,k>=26&&(k-=26,_++);else if(b==="le")for(y=0,_=0;y<c.length;y+=3)C=c[y]|c[y+1]<<8|c[y+2]<<16,this.words[_]|=C<<k&67108863,this.words[_+1]=C>>>26-k&67108863,k+=24,k>=26&&(k-=26,_++);return this._strip()};function a(v,c){var p=v.charCodeAt(c);if(p>=48&&p<=57)return p-48;if(p>=65&&p<=70)return p-55;if(p>=97&&p<=102)return p-87;n(!1,"Invalid character in "+v)}function u(v,c,p){var b=a(v,p);return p-1>=c&&(b|=a(v,p-1)<<4),b}s.prototype._parseHex=function(c,p,b){this.length=Math.ceil((c.length-p)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var _=0,C=0,k;if(b==="be")for(y=c.length-1;y>=p;y-=2)k=u(c,p,y)<<_,this.words[C]|=k&67108863,_>=18?(_-=18,C+=1,this.words[C]|=k>>>26):_+=8;else{var m=c.length-p;for(y=m%2===0?p+1:p;y<c.length;y+=2)k=u(c,p,y)<<_,this.words[C]|=k&67108863,_>=18?(_-=18,C+=1,this.words[C]|=k>>>26):_+=8}this._strip()};function l(v,c,p,b){for(var y=0,_=0,C=Math.min(v.length,p),k=c;k<C;k++){var m=v.charCodeAt(k)-48;y*=b,m>=49?_=m-49+10:m>=17?_=m-17+10:_=m,n(m>=0&&_<b,"Invalid character"),y+=_}return y}s.prototype._parseBase=function(c,p,b){this.words=[0],this.length=1;for(var y=0,_=1;_<=67108863;_*=p)y++;y--,_=_/p|0;for(var C=c.length-b,k=C%y,m=Math.min(C,C-k)+b,h=0,x=b;x<m;x+=y)h=l(c,x,x+y,p),this.imuln(_),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(k!==0){var q=1;for(h=l(c,x,c.length,p),x=0;x<k;x++)q*=p;this.imuln(q),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this._strip()},s.prototype.copy=function(c){c.words=new Array(this.length);for(var p=0;p<this.length;p++)c.words[p]=this.words[p];c.length=this.length,c.negative=this.negative,c.red=this.red};function f(v,c){v.words=c.words,v.length=c.length,v.negative=c.negative,v.red=c.red}if(s.prototype._move=function(c){f(c,this)},s.prototype.clone=function(){var c=new s(null);return this.copy(c),c},s.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch{s.prototype.inspect=d}else s.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(c,p){c=c||10,p=p|0||1;var b;if(c===16||c==="hex"){b="";for(var y=0,_=0,C=0;C<this.length;C++){var k=this.words[C],m=((k<<y|_)&16777215).toString(16);_=k>>>24-y&16777215,y+=2,y>=26&&(y-=26,C--),_!==0||C!==this.length-1?b=g[6-m.length]+m+b:b=m+b}for(_!==0&&(b=_.toString(16)+b);b.length%p!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(c===(c|0)&&c>=2&&c<=36){var h=w[c],x=M[c];b="";var q=this.clone();for(q.negative=0;!q.isZero();){var G=q.modrn(x).toString(c);q=q.idivn(x),q.isZero()?b=G+b:b=g[h-G.length]+G+b}for(this.isZero()&&(b="0"+b);b.length%p!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(c,p){return this.toArrayLike(o,c,p)}),s.prototype.toArray=function(c,p){return this.toArrayLike(Array,c,p)};var T=function(c,p){return c.allocUnsafe?c.allocUnsafe(p):new c(p)};s.prototype.toArrayLike=function(c,p,b){this._strip();var y=this.byteLength(),_=b||Math.max(1,y);n(y<=_,"byte array longer than desired length"),n(_>0,"Requested array length <= 0");var C=T(c,_),k=p==="le"?"LE":"BE";return this["_toArrayLike"+k](C,y),C},s.prototype._toArrayLikeLE=function(c,p){for(var b=0,y=0,_=0,C=0;_<this.length;_++){var k=this.words[_]<<C|y;c[b++]=k&255,b<c.length&&(c[b++]=k>>8&255),b<c.length&&(c[b++]=k>>16&255),C===6?(b<c.length&&(c[b++]=k>>24&255),y=0,C=0):(y=k>>>24,C+=2)}if(b<c.length)for(c[b++]=y;b<c.length;)c[b++]=0},s.prototype._toArrayLikeBE=function(c,p){for(var b=c.length-1,y=0,_=0,C=0;_<this.length;_++){var k=this.words[_]<<C|y;c[b--]=k&255,b>=0&&(c[b--]=k>>8&255),b>=0&&(c[b--]=k>>16&255),C===6?(b>=0&&(c[b--]=k>>24&255),y=0,C=0):(y=k>>>24,C+=2)}if(b>=0)for(c[b--]=y;b>=0;)c[b--]=0},Math.clz32?s.prototype._countBits=function(c){return 32-Math.clz32(c)}:s.prototype._countBits=function(c){var p=c,b=0;return p>=4096&&(b+=13,p>>>=13),p>=64&&(b+=7,p>>>=7),p>=8&&(b+=4,p>>>=4),p>=2&&(b+=2,p>>>=2),b+p},s.prototype._zeroBits=function(c){if(c===0)return 26;var p=c,b=0;return p&8191||(b+=13,p>>>=13),p&127||(b+=7,p>>>=7),p&15||(b+=4,p>>>=4),p&3||(b+=2,p>>>=2),p&1||b++,b},s.prototype.bitLength=function(){var c=this.words[this.length-1],p=this._countBits(c);return(this.length-1)*26+p};function O(v){for(var c=new Array(v.bitLength()),p=0;p<c.length;p++){var b=p/26|0,y=p%26;c[p]=v.words[b]>>>y&1}return c}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,p=0;p<this.length;p++){var b=this._zeroBits(this.words[p]);if(c+=b,b!==26)break}return c},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},s.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var p=0;p<c.length;p++)this.words[p]=this.words[p]|c.words[p];return this._strip()},s.prototype.ior=function(c){return n((this.negative|c.negative)===0),this.iuor(c)},s.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},s.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},s.prototype.iuand=function(c){var p;this.length>c.length?p=c:p=this;for(var b=0;b<p.length;b++)this.words[b]=this.words[b]&c.words[b];return this.length=p.length,this._strip()},s.prototype.iand=function(c){return n((this.negative|c.negative)===0),this.iuand(c)},s.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},s.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},s.prototype.iuxor=function(c){var p,b;this.length>c.length?(p=this,b=c):(p=c,b=this);for(var y=0;y<b.length;y++)this.words[y]=p.words[y]^b.words[y];if(this!==p)for(;y<p.length;y++)this.words[y]=p.words[y];return this.length=p.length,this._strip()},s.prototype.ixor=function(c){return n((this.negative|c.negative)===0),this.iuxor(c)},s.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},s.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},s.prototype.inotn=function(c){n(typeof c=="number"&&c>=0);var p=Math.ceil(c/26)|0,b=c%26;this._expand(p),b>0&&p--;for(var y=0;y<p;y++)this.words[y]=~this.words[y]&67108863;return b>0&&(this.words[y]=~this.words[y]&67108863>>26-b),this._strip()},s.prototype.notn=function(c){return this.clone().inotn(c)},s.prototype.setn=function(c,p){n(typeof c=="number"&&c>=0);var b=c/26|0,y=c%26;return this._expand(b+1),p?this.words[b]=this.words[b]|1<<y:this.words[b]=this.words[b]&~(1<<y),this._strip()},s.prototype.iadd=function(c){var p;if(this.negative!==0&&c.negative===0)return this.negative=0,p=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,p=this.isub(c),c.negative=1,p._normSign();var b,y;this.length>c.length?(b=this,y=c):(b=c,y=this);for(var _=0,C=0;C<y.length;C++)p=(b.words[C]|0)+(y.words[C]|0)+_,this.words[C]=p&67108863,_=p>>>26;for(;_!==0&&C<b.length;C++)p=(b.words[C]|0)+_,this.words[C]=p&67108863,_=p>>>26;if(this.length=b.length,_!==0)this.words[this.length]=_,this.length++;else if(b!==this)for(;C<b.length;C++)this.words[C]=b.words[C];return this},s.prototype.add=function(c){var p;return c.negative!==0&&this.negative===0?(c.negative=0,p=this.sub(c),c.negative^=1,p):c.negative===0&&this.negative!==0?(this.negative=0,p=c.sub(this),this.negative=1,p):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},s.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var p=this.iadd(c);return c.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var b=this.cmp(c);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,_;b>0?(y=this,_=c):(y=c,_=this);for(var C=0,k=0;k<_.length;k++)p=(y.words[k]|0)-(_.words[k]|0)+C,C=p>>26,this.words[k]=p&67108863;for(;C!==0&&k<y.length;k++)p=(y.words[k]|0)+C,C=p>>26,this.words[k]=p&67108863;if(C===0&&k<y.length&&y!==this)for(;k<y.length;k++)this.words[k]=y.words[k];return this.length=Math.max(this.length,k),y!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(c){return this.clone().isub(c)};function I(v,c,p){p.negative=c.negative^v.negative;var b=v.length+c.length|0;p.length=b,b=b-1|0;var y=v.words[0]|0,_=c.words[0]|0,C=y*_,k=C&67108863,m=C/67108864|0;p.words[0]=k;for(var h=1;h<b;h++){for(var x=m>>>26,q=m&67108863,G=Math.min(h,c.length-1),A=Math.max(0,h-v.length+1);A<=G;A++){var $=h-A|0;y=v.words[$]|0,_=c.words[A]|0,C=y*_+q,x+=C/67108864|0,q=C&67108863}p.words[h]=q|0,m=x|0}return m!==0?p.words[h]=m|0:p.length--,p._strip()}var L=function(c,p,b){var y=c.words,_=p.words,C=b.words,k=0,m,h,x,q=y[0]|0,G=q&8191,A=q>>>13,$=y[1]|0,j=$&8191,z=$>>>13,oe=y[2]|0,S=oe&8191,E=oe>>>13,W=y[3]|0,U=W&8191,re=W>>>13,se=y[4]|0,ee=se&8191,de=se>>>13,rr=y[5]|0,Se=rr&8191,Me=rr>>>13,Ir=y[6]|0,ye=Ir&8191,me=Ir>>>13,yr=y[7]|0,be=yr&8191,pe=yr>>>13,Rt=y[8]|0,xe=Rt&8191,Ce=Rt>>>13,Dn=y[9]|0,Re=Dn&8191,Ie=Dn>>>13,jn=_[0]|0,Ae=jn&8191,ke=jn>>>13,Bn=_[1]|0,Te=Bn&8191,Oe=Bn>>>13,Fn=_[2]|0,Ne=Fn&8191,Le=Fn>>>13,Wn=_[3]|0,Pe=Wn&8191,$e=Wn>>>13,Hn=_[4]|0,De=Hn&8191,je=Hn>>>13,Un=_[5]|0,Be=Un&8191,Fe=Un>>>13,Vn=_[6]|0,We=Vn&8191,He=Vn>>>13,zn=_[7]|0,Ue=zn&8191,Ve=zn>>>13,qn=_[8]|0,ze=qn&8191,qe=qn>>>13,Gn=_[9]|0,Ge=Gn&8191,Je=Gn>>>13;b.negative=c.negative^p.negative,b.length=19,m=Math.imul(G,Ae),h=Math.imul(G,ke),h=h+Math.imul(A,Ae)|0,x=Math.imul(A,ke);var Jr=(k+m|0)+((h&8191)<<13)|0;k=(x+(h>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,m=Math.imul(j,Ae),h=Math.imul(j,ke),h=h+Math.imul(z,Ae)|0,x=Math.imul(z,ke),m=m+Math.imul(G,Te)|0,h=h+Math.imul(G,Oe)|0,h=h+Math.imul(A,Te)|0,x=x+Math.imul(A,Oe)|0;var Zr=(k+m|0)+((h&8191)<<13)|0;k=(x+(h>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,m=Math.imul(S,Ae),h=Math.imul(S,ke),h=h+Math.imul(E,Ae)|0,x=Math.imul(E,ke),m=m+Math.imul(j,Te)|0,h=h+Math.imul(j,Oe)|0,h=h+Math.imul(z,Te)|0,x=x+Math.imul(z,Oe)|0,m=m+Math.imul(G,Ne)|0,h=h+Math.imul(G,Le)|0,h=h+Math.imul(A,Ne)|0,x=x+Math.imul(A,Le)|0;var Qr=(k+m|0)+((h&8191)<<13)|0;k=(x+(h>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,m=Math.imul(U,Ae),h=Math.imul(U,ke),h=h+Math.imul(re,Ae)|0,x=Math.imul(re,ke),m=m+Math.imul(S,Te)|0,h=h+Math.imul(S,Oe)|0,h=h+Math.imul(E,Te)|0,x=x+Math.imul(E,Oe)|0,m=m+Math.imul(j,Ne)|0,h=h+Math.imul(j,Le)|0,h=h+Math.imul(z,Ne)|0,x=x+Math.imul(z,Le)|0,m=m+Math.imul(G,Pe)|0,h=h+Math.imul(G,$e)|0,h=h+Math.imul(A,Pe)|0,x=x+Math.imul(A,$e)|0;var Yr=(k+m|0)+((h&8191)<<13)|0;k=(x+(h>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,m=Math.imul(ee,Ae),h=Math.imul(ee,ke),h=h+Math.imul(de,Ae)|0,x=Math.imul(de,ke),m=m+Math.imul(U,Te)|0,h=h+Math.imul(U,Oe)|0,h=h+Math.imul(re,Te)|0,x=x+Math.imul(re,Oe)|0,m=m+Math.imul(S,Ne)|0,h=h+Math.imul(S,Le)|0,h=h+Math.imul(E,Ne)|0,x=x+Math.imul(E,Le)|0,m=m+Math.imul(j,Pe)|0,h=h+Math.imul(j,$e)|0,h=h+Math.imul(z,Pe)|0,x=x+Math.imul(z,$e)|0,m=m+Math.imul(G,De)|0,h=h+Math.imul(G,je)|0,h=h+Math.imul(A,De)|0,x=x+Math.imul(A,je)|0;var Kr=(k+m|0)+((h&8191)<<13)|0;k=(x+(h>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,m=Math.imul(Se,Ae),h=Math.imul(Se,ke),h=h+Math.imul(Me,Ae)|0,x=Math.imul(Me,ke),m=m+Math.imul(ee,Te)|0,h=h+Math.imul(ee,Oe)|0,h=h+Math.imul(de,Te)|0,x=x+Math.imul(de,Oe)|0,m=m+Math.imul(U,Ne)|0,h=h+Math.imul(U,Le)|0,h=h+Math.imul(re,Ne)|0,x=x+Math.imul(re,Le)|0,m=m+Math.imul(S,Pe)|0,h=h+Math.imul(S,$e)|0,h=h+Math.imul(E,Pe)|0,x=x+Math.imul(E,$e)|0,m=m+Math.imul(j,De)|0,h=h+Math.imul(j,je)|0,h=h+Math.imul(z,De)|0,x=x+Math.imul(z,je)|0,m=m+Math.imul(G,Be)|0,h=h+Math.imul(G,Fe)|0,h=h+Math.imul(A,Be)|0,x=x+Math.imul(A,Fe)|0;var Xr=(k+m|0)+((h&8191)<<13)|0;k=(x+(h>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,m=Math.imul(ye,Ae),h=Math.imul(ye,ke),h=h+Math.imul(me,Ae)|0,x=Math.imul(me,ke),m=m+Math.imul(Se,Te)|0,h=h+Math.imul(Se,Oe)|0,h=h+Math.imul(Me,Te)|0,x=x+Math.imul(Me,Oe)|0,m=m+Math.imul(ee,Ne)|0,h=h+Math.imul(ee,Le)|0,h=h+Math.imul(de,Ne)|0,x=x+Math.imul(de,Le)|0,m=m+Math.imul(U,Pe)|0,h=h+Math.imul(U,$e)|0,h=h+Math.imul(re,Pe)|0,x=x+Math.imul(re,$e)|0,m=m+Math.imul(S,De)|0,h=h+Math.imul(S,je)|0,h=h+Math.imul(E,De)|0,x=x+Math.imul(E,je)|0,m=m+Math.imul(j,Be)|0,h=h+Math.imul(j,Fe)|0,h=h+Math.imul(z,Be)|0,x=x+Math.imul(z,Fe)|0,m=m+Math.imul(G,We)|0,h=h+Math.imul(G,He)|0,h=h+Math.imul(A,We)|0,x=x+Math.imul(A,He)|0;var en=(k+m|0)+((h&8191)<<13)|0;k=(x+(h>>>13)|0)+(en>>>26)|0,en&=67108863,m=Math.imul(be,Ae),h=Math.imul(be,ke),h=h+Math.imul(pe,Ae)|0,x=Math.imul(pe,ke),m=m+Math.imul(ye,Te)|0,h=h+Math.imul(ye,Oe)|0,h=h+Math.imul(me,Te)|0,x=x+Math.imul(me,Oe)|0,m=m+Math.imul(Se,Ne)|0,h=h+Math.imul(Se,Le)|0,h=h+Math.imul(Me,Ne)|0,x=x+Math.imul(Me,Le)|0,m=m+Math.imul(ee,Pe)|0,h=h+Math.imul(ee,$e)|0,h=h+Math.imul(de,Pe)|0,x=x+Math.imul(de,$e)|0,m=m+Math.imul(U,De)|0,h=h+Math.imul(U,je)|0,h=h+Math.imul(re,De)|0,x=x+Math.imul(re,je)|0,m=m+Math.imul(S,Be)|0,h=h+Math.imul(S,Fe)|0,h=h+Math.imul(E,Be)|0,x=x+Math.imul(E,Fe)|0,m=m+Math.imul(j,We)|0,h=h+Math.imul(j,He)|0,h=h+Math.imul(z,We)|0,x=x+Math.imul(z,He)|0,m=m+Math.imul(G,Ue)|0,h=h+Math.imul(G,Ve)|0,h=h+Math.imul(A,Ue)|0,x=x+Math.imul(A,Ve)|0;var tn=(k+m|0)+((h&8191)<<13)|0;k=(x+(h>>>13)|0)+(tn>>>26)|0,tn&=67108863,m=Math.imul(xe,Ae),h=Math.imul(xe,ke),h=h+Math.imul(Ce,Ae)|0,x=Math.imul(Ce,ke),m=m+Math.imul(be,Te)|0,h=h+Math.imul(be,Oe)|0,h=h+Math.imul(pe,Te)|0,x=x+Math.imul(pe,Oe)|0,m=m+Math.imul(ye,Ne)|0,h=h+Math.imul(ye,Le)|0,h=h+Math.imul(me,Ne)|0,x=x+Math.imul(me,Le)|0,m=m+Math.imul(Se,Pe)|0,h=h+Math.imul(Se,$e)|0,h=h+Math.imul(Me,Pe)|0,x=x+Math.imul(Me,$e)|0,m=m+Math.imul(ee,De)|0,h=h+Math.imul(ee,je)|0,h=h+Math.imul(de,De)|0,x=x+Math.imul(de,je)|0,m=m+Math.imul(U,Be)|0,h=h+Math.imul(U,Fe)|0,h=h+Math.imul(re,Be)|0,x=x+Math.imul(re,Fe)|0,m=m+Math.imul(S,We)|0,h=h+Math.imul(S,He)|0,h=h+Math.imul(E,We)|0,x=x+Math.imul(E,He)|0,m=m+Math.imul(j,Ue)|0,h=h+Math.imul(j,Ve)|0,h=h+Math.imul(z,Ue)|0,x=x+Math.imul(z,Ve)|0,m=m+Math.imul(G,ze)|0,h=h+Math.imul(G,qe)|0,h=h+Math.imul(A,ze)|0,x=x+Math.imul(A,qe)|0;var rn=(k+m|0)+((h&8191)<<13)|0;k=(x+(h>>>13)|0)+(rn>>>26)|0,rn&=67108863,m=Math.imul(Re,Ae),h=Math.imul(Re,ke),h=h+Math.imul(Ie,Ae)|0,x=Math.imul(Ie,ke),m=m+Math.imul(xe,Te)|0,h=h+Math.imul(xe,Oe)|0,h=h+Math.imul(Ce,Te)|0,x=x+Math.imul(Ce,Oe)|0,m=m+Math.imul(be,Ne)|0,h=h+Math.imul(be,Le)|0,h=h+Math.imul(pe,Ne)|0,x=x+Math.imul(pe,Le)|0,m=m+Math.imul(ye,Pe)|0,h=h+Math.imul(ye,$e)|0,h=h+Math.imul(me,Pe)|0,x=x+Math.imul(me,$e)|0,m=m+Math.imul(Se,De)|0,h=h+Math.imul(Se,je)|0,h=h+Math.imul(Me,De)|0,x=x+Math.imul(Me,je)|0,m=m+Math.imul(ee,Be)|0,h=h+Math.imul(ee,Fe)|0,h=h+Math.imul(de,Be)|0,x=x+Math.imul(de,Fe)|0,m=m+Math.imul(U,We)|0,h=h+Math.imul(U,He)|0,h=h+Math.imul(re,We)|0,x=x+Math.imul(re,He)|0,m=m+Math.imul(S,Ue)|0,h=h+Math.imul(S,Ve)|0,h=h+Math.imul(E,Ue)|0,x=x+Math.imul(E,Ve)|0,m=m+Math.imul(j,ze)|0,h=h+Math.imul(j,qe)|0,h=h+Math.imul(z,ze)|0,x=x+Math.imul(z,qe)|0,m=m+Math.imul(G,Ge)|0,h=h+Math.imul(G,Je)|0,h=h+Math.imul(A,Ge)|0,x=x+Math.imul(A,Je)|0;var nn=(k+m|0)+((h&8191)<<13)|0;k=(x+(h>>>13)|0)+(nn>>>26)|0,nn&=67108863,m=Math.imul(Re,Te),h=Math.imul(Re,Oe),h=h+Math.imul(Ie,Te)|0,x=Math.imul(Ie,Oe),m=m+Math.imul(xe,Ne)|0,h=h+Math.imul(xe,Le)|0,h=h+Math.imul(Ce,Ne)|0,x=x+Math.imul(Ce,Le)|0,m=m+Math.imul(be,Pe)|0,h=h+Math.imul(be,$e)|0,h=h+Math.imul(pe,Pe)|0,x=x+Math.imul(pe,$e)|0,m=m+Math.imul(ye,De)|0,h=h+Math.imul(ye,je)|0,h=h+Math.imul(me,De)|0,x=x+Math.imul(me,je)|0,m=m+Math.imul(Se,Be)|0,h=h+Math.imul(Se,Fe)|0,h=h+Math.imul(Me,Be)|0,x=x+Math.imul(Me,Fe)|0,m=m+Math.imul(ee,We)|0,h=h+Math.imul(ee,He)|0,h=h+Math.imul(de,We)|0,x=x+Math.imul(de,He)|0,m=m+Math.imul(U,Ue)|0,h=h+Math.imul(U,Ve)|0,h=h+Math.imul(re,Ue)|0,x=x+Math.imul(re,Ve)|0,m=m+Math.imul(S,ze)|0,h=h+Math.imul(S,qe)|0,h=h+Math.imul(E,ze)|0,x=x+Math.imul(E,qe)|0,m=m+Math.imul(j,Ge)|0,h=h+Math.imul(j,Je)|0,h=h+Math.imul(z,Ge)|0,x=x+Math.imul(z,Je)|0;var sn=(k+m|0)+((h&8191)<<13)|0;k=(x+(h>>>13)|0)+(sn>>>26)|0,sn&=67108863,m=Math.imul(Re,Ne),h=Math.imul(Re,Le),h=h+Math.imul(Ie,Ne)|0,x=Math.imul(Ie,Le),m=m+Math.imul(xe,Pe)|0,h=h+Math.imul(xe,$e)|0,h=h+Math.imul(Ce,Pe)|0,x=x+Math.imul(Ce,$e)|0,m=m+Math.imul(be,De)|0,h=h+Math.imul(be,je)|0,h=h+Math.imul(pe,De)|0,x=x+Math.imul(pe,je)|0,m=m+Math.imul(ye,Be)|0,h=h+Math.imul(ye,Fe)|0,h=h+Math.imul(me,Be)|0,x=x+Math.imul(me,Fe)|0,m=m+Math.imul(Se,We)|0,h=h+Math.imul(Se,He)|0,h=h+Math.imul(Me,We)|0,x=x+Math.imul(Me,He)|0,m=m+Math.imul(ee,Ue)|0,h=h+Math.imul(ee,Ve)|0,h=h+Math.imul(de,Ue)|0,x=x+Math.imul(de,Ve)|0,m=m+Math.imul(U,ze)|0,h=h+Math.imul(U,qe)|0,h=h+Math.imul(re,ze)|0,x=x+Math.imul(re,qe)|0,m=m+Math.imul(S,Ge)|0,h=h+Math.imul(S,Je)|0,h=h+Math.imul(E,Ge)|0,x=x+Math.imul(E,Je)|0;var on=(k+m|0)+((h&8191)<<13)|0;k=(x+(h>>>13)|0)+(on>>>26)|0,on&=67108863,m=Math.imul(Re,Pe),h=Math.imul(Re,$e),h=h+Math.imul(Ie,Pe)|0,x=Math.imul(Ie,$e),m=m+Math.imul(xe,De)|0,h=h+Math.imul(xe,je)|0,h=h+Math.imul(Ce,De)|0,x=x+Math.imul(Ce,je)|0,m=m+Math.imul(be,Be)|0,h=h+Math.imul(be,Fe)|0,h=h+Math.imul(pe,Be)|0,x=x+Math.imul(pe,Fe)|0,m=m+Math.imul(ye,We)|0,h=h+Math.imul(ye,He)|0,h=h+Math.imul(me,We)|0,x=x+Math.imul(me,He)|0,m=m+Math.imul(Se,Ue)|0,h=h+Math.imul(Se,Ve)|0,h=h+Math.imul(Me,Ue)|0,x=x+Math.imul(Me,Ve)|0,m=m+Math.imul(ee,ze)|0,h=h+Math.imul(ee,qe)|0,h=h+Math.imul(de,ze)|0,x=x+Math.imul(de,qe)|0,m=m+Math.imul(U,Ge)|0,h=h+Math.imul(U,Je)|0,h=h+Math.imul(re,Ge)|0,x=x+Math.imul(re,Je)|0;var an=(k+m|0)+((h&8191)<<13)|0;k=(x+(h>>>13)|0)+(an>>>26)|0,an&=67108863,m=Math.imul(Re,De),h=Math.imul(Re,je),h=h+Math.imul(Ie,De)|0,x=Math.imul(Ie,je),m=m+Math.imul(xe,Be)|0,h=h+Math.imul(xe,Fe)|0,h=h+Math.imul(Ce,Be)|0,x=x+Math.imul(Ce,Fe)|0,m=m+Math.imul(be,We)|0,h=h+Math.imul(be,He)|0,h=h+Math.imul(pe,We)|0,x=x+Math.imul(pe,He)|0,m=m+Math.imul(ye,Ue)|0,h=h+Math.imul(ye,Ve)|0,h=h+Math.imul(me,Ue)|0,x=x+Math.imul(me,Ve)|0,m=m+Math.imul(Se,ze)|0,h=h+Math.imul(Se,qe)|0,h=h+Math.imul(Me,ze)|0,x=x+Math.imul(Me,qe)|0,m=m+Math.imul(ee,Ge)|0,h=h+Math.imul(ee,Je)|0,h=h+Math.imul(de,Ge)|0,x=x+Math.imul(de,Je)|0;var un=(k+m|0)+((h&8191)<<13)|0;k=(x+(h>>>13)|0)+(un>>>26)|0,un&=67108863,m=Math.imul(Re,Be),h=Math.imul(Re,Fe),h=h+Math.imul(Ie,Be)|0,x=Math.imul(Ie,Fe),m=m+Math.imul(xe,We)|0,h=h+Math.imul(xe,He)|0,h=h+Math.imul(Ce,We)|0,x=x+Math.imul(Ce,He)|0,m=m+Math.imul(be,Ue)|0,h=h+Math.imul(be,Ve)|0,h=h+Math.imul(pe,Ue)|0,x=x+Math.imul(pe,Ve)|0,m=m+Math.imul(ye,ze)|0,h=h+Math.imul(ye,qe)|0,h=h+Math.imul(me,ze)|0,x=x+Math.imul(me,qe)|0,m=m+Math.imul(Se,Ge)|0,h=h+Math.imul(Se,Je)|0,h=h+Math.imul(Me,Ge)|0,x=x+Math.imul(Me,Je)|0;var Ba=(k+m|0)+((h&8191)<<13)|0;k=(x+(h>>>13)|0)+(Ba>>>26)|0,Ba&=67108863,m=Math.imul(Re,We),h=Math.imul(Re,He),h=h+Math.imul(Ie,We)|0,x=Math.imul(Ie,He),m=m+Math.imul(xe,Ue)|0,h=h+Math.imul(xe,Ve)|0,h=h+Math.imul(Ce,Ue)|0,x=x+Math.imul(Ce,Ve)|0,m=m+Math.imul(be,ze)|0,h=h+Math.imul(be,qe)|0,h=h+Math.imul(pe,ze)|0,x=x+Math.imul(pe,qe)|0,m=m+Math.imul(ye,Ge)|0,h=h+Math.imul(ye,Je)|0,h=h+Math.imul(me,Ge)|0,x=x+Math.imul(me,Je)|0;var Fa=(k+m|0)+((h&8191)<<13)|0;k=(x+(h>>>13)|0)+(Fa>>>26)|0,Fa&=67108863,m=Math.imul(Re,Ue),h=Math.imul(Re,Ve),h=h+Math.imul(Ie,Ue)|0,x=Math.imul(Ie,Ve),m=m+Math.imul(xe,ze)|0,h=h+Math.imul(xe,qe)|0,h=h+Math.imul(Ce,ze)|0,x=x+Math.imul(Ce,qe)|0,m=m+Math.imul(be,Ge)|0,h=h+Math.imul(be,Je)|0,h=h+Math.imul(pe,Ge)|0,x=x+Math.imul(pe,Je)|0;var Wa=(k+m|0)+((h&8191)<<13)|0;k=(x+(h>>>13)|0)+(Wa>>>26)|0,Wa&=67108863,m=Math.imul(Re,ze),h=Math.imul(Re,qe),h=h+Math.imul(Ie,ze)|0,x=Math.imul(Ie,qe),m=m+Math.imul(xe,Ge)|0,h=h+Math.imul(xe,Je)|0,h=h+Math.imul(Ce,Ge)|0,x=x+Math.imul(Ce,Je)|0;var Ha=(k+m|0)+((h&8191)<<13)|0;k=(x+(h>>>13)|0)+(Ha>>>26)|0,Ha&=67108863,m=Math.imul(Re,Ge),h=Math.imul(Re,Je),h=h+Math.imul(Ie,Ge)|0,x=Math.imul(Ie,Je);var Ua=(k+m|0)+((h&8191)<<13)|0;return k=(x+(h>>>13)|0)+(Ua>>>26)|0,Ua&=67108863,C[0]=Jr,C[1]=Zr,C[2]=Qr,C[3]=Yr,C[4]=Kr,C[5]=Xr,C[6]=en,C[7]=tn,C[8]=rn,C[9]=nn,C[10]=sn,C[11]=on,C[12]=an,C[13]=un,C[14]=Ba,C[15]=Fa,C[16]=Wa,C[17]=Ha,C[18]=Ua,k!==0&&(C[19]=k,b.length++),b};Math.imul||(L=I);function P(v,c,p){p.negative=c.negative^v.negative,p.length=v.length+c.length;for(var b=0,y=0,_=0;_<p.length-1;_++){var C=y;y=0;for(var k=b&67108863,m=Math.min(_,c.length-1),h=Math.max(0,_-v.length+1);h<=m;h++){var x=_-h,q=v.words[x]|0,G=c.words[h]|0,A=q*G,$=A&67108863;C=C+(A/67108864|0)|0,$=$+k|0,k=$&67108863,C=C+($>>>26)|0,y+=C>>>26,C&=67108863}p.words[_]=k,b=C,C=y}return b!==0?p.words[_]=b:p.length--,p._strip()}function R(v,c,p){return P(v,c,p)}s.prototype.mulTo=function(c,p){var b,y=this.length+c.length;return this.length===10&&c.length===10?b=L(this,c,p):y<63?b=I(this,c,p):y<1024?b=P(this,c,p):b=R(this,c,p),b},s.prototype.mul=function(c){var p=new s(null);return p.words=new Array(this.length+c.length),this.mulTo(c,p)},s.prototype.mulf=function(c){var p=new s(null);return p.words=new Array(this.length+c.length),R(this,c,p)},s.prototype.imul=function(c){return this.clone().mulTo(c,this)},s.prototype.imuln=function(c){var p=c<0;p&&(c=-c),n(typeof c=="number"),n(c<67108864);for(var b=0,y=0;y<this.length;y++){var _=(this.words[y]|0)*c,C=(_&67108863)+(b&67108863);b>>=26,b+=_/67108864|0,b+=C>>>26,this.words[y]=C&67108863}return b!==0&&(this.words[y]=b,this.length++),p?this.ineg():this},s.prototype.muln=function(c){return this.clone().imuln(c)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(c){var p=O(c);if(p.length===0)return new s(1);for(var b=this,y=0;y<p.length&&p[y]===0;y++,b=b.sqr());if(++y<p.length)for(var _=b.sqr();y<p.length;y++,_=_.sqr())p[y]!==0&&(b=b.mul(_));return b},s.prototype.iushln=function(c){n(typeof c=="number"&&c>=0);var p=c%26,b=(c-p)/26,y=67108863>>>26-p<<26-p,_;if(p!==0){var C=0;for(_=0;_<this.length;_++){var k=this.words[_]&y,m=(this.words[_]|0)-k<<p;this.words[_]=m|C,C=k>>>26-p}C&&(this.words[_]=C,this.length++)}if(b!==0){for(_=this.length-1;_>=0;_--)this.words[_+b]=this.words[_];for(_=0;_<b;_++)this.words[_]=0;this.length+=b}return this._strip()},s.prototype.ishln=function(c){return n(this.negative===0),this.iushln(c)},s.prototype.iushrn=function(c,p,b){n(typeof c=="number"&&c>=0);var y;p?y=(p-p%26)/26:y=0;var _=c%26,C=Math.min((c-_)/26,this.length),k=67108863^67108863>>>_<<_,m=b;if(y-=C,y=Math.max(0,y),m){for(var h=0;h<C;h++)m.words[h]=this.words[h];m.length=C}if(C!==0)if(this.length>C)for(this.length-=C,h=0;h<this.length;h++)this.words[h]=this.words[h+C];else this.words[0]=0,this.length=1;var x=0;for(h=this.length-1;h>=0&&(x!==0||h>=y);h--){var q=this.words[h]|0;this.words[h]=x<<26-_|q>>>_,x=q&k}return m&&x!==0&&(m.words[m.length++]=x),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(c,p,b){return n(this.negative===0),this.iushrn(c,p,b)},s.prototype.shln=function(c){return this.clone().ishln(c)},s.prototype.ushln=function(c){return this.clone().iushln(c)},s.prototype.shrn=function(c){return this.clone().ishrn(c)},s.prototype.ushrn=function(c){return this.clone().iushrn(c)},s.prototype.testn=function(c){n(typeof c=="number"&&c>=0);var p=c%26,b=(c-p)/26,y=1<<p;if(this.length<=b)return!1;var _=this.words[b];return!!(_&y)},s.prototype.imaskn=function(c){n(typeof c=="number"&&c>=0);var p=c%26,b=(c-p)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(p!==0&&b++,this.length=Math.min(b,this.length),p!==0){var y=67108863^67108863>>>p<<p;this.words[this.length-1]&=y}return this._strip()},s.prototype.maskn=function(c){return this.clone().imaskn(c)},s.prototype.iaddn=function(c){return n(typeof c=="number"),n(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<=c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},s.prototype._iaddn=function(c){this.words[0]+=c;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},s.prototype.isubn=function(c){if(n(typeof c=="number"),n(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this._strip()},s.prototype.addn=function(c){return this.clone().iaddn(c)},s.prototype.subn=function(c){return this.clone().isubn(c)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(c,p,b){var y=c.length+b,_;this._expand(y);var C,k=0;for(_=0;_<c.length;_++){C=(this.words[_+b]|0)+k;var m=(c.words[_]|0)*p;C-=m&67108863,k=(C>>26)-(m/67108864|0),this.words[_+b]=C&67108863}for(;_<this.length-b;_++)C=(this.words[_+b]|0)+k,k=C>>26,this.words[_+b]=C&67108863;if(k===0)return this._strip();for(n(k===-1),k=0,_=0;_<this.length;_++)C=-(this.words[_]|0)+k,k=C>>26,this.words[_]=C&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(c,p){var b=this.length-c.length,y=this.clone(),_=c,C=_.words[_.length-1]|0,k=this._countBits(C);b=26-k,b!==0&&(_=_.ushln(b),y.iushln(b),C=_.words[_.length-1]|0);var m=y.length-_.length,h;if(p!=="mod"){h=new s(null),h.length=m+1,h.words=new Array(h.length);for(var x=0;x<h.length;x++)h.words[x]=0}var q=y.clone()._ishlnsubmul(_,1,m);q.negative===0&&(y=q,h&&(h.words[m]=1));for(var G=m-1;G>=0;G--){var A=(y.words[_.length+G]|0)*67108864+(y.words[_.length+G-1]|0);for(A=Math.min(A/C|0,67108863),y._ishlnsubmul(_,A,G);y.negative!==0;)A--,y.negative=0,y._ishlnsubmul(_,1,G),y.isZero()||(y.negative^=1);h&&(h.words[G]=A)}return h&&h._strip(),y._strip(),p!=="div"&&b!==0&&y.iushrn(b),{div:h||null,mod:y}},s.prototype.divmod=function(c,p,b){if(n(!c.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var y,_,C;return this.negative!==0&&c.negative===0?(C=this.neg().divmod(c,p),p!=="mod"&&(y=C.div.neg()),p!=="div"&&(_=C.mod.neg(),b&&_.negative!==0&&_.iadd(c)),{div:y,mod:_}):this.negative===0&&c.negative!==0?(C=this.divmod(c.neg(),p),p!=="mod"&&(y=C.div.neg()),{div:y,mod:C.mod}):this.negative&c.negative?(C=this.neg().divmod(c.neg(),p),p!=="div"&&(_=C.mod.neg(),b&&_.negative!==0&&_.isub(c)),{div:C.div,mod:_}):c.length>this.length||this.cmp(c)<0?{div:new s(0),mod:this}:c.length===1?p==="div"?{div:this.divn(c.words[0]),mod:null}:p==="mod"?{div:null,mod:new s(this.modrn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new s(this.modrn(c.words[0]))}:this._wordDiv(c,p)},s.prototype.div=function(c){return this.divmod(c,"div",!1).div},s.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},s.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},s.prototype.divRound=function(c){var p=this.divmod(c);if(p.mod.isZero())return p.div;var b=p.div.negative!==0?p.mod.isub(c):p.mod,y=c.ushrn(1),_=c.andln(1),C=b.cmp(y);return C<0||_===1&&C===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},s.prototype.modrn=function(c){var p=c<0;p&&(c=-c),n(c<=67108863);for(var b=(1<<26)%c,y=0,_=this.length-1;_>=0;_--)y=(b*y+(this.words[_]|0))%c;return p?-y:y},s.prototype.modn=function(c){return this.modrn(c)},s.prototype.idivn=function(c){var p=c<0;p&&(c=-c),n(c<=67108863);for(var b=0,y=this.length-1;y>=0;y--){var _=(this.words[y]|0)+b*67108864;this.words[y]=_/c|0,b=_%c}return this._strip(),p?this.ineg():this},s.prototype.divn=function(c){return this.clone().idivn(c)},s.prototype.egcd=function(c){n(c.negative===0),n(!c.isZero());var p=this,b=c.clone();p.negative!==0?p=p.umod(c):p=p.clone();for(var y=new s(1),_=new s(0),C=new s(0),k=new s(1),m=0;p.isEven()&&b.isEven();)p.iushrn(1),b.iushrn(1),++m;for(var h=b.clone(),x=p.clone();!p.isZero();){for(var q=0,G=1;!(p.words[0]&G)&&q<26;++q,G<<=1);if(q>0)for(p.iushrn(q);q-- >0;)(y.isOdd()||_.isOdd())&&(y.iadd(h),_.isub(x)),y.iushrn(1),_.iushrn(1);for(var A=0,$=1;!(b.words[0]&$)&&A<26;++A,$<<=1);if(A>0)for(b.iushrn(A);A-- >0;)(C.isOdd()||k.isOdd())&&(C.iadd(h),k.isub(x)),C.iushrn(1),k.iushrn(1);p.cmp(b)>=0?(p.isub(b),y.isub(C),_.isub(k)):(b.isub(p),C.isub(y),k.isub(_))}return{a:C,b:k,gcd:b.iushln(m)}},s.prototype._invmp=function(c){n(c.negative===0),n(!c.isZero());var p=this,b=c.clone();p.negative!==0?p=p.umod(c):p=p.clone();for(var y=new s(1),_=new s(0),C=b.clone();p.cmpn(1)>0&&b.cmpn(1)>0;){for(var k=0,m=1;!(p.words[0]&m)&&k<26;++k,m<<=1);if(k>0)for(p.iushrn(k);k-- >0;)y.isOdd()&&y.iadd(C),y.iushrn(1);for(var h=0,x=1;!(b.words[0]&x)&&h<26;++h,x<<=1);if(h>0)for(b.iushrn(h);h-- >0;)_.isOdd()&&_.iadd(C),_.iushrn(1);p.cmp(b)>=0?(p.isub(b),y.isub(_)):(b.isub(p),_.isub(y))}var q;return p.cmpn(1)===0?q=y:q=_,q.cmpn(0)<0&&q.iadd(c),q},s.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var p=this.clone(),b=c.clone();p.negative=0,b.negative=0;for(var y=0;p.isEven()&&b.isEven();y++)p.iushrn(1),b.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;b.isEven();)b.iushrn(1);var _=p.cmp(b);if(_<0){var C=p;p=b,b=C}else if(_===0||b.cmpn(1)===0)break;p.isub(b)}while(!0);return b.iushln(y)},s.prototype.invm=function(c){return this.egcd(c).a.umod(c)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(c){return this.words[0]&c},s.prototype.bincn=function(c){n(typeof c=="number");var p=c%26,b=(c-p)/26,y=1<<p;if(this.length<=b)return this._expand(b+1),this.words[b]|=y,this;for(var _=y,C=b;_!==0&&C<this.length;C++){var k=this.words[C]|0;k+=_,_=k>>>26,k&=67108863,this.words[C]=k}return _!==0&&(this.words[C]=_,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(c){var p=c<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this._strip();var b;if(this.length>1)b=1;else{p&&(c=-c),n(c<=67108863,"Number is too big");var y=this.words[0]|0;b=y===c?0:y<c?-1:1}return this.negative!==0?-b|0:b},s.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var p=this.ucmp(c);return this.negative!==0?-p|0:p},s.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var p=0,b=this.length-1;b>=0;b--){var y=this.words[b]|0,_=c.words[b]|0;if(y!==_){y<_?p=-1:y>_&&(p=1);break}}return p},s.prototype.gtn=function(c){return this.cmpn(c)===1},s.prototype.gt=function(c){return this.cmp(c)===1},s.prototype.gten=function(c){return this.cmpn(c)>=0},s.prototype.gte=function(c){return this.cmp(c)>=0},s.prototype.ltn=function(c){return this.cmpn(c)===-1},s.prototype.lt=function(c){return this.cmp(c)===-1},s.prototype.lten=function(c){return this.cmpn(c)<=0},s.prototype.lte=function(c){return this.cmp(c)<=0},s.prototype.eqn=function(c){return this.cmpn(c)===0},s.prototype.eq=function(c){return this.cmp(c)===0},s.red=function(c){return new Z(c)},s.prototype.toRed=function(c){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(c){return this.red=c,this},s.prototype.forceRed=function(c){return n(!this.red,"Already a number in reduction context"),this._forceRed(c)},s.prototype.redAdd=function(c){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},s.prototype.redIAdd=function(c){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},s.prototype.redSub=function(c){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},s.prototype.redISub=function(c){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},s.prototype.redShl=function(c){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},s.prototype.redMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},s.prototype.redIMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(c){return n(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var N={k256:null,p224:null,p192:null,p25519:null};function D(v,c){this.name=v,this.p=new s(c,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var c=new s(null);return c.words=new Array(Math.ceil(this.n/13)),c},D.prototype.ireduce=function(c){var p=c,b;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),b=p.bitLength();while(b>this.n);var y=b<this.n?-1:p.ucmp(this.p);return y===0?(p.words[0]=0,p.length=1):y>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},D.prototype.split=function(c,p){c.iushrn(this.n,0,p)},D.prototype.imulK=function(c){return c.imul(this.k)};function H(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(H,D),H.prototype.split=function(c,p){for(var b=4194303,y=Math.min(c.length,9),_=0;_<y;_++)p.words[_]=c.words[_];if(p.length=y,c.length<=9){c.words[0]=0,c.length=1;return}var C=c.words[9];for(p.words[p.length++]=C&b,_=10;_<c.length;_++){var k=c.words[_]|0;c.words[_-10]=(k&b)<<4|C>>>22,C=k}C>>>=22,c.words[_-10]=C,C===0&&c.length>10?c.length-=10:c.length-=9},H.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var p=0,b=0;b<c.length;b++){var y=c.words[b]|0;p+=y*977,c.words[b]=p&67108863,p=y*64+(p/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function V(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(V,D);function B(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(B,D);function Q(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(Q,D),Q.prototype.imulK=function(c){for(var p=0,b=0;b<c.length;b++){var y=(c.words[b]|0)*19+p,_=y&67108863;y>>>=26,c.words[b]=_,p=y}return p!==0&&(c.words[c.length++]=p),c},s._prime=function(c){if(N[c])return N[c];var p;if(c==="k256")p=new H;else if(c==="p224")p=new V;else if(c==="p192")p=new B;else if(c==="p25519")p=new Q;else throw new Error("Unknown prime "+c);return N[c]=p,p};function Z(v){if(typeof v=="string"){var c=s._prime(v);this.m=c.p,this.prime=c}else n(v.gtn(1),"modulus must be greater than 1"),this.m=v,this.prime=null}Z.prototype._verify1=function(c){n(c.negative===0,"red works only with positives"),n(c.red,"red works only with red numbers")},Z.prototype._verify2=function(c,p){n((c.negative|p.negative)===0,"red works only with positives"),n(c.red&&c.red===p.red,"red works only with red numbers")},Z.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):(f(c,c.umod(this.m)._forceRed(this)),c)},Z.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},Z.prototype.add=function(c,p){this._verify2(c,p);var b=c.add(p);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},Z.prototype.iadd=function(c,p){this._verify2(c,p);var b=c.iadd(p);return b.cmp(this.m)>=0&&b.isub(this.m),b},Z.prototype.sub=function(c,p){this._verify2(c,p);var b=c.sub(p);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},Z.prototype.isub=function(c,p){this._verify2(c,p);var b=c.isub(p);return b.cmpn(0)<0&&b.iadd(this.m),b},Z.prototype.shl=function(c,p){return this._verify1(c),this.imod(c.ushln(p))},Z.prototype.imul=function(c,p){return this._verify2(c,p),this.imod(c.imul(p))},Z.prototype.mul=function(c,p){return this._verify2(c,p),this.imod(c.mul(p))},Z.prototype.isqr=function(c){return this.imul(c,c.clone())},Z.prototype.sqr=function(c){return this.mul(c,c)},Z.prototype.sqrt=function(c){if(c.isZero())return c.clone();var p=this.m.andln(3);if(n(p%2===1),p===3){var b=this.m.add(new s(1)).iushrn(2);return this.pow(c,b)}for(var y=this.m.subn(1),_=0;!y.isZero()&&y.andln(1)===0;)_++,y.iushrn(1);n(!y.isZero());var C=new s(1).toRed(this),k=C.redNeg(),m=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new s(2*h*h).toRed(this);this.pow(h,m).cmp(k)!==0;)h.redIAdd(k);for(var x=this.pow(h,y),q=this.pow(c,y.addn(1).iushrn(1)),G=this.pow(c,y),A=_;G.cmp(C)!==0;){for(var $=G,j=0;$.cmp(C)!==0;j++)$=$.redSqr();n(j<A);var z=this.pow(x,new s(1).iushln(A-j-1));q=q.redMul(z),x=z.redSqr(),G=G.redMul(x),A=j}return q},Z.prototype.invm=function(c){var p=c._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},Z.prototype.pow=function(c,p){if(p.isZero())return new s(1).toRed(this);if(p.cmpn(1)===0)return c.clone();var b=4,y=new Array(1<<b);y[0]=new s(1).toRed(this),y[1]=c;for(var _=2;_<y.length;_++)y[_]=this.mul(y[_-1],c);var C=y[0],k=0,m=0,h=p.bitLength()%26;for(h===0&&(h=26),_=p.length-1;_>=0;_--){for(var x=p.words[_],q=h-1;q>=0;q--){var G=x>>q&1;if(C!==y[0]&&(C=this.sqr(C)),G===0&&k===0){m=0;continue}k<<=1,k|=G,m++,!(m!==b&&(_!==0||q!==0))&&(C=this.mul(C,y[k]),m=0,k=0)}h=26}return C},Z.prototype.convertTo=function(c){var p=c.umod(this.m);return p===c?p.clone():p},Z.prototype.convertFrom=function(c){var p=c.clone();return p.red=null,p},s.mont=function(c){return new X(c)};function X(v){Z.call(this,v),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(X,Z),X.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},X.prototype.convertFrom=function(c){var p=this.imod(c.mul(this.rinv));return p.red=null,p},X.prototype.imul=function(c,p){if(c.isZero()||p.isZero())return c.words[0]=0,c.length=1,c;var b=c.imul(p),y=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(y).iushrn(this.shift),C=_;return _.cmp(this.m)>=0?C=_.isub(this.m):_.cmpn(0)<0&&(C=_.iadd(this.m)),C._forceRed(this)},X.prototype.mul=function(c,p){if(c.isZero()||p.isZero())return new s(0)._forceRed(this);var b=c.mul(p),y=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(y).iushrn(this.shift),C=_;return _.cmp(this.m)>=0?C=_.isub(this.m):_.cmpn(0)<0&&(C=_.iadd(this.m)),C._forceRed(this)},X.prototype.invm=function(c){var p=this.imod(c._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(t,J)})(vc);var No=vc.exports,Ai={};Object.defineProperty(Ai,"__esModule",{value:!0});Ai.EVENTS=void 0;Ai.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var hs={},yc={},Br={},Ib=ss;ss.default=ss;ss.stable=md;ss.stableStringify=md;var lo="[...]",vd="[Circular]",Sn=[],vn=[];function yd(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function ss(t,e,r,n){typeof n>"u"&&(n=yd()),Bu(t,"",0,[],void 0,0,n);var i;try{vn.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,_d(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Sn.length!==0;){var s=Sn.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function ii(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),Sn.push([n,r,e,i])):vn.push([e,r,t]):(n[r]=t,Sn.push([n,r,e]))}function Bu(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){ii(vd,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){ii(lo,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){ii(lo,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)Bu(t[a],a,a,n,t,s,o);else{var u=Object.keys(t);for(a=0;a<u.length;a++){var l=u[a];Bu(t[l],l,a,n,t,s,o)}}n.pop()}}function Ab(t,e){return t<e?-1:t>e?1:0}function md(t,e,r,n){typeof n>"u"&&(n=yd());var i=Fu(t,"",0,[],void 0,0,n)||t,s;try{vn.length===0?s=JSON.stringify(i,e,r):s=JSON.stringify(i,_d(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Sn.length!==0;){var o=Sn.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function Fu(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){ii(vd,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){ii(lo,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){ii(lo,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)Fu(t[a],a,a,n,t,s,o);else{var u={},l=Object.keys(t).sort(Ab);for(a=0;a<l.length;a++){var f=l[a];Fu(t[f],f,a,n,t,s,o),u[f]=t[f]}if(typeof i<"u")Sn.push([i,e,t]),i[e]=u;else return u}n.pop()}}function _d(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(vn.length>0)for(var n=0;n<vn.length;n++){var i=vn[n];if(i[1]===e&&i[0]===r){r=i[2],vn.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(Br,"__esModule",{value:!0});Br.EthereumProviderError=Br.EthereumRpcError=void 0;const kb=Ib;class wd extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return kb.default(this.serialize(),Nb,2)}}Br.EthereumRpcError=wd;class Tb extends wd{constructor(e,r,n){if(!Ob(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}Br.EthereumProviderError=Tb;function Ob(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function Nb(t,e){if(e!=="[Circular]")return e}var mc={},Fr={};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.errorValues=Fr.errorCodes=void 0;Fr.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Fr.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Fr,r=Br,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(g,w=i){if(Number.isInteger(g)){const M=g.toString();if(d(e.errorValues,M))return e.errorValues[M].message;if(l(g))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return w}t.getMessageFromCode=o;function a(g){if(!Number.isInteger(g))return!1;const w=g.toString();return!!(e.errorValues[w]||l(g))}t.isValidCode=a;function u(g,{fallbackError:w=s,shouldIncludeStack:M=!1}={}){var T,O;if(!w||!Number.isInteger(w.code)||typeof w.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(g instanceof r.EthereumRpcError)return g.serialize();const I={};if(g&&typeof g=="object"&&!Array.isArray(g)&&d(g,"code")&&a(g.code)){const P=g;I.code=P.code,P.message&&typeof P.message=="string"?(I.message=P.message,d(P,"data")&&(I.data=P.data)):(I.message=o(I.code),I.data={originalError:f(g)})}else{I.code=w.code;const P=(T=g)===null||T===void 0?void 0:T.message;I.message=P&&typeof P=="string"?P:w.message,I.data={originalError:f(g)}}const L=(O=g)===null||O===void 0?void 0:O.stack;return M&&g&&L&&typeof L=="string"&&(I.stack=L),I}t.serializeError=u;function l(g){return g>=-32099&&g<=-32e3}function f(g){return g&&typeof g=="object"&&!Array.isArray(g)?Object.assign({},g):g}function d(g,w){return Object.prototype.hasOwnProperty.call(g,w)}})(mc);var Lo={};Object.defineProperty(Lo,"__esModule",{value:!0});Lo.ethErrors=void 0;const _c=Br,Sd=mc,bt=Fr;Lo.ethErrors={rpc:{parse:t=>Lt(bt.errorCodes.rpc.parse,t),invalidRequest:t=>Lt(bt.errorCodes.rpc.invalidRequest,t),invalidParams:t=>Lt(bt.errorCodes.rpc.invalidParams,t),methodNotFound:t=>Lt(bt.errorCodes.rpc.methodNotFound,t),internal:t=>Lt(bt.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Lt(e,t)},invalidInput:t=>Lt(bt.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>Lt(bt.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Lt(bt.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Lt(bt.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Lt(bt.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Lt(bt.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Hi(bt.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Hi(bt.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Hi(bt.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Hi(bt.errorCodes.provider.disconnected,t),chainDisconnected:t=>Hi(bt.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new _c.EthereumProviderError(e,r,n)}}};function Lt(t,e){const[r,n]=Ed(e);return new _c.EthereumRpcError(t,r||Sd.getMessageFromCode(t),n)}function Hi(t,e){const[r,n]=Ed(e);return new _c.EthereumProviderError(t,r||Sd.getMessageFromCode(t),n)}function Ed(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Br;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=mc;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=Lo;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Fr;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(yc);var Ee={},Po={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(Po);Object.defineProperty(Ee,"__esModule",{value:!0});Ee.EthereumAddressFromSignedMessageResponse=Ee.SubmitEthereumTransactionResponse=Ee.SignEthereumTransactionResponse=Ee.SignEthereumMessageResponse=Ee.isRequestEthereumAccountsResponse=Ee.SelectProviderResponse=Ee.WatchAssetReponse=Ee.RequestEthereumAccountsResponse=Ee.SwitchEthereumChainResponse=Ee.AddEthereumChainResponse=Ee.isErrorResponse=void 0;const vr=Po;function Lb(t){var e,r;return((e=t)===null||e===void 0?void 0:e.method)!==void 0&&((r=t)===null||r===void 0?void 0:r.errorMessage)!==void 0}Ee.isErrorResponse=Lb;function Pb(t){return{method:vr.Web3Method.addEthereumChain,result:t}}Ee.AddEthereumChainResponse=Pb;function $b(t){return{method:vr.Web3Method.switchEthereumChain,result:t}}Ee.SwitchEthereumChainResponse=$b;function Db(t){return{method:vr.Web3Method.requestEthereumAccounts,result:t}}Ee.RequestEthereumAccountsResponse=Db;function jb(t){return{method:vr.Web3Method.watchAsset,result:t}}Ee.WatchAssetReponse=jb;function Bb(t){return{method:vr.Web3Method.selectProvider,result:t}}Ee.SelectProviderResponse=Bb;function Fb(t){return t&&t.method===vr.Web3Method.requestEthereumAccounts}Ee.isRequestEthereumAccountsResponse=Fb;function Wb(t){return{method:vr.Web3Method.signEthereumMessage,result:t}}Ee.SignEthereumMessageResponse=Wb;function Hb(t){return{method:vr.Web3Method.signEthereumTransaction,result:t}}Ee.SignEthereumTransactionResponse=Hb;function Ub(t){return{method:vr.Web3Method.submitEthereumTransaction,result:t}}Ee.SubmitEthereumTransactionResponse=Ub;function Vb(t){return{method:vr.Web3Method.ethereumAddressFromSignedMessage,result:t}}Ee.EthereumAddressFromSignedMessageResponse=Vb;var ds={};Object.defineProperty(ds,"__esModule",{value:!0});ds.LIB_VERSION=void 0;ds.LIB_VERSION="3.7.1";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorCode=t.serializeError=t.standardErrors=t.standardErrorMessage=t.standardErrorCodes=void 0;const e=yc,r=Ee,n=ds;t.standardErrorCodes=Object.freeze(Object.assign(Object.assign({},e.errorCodes),{provider:Object.freeze(Object.assign(Object.assign({},e.errorCodes.provider),{unsupportedChain:4902}))}));function i(f){return f!==void 0?(0,e.getMessageFromCode)(f):"Unknown error"}t.standardErrorMessage=i,t.standardErrors=Object.freeze(Object.assign(Object.assign({},e.ethErrors),{provider:Object.freeze(Object.assign(Object.assign({},e.ethErrors.provider),{unsupportedChain:(f="")=>e.ethErrors.provider.custom({code:t.standardErrorCodes.provider.unsupportedChain,message:`Unrecognized chain ID ${f}. Try adding the chain using wallet_addEthereumChain first.`})}))}));function s(f,d){const g=(0,e.serializeError)(o(f),{shouldIncludeStack:!0}),w=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");w.searchParams.set("version",n.LIB_VERSION),w.searchParams.set("code",g.code.toString());const M=a(g.data,d);return M&&w.searchParams.set("method",M),w.searchParams.set("message",g.message),Object.assign(Object.assign({},g),{docUrl:w.href})}t.serializeError=s;function o(f){return typeof f=="string"?{message:f,code:t.standardErrorCodes.rpc.internal}:(0,r.isErrorResponse)(f)?Object.assign(Object.assign({},f),{message:f.errorMessage,code:f.errorCode,data:{method:f.method,result:f.result}}):f}function a(f,d){var g;const w=(g=f)===null||g===void 0?void 0:g.method;if(w)return w;if(d!==void 0)return typeof d=="string"?d:Array.isArray(d)?d.length>0?d[0].method:void 0:d.method}function u(f){var d;if(typeof f=="number")return f;if(l(f))return(d=f.code)!==null&&d!==void 0?d:f.errorCode}t.getErrorCode=u;function l(f){return typeof f=="object"&&f!==null&&(typeof f.code=="number"||typeof f.errorCode=="number")}})(hs);var ki={},Md={exports:{}},Wu;typeof Object.create=="function"?Wu=function(e,r){e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:Wu=function(e,r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e};var zb=Wu,qb=Object.freeze({__proto__:null,default:zb}),Xt=Ut(qb),Hu={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=fs,n=r.Buffer;function i(o,a){for(var u in o)a[u]=o[u]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,u){return n(o,a,u)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,a,u){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,u)},s.alloc=function(o,a,u){if(typeof o!="number")throw new TypeError("Argument must be a number");var l=n(o);return a!==void 0?typeof u=="string"?l.fill(a,u):l.fill(a):l.fill(0),l},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(Hu,Hu.exports);var Rn=Hu.exports,xd=Rn.Buffer;function $o(t,e){this._block=xd.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}$o.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=xd.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,o=0;o<i;){for(var a=s%n,u=Math.min(i-o,n-a),l=0;l<u;l++)r[a+l]=t[o+l];s+=u,o+=u,s%n===0&&this._update(r)}return this._len+=i,this};$o.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};$o.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var Ti=$o,Gb=Xt,Cd=Ti,Jb=Rn.Buffer,Zb=[1518500249,1859775393,-1894007588,-899497514],Qb=new Array(80);function ps(){this.init(),this._w=Qb,Cd.call(this,64,56)}Gb(ps,Cd);ps.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Yb(t){return t<<5|t>>>27}function Kb(t){return t<<30|t>>>2}function Xb(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}ps.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var u=0;u<80;++u){var l=~~(u/20),f=Yb(r)+Xb(l,n,i,s)+o+e[u]+Zb[l]|0;o=s,s=i,i=Kb(n),n=r,r=f}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};ps.prototype._hash=function(){var t=Jb.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var ev=ps,tv=Xt,Rd=Ti,rv=Rn.Buffer,nv=[1518500249,1859775393,-1894007588,-899497514],iv=new Array(80);function gs(){this.init(),this._w=iv,Rd.call(this,64,56)}tv(gs,Rd);gs.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function sv(t){return t<<1|t>>>31}function ov(t){return t<<5|t>>>27}function av(t){return t<<30|t>>>2}function uv(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}gs.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=sv(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var u=0;u<80;++u){var l=~~(u/20),f=ov(r)+uv(l,n,i,s)+o+e[u]+nv[l]|0;o=s,s=i,i=av(n),n=r,r=f}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};gs.prototype._hash=function(){var t=rv.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var cv=gs,lv=Xt,Id=Ti,fv=Rn.Buffer,hv=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],dv=new Array(64);function bs(){this.init(),this._w=dv,Id.call(this,64,56)}lv(bs,Id);bs.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function pv(t,e,r){return r^t&(e^r)}function gv(t,e,r){return t&e|r&(t|e)}function bv(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function vv(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function yv(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function mv(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}bs.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,u=this._g|0,l=this._h|0,f=0;f<16;++f)e[f]=t.readInt32BE(f*4);for(;f<64;++f)e[f]=mv(e[f-2])+e[f-7]+yv(e[f-15])+e[f-16]|0;for(var d=0;d<64;++d){var g=l+vv(o)+pv(o,a,u)+hv[d]+e[d]|0,w=bv(r)+gv(r,n,i)|0;l=u,u=a,a=o,o=s+g|0,s=i,i=n,n=r,r=g+w|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=u+this._g|0,this._h=l+this._h|0};bs.prototype._hash=function(){var t=fv.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var Ad=bs,_v=Xt,wv=Ad,Sv=Ti,Ev=Rn.Buffer,Mv=new Array(64);function Do(){this.init(),this._w=Mv,Sv.call(this,64,56)}_v(Do,wv);Do.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Do.prototype._hash=function(){var t=Ev.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var xv=Do,Cv=Xt,kd=Ti,Rv=Rn.Buffer,Fl=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Iv=new Array(160);function vs(){this.init(),this._w=Iv,kd.call(this,128,112)}Cv(vs,kd);vs.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Wl(t,e,r){return r^t&(e^r)}function Hl(t,e,r){return t&e|r&(t|e)}function Ul(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function Vl(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function Av(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function kv(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function Tv(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function Ov(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function at(t,e){return t>>>0<e>>>0?1:0}vs.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,u=this._gh|0,l=this._hh|0,f=this._al|0,d=this._bl|0,g=this._cl|0,w=this._dl|0,M=this._el|0,T=this._fl|0,O=this._gl|0,I=this._hl|0,L=0;L<32;L+=2)e[L]=t.readInt32BE(L*4),e[L+1]=t.readInt32BE(L*4+4);for(;L<160;L+=2){var P=e[L-30],R=e[L-15*2+1],N=Av(P,R),D=kv(R,P);P=e[L-2*2],R=e[L-2*2+1];var H=Tv(P,R),V=Ov(R,P),B=e[L-7*2],Q=e[L-7*2+1],Z=e[L-16*2],X=e[L-16*2+1],v=D+Q|0,c=N+B+at(v,D)|0;v=v+V|0,c=c+H+at(v,V)|0,v=v+X|0,c=c+Z+at(v,X)|0,e[L]=c,e[L+1]=v}for(var p=0;p<160;p+=2){c=e[p],v=e[p+1];var b=Hl(r,n,i),y=Hl(f,d,g),_=Ul(r,f),C=Ul(f,r),k=Vl(o,M),m=Vl(M,o),h=Fl[p],x=Fl[p+1],q=Wl(o,a,u),G=Wl(M,T,O),A=I+m|0,$=l+k+at(A,I)|0;A=A+G|0,$=$+q+at(A,G)|0,A=A+x|0,$=$+h+at(A,x)|0,A=A+v|0,$=$+c+at(A,v)|0;var j=C+y|0,z=_+b+at(j,C)|0;l=u,I=O,u=a,O=T,a=o,T=M,M=w+A|0,o=s+$+at(M,w)|0,s=i,w=g,i=n,g=d,n=r,d=f,f=A+j|0,r=$+z+at(f,A)|0}this._al=this._al+f|0,this._bl=this._bl+d|0,this._cl=this._cl+g|0,this._dl=this._dl+w|0,this._el=this._el+M|0,this._fl=this._fl+T|0,this._gl=this._gl+O|0,this._hl=this._hl+I|0,this._ah=this._ah+r+at(this._al,f)|0,this._bh=this._bh+n+at(this._bl,d)|0,this._ch=this._ch+i+at(this._cl,g)|0,this._dh=this._dh+s+at(this._dl,w)|0,this._eh=this._eh+o+at(this._el,M)|0,this._fh=this._fh+a+at(this._fl,T)|0,this._gh=this._gh+u+at(this._gl,O)|0,this._hh=this._hh+l+at(this._hl,I)|0};vs.prototype._hash=function(){var t=Rv.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var Td=vs,Nv=Xt,Lv=Td,Pv=Ti,$v=Rn.Buffer,Dv=new Array(160);function jo(){this.init(),this._w=Dv,Pv.call(this,128,112)}Nv(jo,Lv);jo.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};jo.prototype._hash=function(){var t=$v.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var jv=jo,In=Md.exports=function(e){e=e.toLowerCase();var r=In[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};In.sha=ev;In.sha1=cv;In.sha224=xv;In.sha256=Ad;In.sha384=jv;In.sha512=Td;var Bv=Md.exports,Y={},Fv=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},zl=typeof Symbol<"u"&&Symbol,Wv=Fv,Hv=function(){return typeof zl!="function"||typeof Symbol!="function"||typeof zl("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Wv()},ql={foo:{}},Uv=Object,Vv=function(){return{__proto__:ql}.foo===ql.foo&&!({__proto__:null}instanceof Uv)},zv="Function.prototype.bind called on incompatible ",Va=Array.prototype.slice,qv=Object.prototype.toString,Gv="[object Function]",Jv=function(e){var r=this;if(typeof r!="function"||qv.call(r)!==Gv)throw new TypeError(zv+r);for(var n=Va.call(arguments,1),i,s=function(){if(this instanceof i){var f=r.apply(this,n.concat(Va.call(arguments)));return Object(f)===f?f:this}else return r.apply(e,n.concat(Va.call(arguments)))},o=Math.max(0,r.length-n.length),a=[],u=0;u<o;u++)a.push("$"+u);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i},Zv=Jv,wc=Function.prototype.bind||Zv,Qv=wc,Yv=Qv.call(Function.call,Object.prototype.hasOwnProperty),le,di=SyntaxError,Od=Function,si=TypeError,za=function(t){try{return Od('"use strict"; return ('+t+").constructor;")()}catch{}},_n=Object.getOwnPropertyDescriptor;if(_n)try{_n({},"")}catch{_n=null}var qa=function(){throw new si},Kv=_n?function(){try{return arguments.callee,qa}catch{try{return _n(arguments,"callee").get}catch{return qa}}}():qa,Jn=Hv(),Xv=Vv(),ct=Object.getPrototypeOf||(Xv?function(t){return t.__proto__}:null),Xn={},ey=typeof Uint8Array>"u"||!ct?le:ct(Uint8Array),wn={"%AggregateError%":typeof AggregateError>"u"?le:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?le:ArrayBuffer,"%ArrayIteratorPrototype%":Jn&&ct?ct([][Symbol.iterator]()):le,"%AsyncFromSyncIteratorPrototype%":le,"%AsyncFunction%":Xn,"%AsyncGenerator%":Xn,"%AsyncGeneratorFunction%":Xn,"%AsyncIteratorPrototype%":Xn,"%Atomics%":typeof Atomics>"u"?le:Atomics,"%BigInt%":typeof BigInt>"u"?le:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?le:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?le:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?le:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?le:Float32Array,"%Float64Array%":typeof Float64Array>"u"?le:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?le:FinalizationRegistry,"%Function%":Od,"%GeneratorFunction%":Xn,"%Int8Array%":typeof Int8Array>"u"?le:Int8Array,"%Int16Array%":typeof Int16Array>"u"?le:Int16Array,"%Int32Array%":typeof Int32Array>"u"?le:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Jn&&ct?ct(ct([][Symbol.iterator]())):le,"%JSON%":typeof JSON=="object"?JSON:le,"%Map%":typeof Map>"u"?le:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Jn||!ct?le:ct(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?le:Promise,"%Proxy%":typeof Proxy>"u"?le:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?le:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?le:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Jn||!ct?le:ct(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?le:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Jn&&ct?ct(""[Symbol.iterator]()):le,"%Symbol%":Jn?Symbol:le,"%SyntaxError%":di,"%ThrowTypeError%":Kv,"%TypedArray%":ey,"%TypeError%":si,"%Uint8Array%":typeof Uint8Array>"u"?le:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?le:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?le:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?le:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?le:WeakMap,"%WeakRef%":typeof WeakRef>"u"?le:WeakRef,"%WeakSet%":typeof WeakSet>"u"?le:WeakSet};if(ct)try{null.error}catch(t){var ty=ct(ct(t));wn["%Error.prototype%"]=ty}var ry=function t(e){var r;if(e==="%AsyncFunction%")r=za("async function () {}");else if(e==="%GeneratorFunction%")r=za("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=za("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&ct&&(r=ct(i.prototype))}return wn[e]=r,r},Gl={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ys=wc,fo=Yv,ny=ys.call(Function.call,Array.prototype.concat),iy=ys.call(Function.apply,Array.prototype.splice),Jl=ys.call(Function.call,String.prototype.replace),ho=ys.call(Function.call,String.prototype.slice),sy=ys.call(Function.call,RegExp.prototype.exec),oy=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ay=/\\(\\)?/g,uy=function(e){var r=ho(e,0,1),n=ho(e,-1);if(r==="%"&&n!=="%")throw new di("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new di("invalid intrinsic syntax, expected opening `%`");var i=[];return Jl(e,oy,function(s,o,a,u){i[i.length]=a?Jl(u,ay,"$1"):o||s}),i},cy=function(e,r){var n=e,i;if(fo(Gl,n)&&(i=Gl[n],n="%"+i[0]+"%"),fo(wn,n)){var s=wn[n];if(s===Xn&&(s=ry(n)),typeof s>"u"&&!r)throw new si("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new di("intrinsic "+e+" does not exist!")},Sc=function(e,r){if(typeof e!="string"||e.length===0)throw new si("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new si('"allowMissing" argument must be a boolean');if(sy(/^%?[^%]*%?$/,e)===null)throw new di("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=uy(e),i=n.length>0?n[0]:"",s=cy("%"+i+"%",r),o=s.name,a=s.value,u=!1,l=s.alias;l&&(i=l[0],iy(n,ny([0,1],l)));for(var f=1,d=!0;f<n.length;f+=1){var g=n[f],w=ho(g,0,1),M=ho(g,-1);if((w==='"'||w==="'"||w==="`"||M==='"'||M==="'"||M==="`")&&w!==M)throw new di("property names with quotes must have matching quotes");if((g==="constructor"||!d)&&(u=!0),i+="."+g,o="%"+i+"%",fo(wn,o))a=wn[o];else if(a!=null){if(!(g in a)){if(!r)throw new si("base intrinsic for "+e+" exists, but the property is not available.");return}if(_n&&f+1>=n.length){var T=_n(a,g);d=!!T,d&&"get"in T&&!("originalValue"in T.get)?a=T.get:a=a[g]}else d=fo(a,g),a=a[g];d&&!u&&(wn[o]=a)}}return a},Nd={exports:{}};(function(t){var e=wc,r=Sc,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(i,n),o=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),u=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(d){var g=s(e,i,arguments);if(o&&a){var w=o(g,"length");w.configurable&&a(g,"length",{value:1+u(0,d.length-(arguments.length-1))})}return g};var l=function(){return s(e,n,arguments)};a?a(t.exports,"apply",{value:l}):t.exports.apply=l})(Nd);var ly=Nd.exports,Ld=Sc,Pd=ly,fy=Pd(Ld("String.prototype.indexOf")),hy=function(e,r){var n=Ld(e,!!r);return typeof n=="function"&&fy(e,".prototype.")>-1?Pd(n):n};function $d(){throw new Error("setTimeout has not been defined")}function Dd(){throw new Error("clearTimeout has not been defined")}var Or=$d,Nr=Dd;typeof ko.setTimeout=="function"&&(Or=setTimeout);typeof ko.clearTimeout=="function"&&(Nr=clearTimeout);function jd(t){if(Or===setTimeout)return setTimeout(t,0);if((Or===$d||!Or)&&setTimeout)return Or=setTimeout,setTimeout(t,0);try{return Or(t,0)}catch{try{return Or.call(null,t,0)}catch{return Or.call(this,t,0)}}}function dy(t){if(Nr===clearTimeout)return clearTimeout(t);if((Nr===Dd||!Nr)&&clearTimeout)return Nr=clearTimeout,clearTimeout(t);try{return Nr(t)}catch{try{return Nr.call(null,t)}catch{return Nr.call(this,t)}}}var wr=[],oi=!1,yn,no=-1;function py(){!oi||!yn||(oi=!1,yn.length?wr=yn.concat(wr):no=-1,wr.length&&Bd())}function Bd(){if(!oi){var t=jd(py);oi=!0;for(var e=wr.length;e;){for(yn=wr,wr=[];++no<e;)yn&&yn[no].run();no=-1,e=wr.length}yn=null,oi=!1,dy(t)}}function Ot(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];wr.push(new Fd(t,e)),wr.length===1&&!oi&&jd(Bd)}function Fd(t,e){this.fun=t,this.array=e}Fd.prototype.run=function(){this.fun.apply(null,this.array)};var gy="browser",by="browser",vy=!0,yy={},my=[],_y="",wy={},Sy={},Ey={};function An(){}var My=An,xy=An,Cy=An,Ry=An,Iy=An,Ay=An,ky=An;function Ty(t){throw new Error("process.binding is not supported")}function Oy(){return"/"}function Ny(t){throw new Error("process.chdir is not supported")}function Ly(){return 0}var ei=ko.performance||{},Py=ei.now||ei.mozNow||ei.msNow||ei.oNow||ei.webkitNow||function(){return new Date().getTime()};function $y(t){var e=Py.call(ei)*.001,r=Math.floor(e),n=Math.floor(e%1*1e9);return t&&(r=r-t[0],n=n-t[1],n<0&&(r--,n+=1e9)),[r,n]}var Dy=new Date;function jy(){var t=new Date,e=t-Dy;return e/1e3}var ai={nextTick:Ot,title:gy,browser:vy,env:yy,argv:my,version:_y,versions:wy,on:My,addListener:xy,once:Cy,off:Ry,removeListener:Iy,removeAllListeners:Ay,emit:ky,binding:Ty,cwd:Oy,chdir:Ny,umask:Ly,hrtime:$y,platform:by,release:Sy,config:Ey,uptime:jy},Uu;typeof Object.create=="function"?Uu=function(e,r){e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:Uu=function(e,r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e};var zr=Uu,Wd=Object.getOwnPropertyDescriptors||function(e){for(var r=Object.keys(e),n={},i=0;i<r.length;i++)n[r[i]]=Object.getOwnPropertyDescriptor(e,r[i]);return n},By=/%[sdj%]/g;function Bo(t){if(!_s(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(br(arguments[r]));return e.join(" ")}for(var r=1,n=arguments,i=n.length,s=String(t).replace(By,function(a){if(a==="%%")return"%";if(r>=i)return a;switch(a){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}default:return a}}),o=n[r];r<i;o=n[++r])ms(o)||!kn(o)?s+=" "+o:s+=" "+br(o);return s}function Fo(t,e){if(fr(ko.process))return function(){return Fo(t,e).apply(this,arguments)};if(ai.noDeprecation===!0)return t;var r=!1;function n(){if(!r){if(ai.throwDeprecation)throw new Error(e);ai.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}return n}var Ws={},Ga;function Ec(t){if(fr(Ga)&&(Ga=ai.env.NODE_DEBUG||""),t=t.toUpperCase(),!Ws[t])if(new RegExp("\\b"+t+"\\b","i").test(Ga)){var e=0;Ws[t]=function(){var r=Bo.apply(null,arguments);console.error("%s %d: %s",t,e,r)}}else Ws[t]=function(){};return Ws[t]}function br(t,e){var r={seen:[],stylize:Wy};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),Wo(e)?r.showHidden=e:e&&Rc(r,e),fr(r.showHidden)&&(r.showHidden=!1),fr(r.depth)&&(r.depth=2),fr(r.colors)&&(r.colors=!1),fr(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=Fy),po(r,t,r.depth)}br.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};br.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function Fy(t,e){var r=br.styles[e];return r?"\x1B["+br.colors[r][0]+"m"+t+"\x1B["+br.colors[r][1]+"m":t}function Wy(t,e){return t}function Hy(t){var e={};return t.forEach(function(r,n){e[r]=!0}),e}function po(t,e,r){if(t.customInspect&&e&&Qi(e.inspect)&&e.inspect!==br&&!(e.constructor&&e.constructor.prototype===e)){var n=e.inspect(r,t);return _s(n)||(n=po(t,n,r)),n}var i=Uy(t,e);if(i)return i;var s=Object.keys(e),o=Hy(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),Zi(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return Ja(e);if(s.length===0){if(Qi(e)){var a=e.name?": "+e.name:"";return t.stylize("[Function"+a+"]","special")}if(Ji(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(go(e))return t.stylize(Date.prototype.toString.call(e),"date");if(Zi(e))return Ja(e)}var u="",l=!1,f=["{","}"];if(Mc(e)&&(l=!0,f=["[","]"]),Qi(e)){var d=e.name?": "+e.name:"";u=" [Function"+d+"]"}if(Ji(e)&&(u=" "+RegExp.prototype.toString.call(e)),go(e)&&(u=" "+Date.prototype.toUTCString.call(e)),Zi(e)&&(u=" "+Ja(e)),s.length===0&&(!l||e.length==0))return f[0]+u+f[1];if(r<0)return Ji(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var g;return l?g=Vy(t,e,r,o,s):g=s.map(function(w){return Vu(t,e,r,o,w,l)}),t.seen.pop(),zy(g,u,f)}function Uy(t,e){if(fr(e))return t.stylize("undefined","undefined");if(_s(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(xc(e))return t.stylize(""+e,"number");if(Wo(e))return t.stylize(""+e,"boolean");if(ms(e))return t.stylize("null","null")}function Ja(t){return"["+Error.prototype.toString.call(t)+"]"}function Vy(t,e,r,n,i){for(var s=[],o=0,a=e.length;o<a;++o)Gd(e,String(o))?s.push(Vu(t,e,r,n,String(o),!0)):s.push("");return i.forEach(function(u){u.match(/^\d+$/)||s.push(Vu(t,e,r,n,u,!0))}),s}function Vu(t,e,r,n,i,s){var o,a,u;if(u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},u.get?u.set?a=t.stylize("[Getter/Setter]","special"):a=t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),Gd(n,i)||(o="["+i+"]"),a||(t.seen.indexOf(u.value)<0?(ms(r)?a=po(t,u.value,null):a=po(t,u.value,r-1),a.indexOf(`
`)>-1&&(s?a=a.split(`
`).map(function(l){return"  "+l}).join(`
`).substr(2):a=`
`+a.split(`
`).map(function(l){return"   "+l}).join(`
`))):a=t.stylize("[Circular]","special")),fr(o)){if(s&&i.match(/^\d+$/))return a;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+a}function zy(t,e,r){var n=t.reduce(function(i,s){return s.indexOf(`
`)>=0,i+s.replace(/\u001b\[\d\d?m/g,"").length+1},0);return n>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}function Mc(t){return Array.isArray(t)}function Wo(t){return typeof t=="boolean"}function ms(t){return t===null}function Hd(t){return t==null}function xc(t){return typeof t=="number"}function _s(t){return typeof t=="string"}function Ud(t){return typeof t=="symbol"}function fr(t){return t===void 0}function Ji(t){return kn(t)&&Cc(t)==="[object RegExp]"}function kn(t){return typeof t=="object"&&t!==null}function go(t){return kn(t)&&Cc(t)==="[object Date]"}function Zi(t){return kn(t)&&(Cc(t)==="[object Error]"||t instanceof Error)}function Qi(t){return typeof t=="function"}function Vd(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}function zd(t){return Ht.isBuffer(t)}function Cc(t){return Object.prototype.toString.call(t)}function Za(t){return t<10?"0"+t.toString(10):t.toString(10)}var qy=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Gy(){var t=new Date,e=[Za(t.getHours()),Za(t.getMinutes()),Za(t.getSeconds())].join(":");return[t.getDate(),qy[t.getMonth()],e].join(" ")}function qd(){console.log("%s - %s",Gy(),Bo.apply(null,arguments))}function Rc(t,e){if(!e||!kn(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}function Gd(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var hn=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function Ic(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');if(hn&&t[hn]){var e=t[hn];if(typeof e!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,hn,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var r,n,i=new Promise(function(a,u){r=a,n=u}),s=[],o=0;o<arguments.length;o++)s.push(arguments[o]);s.push(function(a,u){a?n(a):r(u)});try{t.apply(this,s)}catch(a){n(a)}return i}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),hn&&Object.defineProperty(e,hn,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,Wd(t))}Ic.custom=hn;function Jy(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}function Jd(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var s=this,o=function(){return i.apply(s,arguments)};t.apply(this,r).then(function(a){ai.nextTick(o.bind(null,null,a))},function(a){ai.nextTick(Jy.bind(null,a,o))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,Wd(t)),e}var Zy={inherits:zr,_extend:Rc,log:qd,isBuffer:zd,isPrimitive:Vd,isFunction:Qi,isError:Zi,isDate:go,isObject:kn,isRegExp:Ji,isUndefined:fr,isSymbol:Ud,isString:_s,isNumber:xc,isNullOrUndefined:Hd,isNull:ms,isBoolean:Wo,isArray:Mc,inspect:br,deprecate:Fo,format:Bo,debuglog:Ec,promisify:Ic,callbackify:Jd},Qy=Object.freeze({__proto__:null,_extend:Rc,callbackify:Jd,debuglog:Ec,default:Zy,deprecate:Fo,format:Bo,inherits:zr,inspect:br,isArray:Mc,isBoolean:Wo,isBuffer:zd,isDate:go,isError:Zi,isFunction:Qi,isNull:ms,isNullOrUndefined:Hd,isNumber:xc,isObject:kn,isPrimitive:Vd,isRegExp:Ji,isString:_s,isSymbol:Ud,isUndefined:fr,log:qd,promisify:Ic}),Ac=Ut(Qy),Yy=Ac.inspect,kc=typeof Map=="function"&&Map.prototype,Qa=Object.getOwnPropertyDescriptor&&kc?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,bo=kc&&Qa&&typeof Qa.get=="function"?Qa.get:null,Zl=kc&&Map.prototype.forEach,Tc=typeof Set=="function"&&Set.prototype,Ya=Object.getOwnPropertyDescriptor&&Tc?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,vo=Tc&&Ya&&typeof Ya.get=="function"?Ya.get:null,Ql=Tc&&Set.prototype.forEach,Ky=typeof WeakMap=="function"&&WeakMap.prototype,Yi=Ky?WeakMap.prototype.has:null,Xy=typeof WeakSet=="function"&&WeakSet.prototype,Ki=Xy?WeakSet.prototype.has:null,em=typeof WeakRef=="function"&&WeakRef.prototype,Yl=em?WeakRef.prototype.deref:null,tm=Boolean.prototype.valueOf,rm=Object.prototype.toString,nm=Function.prototype.toString,im=String.prototype.match,Oc=String.prototype.slice,Dr=String.prototype.replace,sm=String.prototype.toUpperCase,Kl=String.prototype.toLowerCase,Zd=RegExp.prototype.test,Xl=Array.prototype.concat,cr=Array.prototype.join,om=Array.prototype.slice,ef=Math.floor,zu=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Ka=Object.getOwnPropertySymbols,qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,pi=typeof Symbol=="function"&&typeof Symbol.iterator=="object",mt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===pi||"symbol")?Symbol.toStringTag:null,Qd=Object.prototype.propertyIsEnumerable,tf=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function rf(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Zd.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-ef(-t):ef(t);if(n!==t){var i=String(n),s=Oc.call(e,i.length+1);return Dr.call(i,r,"$&_")+"."+Dr.call(Dr.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Dr.call(e,r,"$&_")}var Gu=Yy,nf=Gu.custom,sf=Kd(nf)?nf:null,am=function t(e,r,n,i){var s=r||{};if(Lr(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Lr(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Lr(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Lr(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Lr(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return ep(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var u=String(e);return a?rf(e,u):u}if(typeof e=="bigint"){var l=String(e)+"n";return a?rf(e,l):l}var f=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=f&&f>0&&typeof e=="object")return Ju(e)?"[Array]":"[Object]";var d=xm(s,n);if(typeof i>"u")i=[];else if(Xd(i,e)>=0)return"[Circular]";function g(v,c,p){if(c&&(i=om.call(i),i.push(c)),p){var b={depth:s.depth};return Lr(s,"quoteStyle")&&(b.quoteStyle=s.quoteStyle),t(v,b,n+1,i)}return t(v,s,n+1,i)}if(typeof e=="function"&&!of(e)){var w=bm(e),M=Hs(e,g);return"[Function"+(w?": "+w:" (anonymous)")+"]"+(M.length>0?" { "+cr.call(M,", ")+" }":"")}if(Kd(e)){var T=pi?Dr.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):qu.call(e);return typeof e=="object"&&!pi?Ui(T):T}if(Sm(e)){for(var O="<"+Kl.call(String(e.nodeName)),I=e.attributes||[],L=0;L<I.length;L++)O+=" "+I[L].name+"="+Yd(um(I[L].value),"double",s);return O+=">",e.childNodes&&e.childNodes.length&&(O+="..."),O+="</"+Kl.call(String(e.nodeName))+">",O}if(Ju(e)){if(e.length===0)return"[]";var P=Hs(e,g);return d&&!Mm(P)?"["+Zu(P,d)+"]":"[ "+cr.call(P,", ")+" ]"}if(lm(e)){var R=Hs(e,g);return!("cause"in Error.prototype)&&"cause"in e&&!Qd.call(e,"cause")?"{ ["+String(e)+"] "+cr.call(Xl.call("[cause]: "+g(e.cause),R),", ")+" }":R.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+cr.call(R,", ")+" }"}if(typeof e=="object"&&o){if(sf&&typeof e[sf]=="function"&&Gu)return Gu(e,{depth:f-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(vm(e)){var N=[];return Zl&&Zl.call(e,function(v,c){N.push(g(c,e,!0)+" => "+g(v,e))}),af("Map",bo.call(e),N,d)}if(_m(e)){var D=[];return Ql&&Ql.call(e,function(v){D.push(g(v,e))}),af("Set",vo.call(e),D,d)}if(ym(e))return Xa("WeakMap");if(wm(e))return Xa("WeakSet");if(mm(e))return Xa("WeakRef");if(hm(e))return Ui(g(Number(e)));if(pm(e))return Ui(g(zu.call(e)));if(dm(e))return Ui(tm.call(e));if(fm(e))return Ui(g(String(e)));if(!cm(e)&&!of(e)){var H=Hs(e,g),V=tf?tf(e)===Object.prototype:e instanceof Object||e.constructor===Object,B=e instanceof Object?"":"null prototype",Q=!V&&mt&&Object(e)===e&&mt in e?Oc.call(qr(e),8,-1):B?"Object":"",Z=V||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",X=Z+(Q||B?"["+cr.call(Xl.call([],Q||[],B||[]),": ")+"] ":"");return H.length===0?X+"{}":d?X+"{"+Zu(H,d)+"}":X+"{ "+cr.call(H,", ")+" }"}return String(e)};function Yd(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function um(t){return Dr.call(String(t),/"/g,"&quot;")}function Ju(t){return qr(t)==="[object Array]"&&(!mt||!(typeof t=="object"&&mt in t))}function cm(t){return qr(t)==="[object Date]"&&(!mt||!(typeof t=="object"&&mt in t))}function of(t){return qr(t)==="[object RegExp]"&&(!mt||!(typeof t=="object"&&mt in t))}function lm(t){return qr(t)==="[object Error]"&&(!mt||!(typeof t=="object"&&mt in t))}function fm(t){return qr(t)==="[object String]"&&(!mt||!(typeof t=="object"&&mt in t))}function hm(t){return qr(t)==="[object Number]"&&(!mt||!(typeof t=="object"&&mt in t))}function dm(t){return qr(t)==="[object Boolean]"&&(!mt||!(typeof t=="object"&&mt in t))}function Kd(t){if(pi)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!qu)return!1;try{return qu.call(t),!0}catch{}return!1}function pm(t){if(!t||typeof t!="object"||!zu)return!1;try{return zu.call(t),!0}catch{}return!1}var gm=Object.prototype.hasOwnProperty||function(t){return t in this};function Lr(t,e){return gm.call(t,e)}function qr(t){return rm.call(t)}function bm(t){if(t.name)return t.name;var e=im.call(nm.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Xd(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function vm(t){if(!bo||!t||typeof t!="object")return!1;try{bo.call(t);try{vo.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function ym(t){if(!Yi||!t||typeof t!="object")return!1;try{Yi.call(t,Yi);try{Ki.call(t,Ki)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function mm(t){if(!Yl||!t||typeof t!="object")return!1;try{return Yl.call(t),!0}catch{}return!1}function _m(t){if(!vo||!t||typeof t!="object")return!1;try{vo.call(t);try{bo.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function wm(t){if(!Ki||!t||typeof t!="object")return!1;try{Ki.call(t,Ki);try{Yi.call(t,Yi)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Sm(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function ep(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return ep(Oc.call(t,0,e.maxStringLength),e)+n}var i=Dr.call(Dr.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Em);return Yd(i,"single",e)}function Em(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+sm.call(e.toString(16))}function Ui(t){return"Object("+t+")"}function Xa(t){return t+" { ? }"}function af(t,e,r,n){var i=n?Zu(r,n):cr.call(r,", ");return t+" ("+e+") {"+i+"}"}function Mm(t){for(var e=0;e<t.length;e++)if(Xd(t[e],`
`)>=0)return!1;return!0}function xm(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=cr.call(Array(t.indent+1)," ");else return null;return{base:r,prev:cr.call(Array(e+1),r)}}function Zu(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+cr.call(t,","+r)+`
`+e.prev}function Hs(t,e){var r=Ju(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Lr(t,i)?e(t[i],t):""}var s=typeof Ka=="function"?Ka(t):[],o;if(pi){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var u in t)Lr(t,u)&&(r&&String(Number(u))===u&&u<t.length||pi&&o["$"+u]instanceof Symbol||(Zd.call(/[^\w$]/,u)?n.push(e(u,t)+": "+e(t[u],t)):n.push(u+": "+e(t[u],t))));if(typeof Ka=="function")for(var l=0;l<s.length;l++)Qd.call(t,s[l])&&n.push("["+e(s[l])+"]: "+e(t[s[l]],t));return n}var Nc=Sc,Oi=hy,Cm=am,Rm=Nc("%TypeError%"),Us=Nc("%WeakMap%",!0),Vs=Nc("%Map%",!0),Im=Oi("WeakMap.prototype.get",!0),Am=Oi("WeakMap.prototype.set",!0),km=Oi("WeakMap.prototype.has",!0),Tm=Oi("Map.prototype.get",!0),Om=Oi("Map.prototype.set",!0),Nm=Oi("Map.prototype.has",!0),Lc=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},Lm=function(t,e){var r=Lc(t,e);return r&&r.value},Pm=function(t,e,r){var n=Lc(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},$m=function(t,e){return!!Lc(t,e)},Dm=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new Rm("Side channel does not contain "+Cm(s))},get:function(s){if(Us&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Im(e,s)}else if(Vs){if(r)return Tm(r,s)}else if(n)return Lm(n,s)},has:function(s){if(Us&&s&&(typeof s=="object"||typeof s=="function")){if(e)return km(e,s)}else if(Vs){if(r)return Nm(r,s)}else if(n)return $m(n,s);return!1},set:function(s,o){Us&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Us),Am(e,s,o)):Vs?(r||(r=new Vs),Om(r,s,o)):(n||(n={key:{},next:null}),Pm(n,s,o))}};return i},jm=String.prototype.replace,Bm=/%20/g,eu={RFC1738:"RFC1738",RFC3986:"RFC3986"},Pc={default:eu.RFC3986,formatters:{RFC1738:function(t){return jm.call(t,Bm,"+")},RFC3986:function(t){return String(t)}},RFC1738:eu.RFC1738,RFC3986:eu.RFC3986},Fm=Pc,tu=Object.prototype.hasOwnProperty,dn=Array.isArray,nr=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Wm=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(dn(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},tp=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},Hm=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(dn(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!tu.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return dn(e)&&!dn(r)&&(i=tp(e,n)),dn(e)&&dn(r)?(r.forEach(function(s,o){if(tu.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return tu.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},Um=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},Vm=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},zm=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});for(var a="",u=0;u<o.length;++u){var l=o.charCodeAt(u);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||s===Fm.RFC1738&&(l===40||l===41)){a+=o.charAt(u);continue}if(l<128){a=a+nr[l];continue}if(l<2048){a=a+(nr[192|l>>6]+nr[128|l&63]);continue}if(l<55296||l>=57344){a=a+(nr[224|l>>12]+nr[128|l>>6&63]+nr[128|l&63]);continue}u+=1,l=65536+((l&1023)<<10|o.charCodeAt(u)&1023),a+=nr[240|l>>18]+nr[128|l>>12&63]+nr[128|l>>6&63]+nr[128|l&63]}return a},qm=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),u=0;u<a.length;++u){var l=a[u],f=o[l];typeof f=="object"&&f!==null&&n.indexOf(f)===-1&&(r.push({obj:o,prop:l}),n.push(f))}return Wm(r),e},Gm=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Jm=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Zm=function(e,r){return[].concat(e,r)},Qm=function(e,r){if(dn(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},rp={arrayToObject:tp,assign:Um,combine:Zm,compact:qm,decode:Vm,encode:zm,isBuffer:Jm,isRegExp:Gm,maybeMap:Qm,merge:Hm},np=Dm,io=rp,Xi=Pc,Ym=Object.prototype.hasOwnProperty,uf={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},_r=Array.isArray,Km=Array.prototype.push,ip=function(t,e){Km.apply(t,_r(e)?e:[e])},Xm=Date.prototype.toISOString,cf=Xi.default,yt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:io.encode,encodeValuesOnly:!1,format:cf,formatter:Xi.formatters[cf],indices:!1,serializeDate:function(e){return Xm.call(e)},skipNulls:!1,strictNullHandling:!1},e1=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},ru={},t1=function t(e,r,n,i,s,o,a,u,l,f,d,g,w,M,T,O){for(var I=e,L=O,P=0,R=!1;(L=L.get(ru))!==void 0&&!R;){var N=L.get(e);if(P+=1,typeof N<"u"){if(N===P)throw new RangeError("Cyclic object value");R=!0}typeof L.get(ru)>"u"&&(P=0)}if(typeof u=="function"?I=u(r,I):I instanceof Date?I=d(I):n==="comma"&&_r(I)&&(I=io.maybeMap(I,function(b){return b instanceof Date?d(b):b})),I===null){if(s)return a&&!M?a(r,yt.encoder,T,"key",g):r;I=""}if(e1(I)||io.isBuffer(I)){if(a){var D=M?r:a(r,yt.encoder,T,"key",g);return[w(D)+"="+w(a(I,yt.encoder,T,"value",g))]}return[w(r)+"="+w(String(I))]}var H=[];if(typeof I>"u")return H;var V;if(n==="comma"&&_r(I))M&&a&&(I=io.maybeMap(I,a)),V=[{value:I.length>0?I.join(",")||null:void 0}];else if(_r(u))V=u;else{var B=Object.keys(I);V=l?B.sort(l):B}for(var Q=i&&_r(I)&&I.length===1?r+"[]":r,Z=0;Z<V.length;++Z){var X=V[Z],v=typeof X=="object"&&typeof X.value<"u"?X.value:I[X];if(!(o&&v===null)){var c=_r(I)?typeof n=="function"?n(Q,X):Q:Q+(f?"."+X:"["+X+"]");O.set(e,P);var p=np();p.set(ru,O),ip(H,t(v,c,n,i,s,o,n==="comma"&&M&&_r(I)?null:a,u,l,f,d,g,w,M,T,p))}}return H},r1=function(e){if(!e)return yt;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||yt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Xi.default;if(typeof e.format<"u"){if(!Ym.call(Xi.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Xi.formatters[n],s=yt.filter;return(typeof e.filter=="function"||_r(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:yt.addQueryPrefix,allowDots:typeof e.allowDots>"u"?yt.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:yt.charsetSentinel,delimiter:typeof e.delimiter>"u"?yt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:yt.encode,encoder:typeof e.encoder=="function"?e.encoder:yt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:yt.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:yt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:yt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:yt.strictNullHandling}},n1=function(t,e){var r=t,n=r1(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):_r(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in uf?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var u=uf[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=u==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var f=np(),d=0;d<i.length;++d){var g=i[d];n.skipNulls&&r[g]===null||ip(o,t1(r[g],g,u,l,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,f))}var w=o.join(n.delimiter),M=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?M+="utf8=%26%2310003%3B&":M+="utf8=%E2%9C%93&"),w.length>0?M+w:""},gi=rp,Qu=Object.prototype.hasOwnProperty,i1=Array.isArray,ut={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:gi.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s1=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},sp=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},o1="utf8=%26%2310003%3B",a1="utf8=%E2%9C%93",u1=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,u,l=r.charset;if(r.charsetSentinel)for(u=0;u<o.length;++u)o[u].indexOf("utf8=")===0&&(o[u]===a1?l="utf-8":o[u]===o1&&(l="iso-8859-1"),a=u,u=o.length);for(u=0;u<o.length;++u)if(u!==a){var f=o[u],d=f.indexOf("]="),g=d===-1?f.indexOf("="):d+1,w,M;g===-1?(w=r.decoder(f,ut.decoder,l,"key"),M=r.strictNullHandling?null:""):(w=r.decoder(f.slice(0,g),ut.decoder,l,"key"),M=gi.maybeMap(sp(f.slice(g+1),r),function(T){return r.decoder(T,ut.decoder,l,"value")})),M&&r.interpretNumericEntities&&l==="iso-8859-1"&&(M=s1(M)),f.indexOf("[]=")>-1&&(M=i1(M)?[M]:M),Qu.call(n,w)?n[w]=gi.combine(n[w],M):n[w]=M}return n},c1=function(t,e,r,n){for(var i=n?e:sp(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var u=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,l=parseInt(u,10);!r.parseArrays&&u===""?o={0:i}:!isNaN(l)&&a!==u&&String(l)===u&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(o=[],o[l]=i):u!=="__proto__"&&(o[u]=i)}i=o}return i},l1=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,u=n.depth>0&&o.exec(s),l=u?s.slice(0,u.index):s,f=[];if(l){if(!n.plainObjects&&Qu.call(Object.prototype,l)&&!n.allowPrototypes)return;f.push(l)}for(var d=0;n.depth>0&&(u=a.exec(s))!==null&&d<n.depth;){if(d+=1,!n.plainObjects&&Qu.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;f.push(u[1])}return u&&f.push("["+s.slice(u.index)+"]"),c1(f,r,n,i)}},f1=function(e){if(!e)return ut;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?ut.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?ut.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:ut.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:ut.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:ut.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ut.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:ut.comma,decoder:typeof e.decoder=="function"?e.decoder:ut.decoder,delimiter:typeof e.delimiter=="string"||gi.isRegExp(e.delimiter)?e.delimiter:ut.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:ut.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:ut.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:ut.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:ut.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ut.strictNullHandling}},h1=function(t,e){var r=f1(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?u1(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],u=l1(a,n[a],r,typeof t=="string");i=gi.merge(i,u,r)}return r.allowSparse===!0?i:gi.compact(i)},d1=n1,p1=h1,g1=Pc,b1={formats:g1,parse:p1,stringify:d1},ws={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function r(n){return Math.floor(n)}t.IntNumber=r,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(ws);var v1=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Y,"__esModule",{value:!0});Y.isInIFrame=Y.createQrUrl=Y.getFavicon=Y.range=Y.isBigNumber=Y.ensureParsedJSONObject=Y.ensureBN=Y.ensureRegExpString=Y.ensureIntNumber=Y.ensureBuffer=Y.ensureAddressString=Y.ensureEvenLengthHexString=Y.ensureHexString=Y.isHexString=Y.prepend0x=Y.strip0x=Y.has0xPrefix=Y.hexStringFromIntNumber=Y.intNumberFromHexString=Y.bigIntStringFromBN=Y.hexStringFromBuffer=Y.hexStringToUint8Array=Y.uint8ArrayToHex=Y.randomBytesHex=void 0;const Pr=v1(No),y1=b1,Tn=hs,Ft=ws,op=/^[0-9]*$/,ap=/^[a-f0-9]*$/;function m1(t){return up(crypto.getRandomValues(new Uint8Array(t)))}Y.randomBytesHex=m1;function up(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}Y.uint8ArrayToHex=up;function _1(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}Y.hexStringToUint8Array=_1;function w1(t,e=!1){const r=t.toString("hex");return(0,Ft.HexString)(e?"0x"+r:r)}Y.hexStringFromBuffer=w1;function S1(t){return(0,Ft.BigIntString)(t.toString(10))}Y.bigIntStringFromBN=S1;function E1(t){return(0,Ft.IntNumber)(new Pr.default(Es(t,!1),16).toNumber())}Y.intNumberFromHexString=E1;function M1(t){return(0,Ft.HexString)("0x"+new Pr.default(t).toString(16))}Y.hexStringFromIntNumber=M1;function $c(t){return t.startsWith("0x")||t.startsWith("0X")}Y.has0xPrefix=$c;function Ho(t){return $c(t)?t.slice(2):t}Y.strip0x=Ho;function cp(t){return $c(t)?"0x"+t.slice(2):"0x"+t}Y.prepend0x=cp;function Ss(t){if(typeof t!="string")return!1;const e=Ho(t).toLowerCase();return ap.test(e)}Y.isHexString=Ss;function lp(t,e=!1){if(typeof t=="string"){const r=Ho(t).toLowerCase();if(ap.test(r))return(0,Ft.HexString)(e?"0x"+r:r)}throw Tn.standardErrors.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}Y.ensureHexString=lp;function Es(t,e=!1){let r=lp(t,!1);return r.length%2===1&&(r=(0,Ft.HexString)("0"+r)),e?(0,Ft.HexString)("0x"+r):r}Y.ensureEvenLengthHexString=Es;function x1(t){if(typeof t=="string"){const e=Ho(t).toLowerCase();if(Ss(e)&&e.length===40)return(0,Ft.AddressString)(cp(e))}throw Tn.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}Y.ensureAddressString=x1;function C1(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string")if(Ss(t)){const e=Es(t,!1);return Buffer.from(e,"hex")}else return Buffer.from(t,"utf8");throw Tn.standardErrors.rpc.invalidParams(`Not binary data: ${String(t)}`)}Y.ensureBuffer=C1;function fp(t){if(typeof t=="number"&&Number.isInteger(t))return(0,Ft.IntNumber)(t);if(typeof t=="string"){if(op.test(t))return(0,Ft.IntNumber)(Number(t));if(Ss(t))return(0,Ft.IntNumber)(new Pr.default(Es(t,!1),16).toNumber())}throw Tn.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}Y.ensureIntNumber=fp;function R1(t){if(t instanceof RegExp)return(0,Ft.RegExpString)(t.toString());throw Tn.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(t)}`)}Y.ensureRegExpString=R1;function I1(t){if(t!==null&&(Pr.default.isBN(t)||hp(t)))return new Pr.default(t.toString(10),10);if(typeof t=="number")return new Pr.default(fp(t));if(typeof t=="string"){if(op.test(t))return new Pr.default(t,10);if(Ss(t))return new Pr.default(Es(t,!1),16)}throw Tn.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}Y.ensureBN=I1;function A1(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw Tn.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}Y.ensureParsedJSONObject=A1;function hp(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}Y.isBigNumber=hp;function k1(t,e){return Array.from({length:e-t},(r,n)=>t+n)}Y.range=k1;function T1(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}Y.getFavicon=T1;function O1(t,e,r,n,i,s){const o=n?"parent-id":"id",a=(0,y1.stringify)({[o]:t,secret:e,server:r,v:i,chainId:s});return`${r}/#/link?${a}`}Y.createQrUrl=O1;function N1(){try{return window.frameElement!==null}catch{return!1}}Y.isInIFrame=N1;Object.defineProperty(ki,"__esModule",{value:!0});ki.Session=void 0;const lf=Bv,ff=Y,hf="session:id",df="session:secret",pf="session:linked";class Dc{constructor(e,r,n,i){this._storage=e,this._id=r||(0,ff.randomBytesHex)(16),this._secret=n||(0,ff.randomBytesHex)(32),this._key=new lf.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(hf),n=e.getItem(pf),i=e.getItem(df);return r&&i?new Dc(e,r,i,n==="1"):null}static hash(e){return new lf.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(hf,this._id),this._storage.setItem(df,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(pf,this._linked?"1":"0")}}ki.Session=Dc;var Qt={};Object.defineProperty(Qt,"__esModule",{value:!0});Qt.WalletSDKRelayAbstract=Qt.APP_VERSION_KEY=Qt.LOCAL_STORAGE_ADDRESSES_KEY=Qt.WALLET_USER_NAME_KEY=void 0;const gf=hs;Qt.WALLET_USER_NAME_KEY="walletUsername";Qt.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";Qt.APP_VERSION_KEY="AppVersion";class L1{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw gf.standardErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,gf.serializeError)(s,e.method);return i})}}Qt.WalletSDKRelayAbstract=L1;var Yu={exports:{}};function On(){this.head=null,this.tail=null,this.length=0}On.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length};On.prototype.unshift=function(t){var e={data:t,next:this.head};this.length===0&&(this.tail=e),this.head=e,++this.length};On.prototype.shift=function(){if(this.length!==0){var t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}};On.prototype.clear=function(){this.head=this.tail=null,this.length=0};On.prototype.join=function(t){if(this.length===0)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r};On.prototype.concat=function(t){if(this.length===0)return Ht.alloc(0);if(this.length===1)return this.head.data;for(var e=Ht.allocUnsafe(t>>>0),r=this.head,n=0;r;)r.data.copy(e,n),n+=r.data.length,r=r.next;return e};var P1=Ht.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function $1(t){if(t&&!P1(t))throw new Error("Unknown encoding: "+t)}function Ni(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),$1(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=j1;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=B1;break;default:this.write=D1;return}this.charBuffer=new Ht(6),this.charReceived=0,this.charLength=0}Ni.prototype.write=function(t){for(var e="";this.charLength;){var r=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";t=t.slice(r,t.length),e=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var i=e.charCodeAt(e.length-1);if(i>=55296&&i<=56319){this.charLength+=this.surrogateSize,e="";continue}if(this.charReceived=this.charLength=0,t.length===0)return e;break}this.detectIncompleteChar(t);var n=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,n),n-=this.charReceived),e+=t.toString(this.encoding,0,n);var n=e.length-1,i=e.charCodeAt(n);if(i>=55296&&i<=56319){var s=this.surrogateSize;return this.charLength+=s,this.charReceived+=s,this.charBuffer.copy(this.charBuffer,s,0,s),t.copy(this.charBuffer,0,0,s),e.substring(0,n)}return e};Ni.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var r=t[t.length-e];if(e==1&&r>>5==6){this.charLength=2;break}if(e<=2&&r>>4==14){this.charLength=3;break}if(e<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=e};Ni.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;e+=n.slice(0,r).toString(i)}return e};function D1(t){return t.toString(this.encoding)}function j1(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function B1(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}var F1=Object.freeze({__proto__:null,StringDecoder:Ni});Ke.ReadableState=dp;var ve=Ec("stream");zr(Ke,Vr);function W1(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function H1(t,e){return t.listeners(e).length}function dp(t,e){t=t||{},this.objectMode=!!t.objectMode,e instanceof Tt&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,n=this.objectMode?16:16*1024;this.highWaterMark=r||r===0?r:n,this.highWaterMark=~~this.highWaterMark,this.buffer=new On,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(this.decoder=new Ni(t.encoding),this.encoding=t.encoding)}function Ke(t){if(!(this instanceof Ke))return new Ke(t);this._readableState=new dp(t,this),this.readable=!0,t&&typeof t.read=="function"&&(this._read=t.read),Vr.call(this)}Ke.prototype.push=function(t,e){var r=this._readableState;return!r.objectMode&&typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Ht.from(t,e),e="")),pp(this,r,t,e,!1)};Ke.prototype.unshift=function(t){var e=this._readableState;return pp(this,e,t,"",!0)};Ke.prototype.isPaused=function(){return this._readableState.flowing===!1};function pp(t,e,r,n,i){var s=z1(e,r);if(s)t.emit("error",s);else if(r===null)e.reading=!1,q1(t,e);else if(e.objectMode||r&&r.length>0)if(e.ended&&!i){var o=new Error("stream.push() after EOF");t.emit("error",o)}else if(e.endEmitted&&i){var a=new Error("stream.unshift() after end event");t.emit("error",a)}else{var u;e.decoder&&!i&&!n&&(r=e.decoder.write(r),u=!e.objectMode&&r.length===0),i||(e.reading=!1),u||(e.flowing&&e.length===0&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Uo(t))),G1(t,e)}else i||(e.reading=!1);return U1(e)}function U1(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}Ke.prototype.setEncoding=function(t){return this._readableState.decoder=new Ni(t),this._readableState.encoding=t,this};var bf=8388608;function V1(t){return t>=bf?t=bf:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function vf(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=V1(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Ke.prototype.read=function(t){ve("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return ve("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?nu(this):Uo(this),null;if(t=vf(t,e),t===0&&e.ended)return e.length===0&&nu(this),null;var n=e.needReadable;ve("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,ve("length less than watermark",n)),e.ended||e.reading?(n=!1,ve("reading or ended",n)):n&&(ve("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=vf(r,e)));var i;return t>0?i=gp(t,e):i=null,i===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&nu(this)),i!==null&&this.emit("data",i),i};function z1(t,e){var r=null;return!Ht.isBuffer(e)&&typeof e!="string"&&e!==null&&e!==void 0&&!t.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function q1(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,Uo(t)}}function Uo(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(ve("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?Ot(yf,t):yf(t))}function yf(t){ve("emit readable"),t.emit("readable"),jc(t)}function G1(t,e){e.readingMore||(e.readingMore=!0,Ot(J1,t,e))}function J1(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(ve("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}Ke.prototype._read=function(t){this.emit("error",new Error("not implemented"))};Ke.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,ve("pipe count=%d opts=%j",n.pipesCount,e);var i=!e||e.end!==!1,s=i?a:f;n.endEmitted?Ot(s):r.once("end",s),t.on("unpipe",o);function o(I){ve("onunpipe"),I===r&&f()}function a(){ve("onend"),t.end()}var u=Z1(r);t.on("drain",u);var l=!1;function f(){ve("cleanup"),t.removeListener("close",M),t.removeListener("finish",T),t.removeListener("drain",u),t.removeListener("error",w),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",f),r.removeListener("data",g),l=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&u()}var d=!1;r.on("data",g);function g(I){ve("ondata"),d=!1;var L=t.write(I);L===!1&&!d&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&bp(n.pipes,t)!==-1)&&!l&&(ve("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,d=!0),r.pause())}function w(I){ve("onerror",I),O(),t.removeListener("error",w),H1(t,"error")===0&&t.emit("error",I)}W1(t,"error",w);function M(){t.removeListener("finish",T),O()}t.once("close",M);function T(){ve("onfinish"),t.removeListener("close",M),O()}t.once("finish",T);function O(){ve("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(ve("pipe resume"),r.resume()),t};function Z1(t){return function(){var e=t._readableState;ve("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&t.listeners("data").length&&(e.flowing=!0,jc(t))}}Ke.prototype.unpipe=function(t){var e=this._readableState;if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var r=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}var s=bp(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)};Ke.prototype.on=function(t,e){var r=Vr.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&Uo(this):Ot(Q1,this))}return r};Ke.prototype.addListener=Ke.prototype.on;function Q1(t){ve("readable nexttick read 0"),t.read(0)}Ke.prototype.resume=function(){var t=this._readableState;return t.flowing||(ve("resume"),t.flowing=!0,Y1(this,t)),this};function Y1(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Ot(K1,t,e))}function K1(t,e){e.reading||(ve("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),jc(t),e.flowing&&!e.reading&&t.read(0)}Ke.prototype.pause=function(){return ve("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ve("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function jc(t){var e=t._readableState;for(ve("flow",e.flowing);e.flowing&&t.read()!==null;);}Ke.prototype.wrap=function(t){var e=this._readableState,r=!1,n=this;t.on("end",function(){if(ve("wrapped end"),e.decoder&&!e.ended){var o=e.decoder.end();o&&o.length&&n.push(o)}n.push(null)}),t.on("data",function(o){if(ve("wrapped data"),e.decoder&&(o=e.decoder.write(o)),!(e.objectMode&&o==null)&&!(!e.objectMode&&(!o||!o.length))){var a=n.push(o);a||(r=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(o){return function(){return t[o].apply(t,arguments)}}(i));var s=["error","close","destroy","pause","resume"];return n_(s,function(o){t.on(o,n.emit.bind(n,o))}),n._read=function(o){ve("wrapped _read",o),r&&(r=!1,t.resume())},n};Ke._fromList=gp;function gp(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.head.data:r=e.buffer.concat(e.length),e.buffer.clear()):r=X1(t,e.buffer,e.decoder),r}function X1(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?n=e.shift():n=r?e_(t,e):t_(t,e),n}function e_(t,e){var r=e.head,n=1,i=r.data;for(t-=i.length;r=r.next;){var s=r.data,o=t>s.length?s.length:t;if(o===s.length?i+=s:i+=s.slice(0,t),t-=o,t===0){o===s.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=s.slice(o));break}++n}return e.length-=n,i}function t_(t,e){var r=Ht.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(r),t-=n.data.length;n=n.next;){var s=n.data,o=t>s.length?s.length:t;if(s.copy(r,r.length-t,0,o),t-=o,t===0){o===s.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=s.slice(o));break}++i}return e.length-=i,r}function nu(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,Ot(r_,e,t))}function r_(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function n_(t,e){for(var r=0,n=t.length;r<n;r++)e(t[r],r)}function bp(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}gt.WritableState=Bc;zr(gt,Vr);function i_(){}function s_(t,e,r){this.chunk=t,this.encoding=e,this.callback=r,this.next=null}function Bc(t,e){Object.defineProperty(this,"buffer",{get:Fo(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),t=t||{},this.objectMode=!!t.objectMode,e instanceof Tt&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,n=this.objectMode?16:16*1024;this.highWaterMark=r||r===0?r:n,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=t.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(s){h_(e,s)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new _p(this)}Bc.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};function gt(t){if(!(this instanceof gt)&&!(this instanceof Tt))return new gt(t);this._writableState=new Bc(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev)),Vr.call(this)}gt.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function o_(t,e){var r=new Error("write after end");t.emit("error",r),Ot(e,r)}function a_(t,e,r,n){var i=!0,s=!1;return r===null?s=new TypeError("May not write null values to stream"):!Ht.isBuffer(r)&&typeof r!="string"&&r!==void 0&&!e.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),Ot(n,s),i=!1),i}gt.prototype.write=function(t,e,r){var n=this._writableState,i=!1;return typeof e=="function"&&(r=e,e=null),Ht.isBuffer(t)?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=i_),n.ended?o_(this,r):a_(this,n,t,r)&&(n.pendingcb++,i=c_(this,n,t,e,r)),i};gt.prototype.cork=function(){var t=this._writableState;t.corked++};gt.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.finished&&!t.bufferProcessing&&t.bufferedRequest&&vp(this,t))};gt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function u_(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Ht.from(e,r)),e}function c_(t,e,r,n,i){r=u_(e,r,n),Ht.isBuffer(r)&&(n="buffer");var s=e.objectMode?1:r.length;e.length+=s;var o=e.length<e.highWaterMark;if(o||(e.needDrain=!0),e.writing||e.corked){var a=e.lastBufferedRequest;e.lastBufferedRequest=new s_(r,n,i),a?a.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Ku(t,e,!1,s,r,n,i);return o}function Ku(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function l_(t,e,r,n,i){--e.pendingcb,r?Ot(i,n):i(n),t._writableState.errorEmitted=!0,t.emit("error",n)}function f_(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function h_(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(f_(r),e)l_(t,r,n,e,i);else{var s=yp(r);!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&vp(t,r),n?Ot(mf,t,r,s,i):mf(t,r,s,i)}}function mf(t,e,r,n){r||d_(t,e),e.pendingcb--,n(),mp(t,e)}function d_(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function vp(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var o=0;r;)i[o]=r,r=r.next,o+=1;Ku(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new _p(e)}else{for(;r;){var a=r.chunk,u=r.encoding,l=r.callback,f=e.objectMode?1:a.length;if(Ku(t,e,!1,f,a,u,l),r=r.next,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=r,e.bufferProcessing=!1}gt.prototype._write=function(t,e,r){r(new Error("not implemented"))};gt.prototype._writev=null;gt.prototype.end=function(t,e,r){var n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&p_(this,n,r)};function yp(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function _f(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function mp(t,e){var r=yp(e);return r&&(e.pendingcb===0?(_f(t,e),e.finished=!0,t.emit("finish")):_f(t,e)),r}function p_(t,e,r){e.ending=!0,mp(t,e),r&&(e.finished?Ot(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function _p(t){var e=this;this.next=null,this.entry=null,this.finish=function(r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}}zr(Tt,Ke);var wf=Object.keys(gt.prototype);for(var iu=0;iu<wf.length;iu++){var su=wf[iu];Tt.prototype[su]||(Tt.prototype[su]=gt.prototype[su])}function Tt(t){if(!(this instanceof Tt))return new Tt(t);Ke.call(this,t),gt.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",g_)}function g_(){this.allowHalfOpen||this._writableState.ended||Ot(b_,this)}function b_(t){t.end()}zr(Yt,Tt);function v_(t){this.afterTransform=function(e,r){return y_(t,e,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function y_(t,e,r){var n=t._transformState;n.transforming=!1;var i=n.writecb;if(!i)return t.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,r!=null&&t.push(r),i(e);var s=t._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&t._read(s.highWaterMark)}function Yt(t){if(!(this instanceof Yt))return new Yt(t);Tt.call(this,t),this._transformState=new v_(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(r){Sf(e,r)}):Sf(e)})}Yt.prototype.push=function(t,e){return this._transformState.needTransform=!1,Tt.prototype.push.call(this,t,e)};Yt.prototype._transform=function(t,e,r){throw new Error("Not implemented")};Yt.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Yt.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};function Sf(t,e){if(e)return t.emit("error",e);var r=t._writableState,n=t._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(n.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}zr(bi,Yt);function bi(t){if(!(this instanceof bi))return new bi(t);Yt.call(this,t)}bi.prototype._transform=function(t,e,r){r(null,t)};zr(Kt,Vr);Kt.Readable=Ke;Kt.Writable=gt;Kt.Duplex=Tt;Kt.Transform=Yt;Kt.PassThrough=bi;Kt.Stream=Kt;function Kt(){Vr.call(this)}Kt.prototype.pipe=function(t,e){var r=this;function n(f){t.writable&&t.write(f)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));var s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function u(f){if(l(),Vr.listenerCount(this,"error")===0)throw f}r.on("error",u),t.on("error",u);function l(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",u),t.removeListener("error",u),r.removeListener("end",l),r.removeListener("close",l),t.removeListener("close",l)}return r.on("end",l),r.on("close",l),t.on("close",l),t.emit("pipe",r),t};var m_=Object.freeze({__proto__:null,Duplex:Tt,PassThrough:bi,Readable:Ke,Stream:Kt,Transform:Yt,Writable:gt,default:Kt}),__=Ut(m_),wp=__,ou,Ef;function w_(){if(Ef)return ou;Ef=1;function t(M,T){var O=Object.keys(M);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(M);T&&(I=I.filter(function(L){return Object.getOwnPropertyDescriptor(M,L).enumerable})),O.push.apply(O,I)}return O}function e(M){for(var T=1;T<arguments.length;T++){var O=arguments[T]!=null?arguments[T]:{};T%2?t(Object(O),!0).forEach(function(I){r(M,I,O[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(O)):t(Object(O)).forEach(function(I){Object.defineProperty(M,I,Object.getOwnPropertyDescriptor(O,I))})}return M}function r(M,T,O){return T=o(T),T in M?Object.defineProperty(M,T,{value:O,enumerable:!0,configurable:!0,writable:!0}):M[T]=O,M}function n(M,T){if(!(M instanceof T))throw new TypeError("Cannot call a class as a function")}function i(M,T){for(var O=0;O<T.length;O++){var I=T[O];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,o(I.key),I)}}function s(M,T,O){return T&&i(M.prototype,T),O&&i(M,O),Object.defineProperty(M,"prototype",{writable:!1}),M}function o(M){var T=a(M,"string");return typeof T=="symbol"?T:String(T)}function a(M,T){if(typeof M!="object"||M===null)return M;var O=M[Symbol.toPrimitive];if(O!==void 0){var I=O.call(M,T||"default");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(M)}var u=fs,l=u.Buffer,f=Ac,d=f.inspect,g=d&&d.custom||"inspect";function w(M,T,O){l.prototype.copy.call(M,T,O)}return ou=function(){function M(){n(this,M),this.head=null,this.tail=null,this.length=0}return s(M,[{key:"push",value:function(O){var I={data:O,next:null};this.length>0?this.tail.next=I:this.head=I,this.tail=I,++this.length}},{key:"unshift",value:function(O){var I={data:O,next:this.head};this.length===0&&(this.tail=I),this.head=I,++this.length}},{key:"shift",value:function(){if(this.length!==0){var O=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,O}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(O){if(this.length===0)return"";for(var I=this.head,L=""+I.data;I=I.next;)L+=O+I.data;return L}},{key:"concat",value:function(O){if(this.length===0)return l.alloc(0);for(var I=l.allocUnsafe(O>>>0),L=this.head,P=0;L;)w(L.data,I,P),P+=L.data.length,L=L.next;return I}},{key:"consume",value:function(O,I){var L;return O<this.head.data.length?(L=this.head.data.slice(0,O),this.head.data=this.head.data.slice(O)):O===this.head.data.length?L=this.shift():L=I?this._getString(O):this._getBuffer(O),L}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(O){var I=this.head,L=1,P=I.data;for(O-=P.length;I=I.next;){var R=I.data,N=O>R.length?R.length:O;if(N===R.length?P+=R:P+=R.slice(0,O),O-=N,O===0){N===R.length?(++L,I.next?this.head=I.next:this.head=this.tail=null):(this.head=I,I.data=R.slice(N));break}++L}return this.length-=L,P}},{key:"_getBuffer",value:function(O){var I=l.allocUnsafe(O),L=this.head,P=1;for(L.data.copy(I),O-=L.data.length;L=L.next;){var R=L.data,N=O>R.length?R.length:O;if(R.copy(I,I.length-O,0,N),O-=N,O===0){N===R.length?(++P,L.next?this.head=L.next:this.head=this.tail=null):(this.head=L,L.data=R.slice(N));break}++P}return this.length-=P,I}},{key:g,value:function(O,I){return d(this,e(e({},I),{},{depth:0,customInspect:!1}))}}]),M}(),ou}function S_(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(Xu,this,t)):process.nextTick(Xu,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(so,r):(r._writableState.errorEmitted=!0,process.nextTick(Mf,r,s)):process.nextTick(Mf,r,s):e?(process.nextTick(so,r),e(s)):process.nextTick(so,r)}),this)}function Mf(t,e){Xu(t,e),so(t)}function so(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function E_(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Xu(t,e){t.emit("error",e)}function M_(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var Sp={destroy:S_,undestroy:E_,errorOrDestroy:M_},Gr={};const Ep={};function Vt(t,e,r){r||(r=Error);function n(s,o,a){return typeof e=="string"?e:e(s,o,a)}class i extends r{constructor(o,a,u){super(n(o,a,u))}}i.prototype.name=r.name,i.prototype.code=t,Ep[t]=i}function xf(t,e){if(Array.isArray(t)){const r=t.length;return t=t.map(n=>String(n)),r>2?`one of ${e} ${t.slice(0,r-1).join(", ")}, or `+t[r-1]:r===2?`one of ${e} ${t[0]} or ${t[1]}`:`of ${e} ${t[0]}`}else return`of ${e} ${String(t)}`}function x_(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function C_(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function R_(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Vt("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Vt("ERR_INVALID_ARG_TYPE",function(t,e,r){let n;typeof e=="string"&&x_(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";let i;if(C_(t," argument"))i=`The ${t} ${n} ${xf(e,"type")}`;else{const s=R_(t,".")?"property":"argument";i=`The "${t}" ${s} ${n} ${xf(e,"type")}`}return i+=`. Received type ${typeof r}`,i},TypeError);Vt("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Vt("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Vt("ERR_STREAM_PREMATURE_CLOSE","Premature close");Vt("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Vt("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Vt("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Vt("ERR_STREAM_WRITE_AFTER_END","write after end");Vt("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Vt("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Vt("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Gr.codes=Ep;var I_=Gr.codes.ERR_INVALID_OPT_VALUE;function A_(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function k_(t,e,r,n){var i=A_(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new I_(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var Mp={getHighWaterMark:k_},au,Cf;function T_(){if(Cf)return au;Cf=1,au=t;function t(r,n){if(e("noDeprecation"))return r;var i=!1;function s(){if(!i){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this,arguments)}return s}function e(r){try{if(!J.localStorage)return!1}catch{return!1}var n=J.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return au}var uu,Rf;function xp(){if(Rf)return uu;Rf=1,uu=V;function t(A){var $=this;this.next=null,this.entry=null,this.finish=function(){G($,A)}}var e;V.WritableState=D;var r={deprecate:T_()},n=wp,i=fs.Buffer,s=(typeof J<"u"?J:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(A){return i.from(A)}function a(A){return i.isBuffer(A)||A instanceof s}var u=Sp,l=Mp,f=l.getHighWaterMark,d=Gr.codes,g=d.ERR_INVALID_ARG_TYPE,w=d.ERR_METHOD_NOT_IMPLEMENTED,M=d.ERR_MULTIPLE_CALLBACK,T=d.ERR_STREAM_CANNOT_PIPE,O=d.ERR_STREAM_DESTROYED,I=d.ERR_STREAM_NULL_VALUES,L=d.ERR_STREAM_WRITE_AFTER_END,P=d.ERR_UNKNOWN_ENCODING,R=u.errorOrDestroy;Xt(V,n);function N(){}function D(A,$,j){e=e||vi(),A=A||{},typeof j!="boolean"&&(j=$ instanceof e),this.objectMode=!!A.objectMode,j&&(this.objectMode=this.objectMode||!!A.writableObjectMode),this.highWaterMark=f(this,A,"writableHighWaterMark",j),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var z=A.decodeStrings===!1;this.decodeStrings=!z,this.defaultEncoding=A.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(oe){b($,oe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=A.emitClose!==!1,this.autoDestroy=!!A.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}D.prototype.getBuffer=function(){for(var $=this.bufferedRequest,j=[];$;)j.push($),$=$.next;return j},function(){try{Object.defineProperty(D.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var H;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(H=Function.prototype[Symbol.hasInstance],Object.defineProperty(V,Symbol.hasInstance,{value:function($){return H.call(this,$)?!0:this!==V?!1:$&&$._writableState instanceof D}})):H=function($){return $ instanceof this};function V(A){e=e||vi();var $=this instanceof e;if(!$&&!H.call(V,this))return new V(A);this._writableState=new D(A,this,$),this.writable=!0,A&&(typeof A.write=="function"&&(this._write=A.write),typeof A.writev=="function"&&(this._writev=A.writev),typeof A.destroy=="function"&&(this._destroy=A.destroy),typeof A.final=="function"&&(this._final=A.final)),n.call(this)}V.prototype.pipe=function(){R(this,new T)};function B(A,$){var j=new L;R(A,j),process.nextTick($,j)}function Q(A,$,j,z){var oe;return j===null?oe=new I:typeof j!="string"&&!$.objectMode&&(oe=new g("chunk",["string","Buffer"],j)),oe?(R(A,oe),process.nextTick(z,oe),!1):!0}V.prototype.write=function(A,$,j){var z=this._writableState,oe=!1,S=!z.objectMode&&a(A);return S&&!i.isBuffer(A)&&(A=o(A)),typeof $=="function"&&(j=$,$=null),S?$="buffer":$||($=z.defaultEncoding),typeof j!="function"&&(j=N),z.ending?B(this,j):(S||Q(this,z,A,j))&&(z.pendingcb++,oe=X(this,z,S,A,$,j)),oe},V.prototype.cork=function(){this._writableState.corked++},V.prototype.uncork=function(){var A=this._writableState;A.corked&&(A.corked--,!A.writing&&!A.corked&&!A.bufferProcessing&&A.bufferedRequest&&C(this,A))},V.prototype.setDefaultEncoding=function($){if(typeof $=="string"&&($=$.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf(($+"").toLowerCase())>-1))throw new P($);return this._writableState.defaultEncoding=$,this},Object.defineProperty(V.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Z(A,$,j){return!A.objectMode&&A.decodeStrings!==!1&&typeof $=="string"&&($=i.from($,j)),$}Object.defineProperty(V.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function X(A,$,j,z,oe,S){if(!j){var E=Z($,z,oe);z!==E&&(j=!0,oe="buffer",z=E)}var W=$.objectMode?1:z.length;$.length+=W;var U=$.length<$.highWaterMark;if(U||($.needDrain=!0),$.writing||$.corked){var re=$.lastBufferedRequest;$.lastBufferedRequest={chunk:z,encoding:oe,isBuf:j,callback:S,next:null},re?re.next=$.lastBufferedRequest:$.bufferedRequest=$.lastBufferedRequest,$.bufferedRequestCount+=1}else v(A,$,!1,W,z,oe,S);return U}function v(A,$,j,z,oe,S,E){$.writelen=z,$.writecb=E,$.writing=!0,$.sync=!0,$.destroyed?$.onwrite(new O("write")):j?A._writev(oe,$.onwrite):A._write(oe,S,$.onwrite),$.sync=!1}function c(A,$,j,z,oe){--$.pendingcb,j?(process.nextTick(oe,z),process.nextTick(x,A,$),A._writableState.errorEmitted=!0,R(A,z)):(oe(z),A._writableState.errorEmitted=!0,R(A,z),x(A,$))}function p(A){A.writing=!1,A.writecb=null,A.length-=A.writelen,A.writelen=0}function b(A,$){var j=A._writableState,z=j.sync,oe=j.writecb;if(typeof oe!="function")throw new M;if(p(j),$)c(A,j,z,$,oe);else{var S=k(j)||A.destroyed;!S&&!j.corked&&!j.bufferProcessing&&j.bufferedRequest&&C(A,j),z?process.nextTick(y,A,j,S,oe):y(A,j,S,oe)}}function y(A,$,j,z){j||_(A,$),$.pendingcb--,z(),x(A,$)}function _(A,$){$.length===0&&$.needDrain&&($.needDrain=!1,A.emit("drain"))}function C(A,$){$.bufferProcessing=!0;var j=$.bufferedRequest;if(A._writev&&j&&j.next){var z=$.bufferedRequestCount,oe=new Array(z),S=$.corkedRequestsFree;S.entry=j;for(var E=0,W=!0;j;)oe[E]=j,j.isBuf||(W=!1),j=j.next,E+=1;oe.allBuffers=W,v(A,$,!0,$.length,oe,"",S.finish),$.pendingcb++,$.lastBufferedRequest=null,S.next?($.corkedRequestsFree=S.next,S.next=null):$.corkedRequestsFree=new t($),$.bufferedRequestCount=0}else{for(;j;){var U=j.chunk,re=j.encoding,se=j.callback,ee=$.objectMode?1:U.length;if(v(A,$,!1,ee,U,re,se),j=j.next,$.bufferedRequestCount--,$.writing)break}j===null&&($.lastBufferedRequest=null)}$.bufferedRequest=j,$.bufferProcessing=!1}V.prototype._write=function(A,$,j){j(new w("_write()"))},V.prototype._writev=null,V.prototype.end=function(A,$,j){var z=this._writableState;return typeof A=="function"?(j=A,A=null,$=null):typeof $=="function"&&(j=$,$=null),A!=null&&this.write(A,$),z.corked&&(z.corked=1,this.uncork()),z.ending||q(this,z,j),this},Object.defineProperty(V.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function k(A){return A.ending&&A.length===0&&A.bufferedRequest===null&&!A.finished&&!A.writing}function m(A,$){A._final(function(j){$.pendingcb--,j&&R(A,j),$.prefinished=!0,A.emit("prefinish"),x(A,$)})}function h(A,$){!$.prefinished&&!$.finalCalled&&(typeof A._final=="function"&&!$.destroyed?($.pendingcb++,$.finalCalled=!0,process.nextTick(m,A,$)):($.prefinished=!0,A.emit("prefinish")))}function x(A,$){var j=k($);if(j&&(h(A,$),$.pendingcb===0&&($.finished=!0,A.emit("finish"),$.autoDestroy))){var z=A._readableState;(!z||z.autoDestroy&&z.endEmitted)&&A.destroy()}return j}function q(A,$,j){$.ending=!0,x(A,$),j&&($.finished?process.nextTick(j):A.once("finish",j)),$.ended=!0,A.writable=!1}function G(A,$,j){var z=A.entry;for(A.entry=null;z;){var oe=z.callback;$.pendingcb--,oe(j),z=z.next}$.corkedRequestsFree.next=A}return Object.defineProperty(V.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function($){this._writableState&&(this._writableState.destroyed=$)}}),V.prototype.destroy=u.destroy,V.prototype._undestroy=u.undestroy,V.prototype._destroy=function(A,$){$(A)},uu}var cu,If;function vi(){if(If)return cu;If=1;var t=Object.keys||function(l){var f=[];for(var d in l)f.push(d);return f};cu=o;var e=Rp(),r=xp();Xt(o,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(l){if(!(this instanceof o))return new o(l);e.call(this,l),r.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(u,this)}function u(l){l.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}}),cu}var Af=Ut(F1),kf=Gr.codes.ERR_STREAM_PREMATURE_CLOSE;function O_(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function N_(){}function L_(t){return t.setHeader&&typeof t.abort=="function"}function Cp(t,e,r){if(typeof e=="function")return Cp(t,null,e);e||(e={}),r=O_(r||N_);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,n||r.call(t)},u=t._readableState&&t._readableState.endEmitted,l=function(){n=!1,u=!0,i||r.call(t)},f=function(M){r.call(t,M)},d=function(){var M;if(n&&!u)return(!t._readableState||!t._readableState.ended)&&(M=new kf),r.call(t,M);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(M=new kf),r.call(t,M)},g=function(){t.req.on("finish",a)};return L_(t)?(t.on("complete",a),t.on("abort",d),t.req?g():t.on("request",g)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",l),t.on("finish",a),e.error!==!1&&t.on("error",f),t.on("close",d),function(){t.removeListener("complete",a),t.removeListener("abort",d),t.removeListener("request",g),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",l),t.removeListener("error",f),t.removeListener("close",d)}}var Fc=Cp,lu,Tf;function P_(){if(Tf)return lu;Tf=1;var t;function e(P,R,N){return R=r(R),R in P?Object.defineProperty(P,R,{value:N,enumerable:!0,configurable:!0,writable:!0}):P[R]=N,P}function r(P){var R=n(P,"string");return typeof R=="symbol"?R:String(R)}function n(P,R){if(typeof P!="object"||P===null)return P;var N=P[Symbol.toPrimitive];if(N!==void 0){var D=N.call(P,R||"default");if(typeof D!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(P)}var i=Fc,s=Symbol("lastResolve"),o=Symbol("lastReject"),a=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function g(P,R){return{value:P,done:R}}function w(P){var R=P[s];if(R!==null){var N=P[d].read();N!==null&&(P[l]=null,P[s]=null,P[o]=null,R(g(N,!1)))}}function M(P){process.nextTick(w,P)}function T(P,R){return function(N,D){P.then(function(){if(R[u]){N(g(void 0,!0));return}R[f](N,D)},D)}}var O=Object.getPrototypeOf(function(){}),I=Object.setPrototypeOf((t={get stream(){return this[d]},next:function(){var R=this,N=this[a];if(N!==null)return Promise.reject(N);if(this[u])return Promise.resolve(g(void 0,!0));if(this[d].destroyed)return new Promise(function(B,Q){process.nextTick(function(){R[a]?Q(R[a]):B(g(void 0,!0))})});var D=this[l],H;if(D)H=new Promise(T(D,this));else{var V=this[d].read();if(V!==null)return Promise.resolve(g(V,!1));H=new Promise(this[f])}return this[l]=H,H}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var R=this;return new Promise(function(N,D){R[d].destroy(null,function(H){if(H){D(H);return}N(g(void 0,!0))})})}),t),O),L=function(R){var N,D=Object.create(I,(N={},e(N,d,{value:R,writable:!0}),e(N,s,{value:null,writable:!0}),e(N,o,{value:null,writable:!0}),e(N,a,{value:null,writable:!0}),e(N,u,{value:R._readableState.endEmitted,writable:!0}),e(N,f,{value:function(V,B){var Q=D[d].read();Q?(D[l]=null,D[s]=null,D[o]=null,V(g(Q,!1))):(D[s]=V,D[o]=B)},writable:!0}),N));return D[l]=null,i(R,function(H){if(H&&H.code!=="ERR_STREAM_PREMATURE_CLOSE"){var V=D[o];V!==null&&(D[l]=null,D[s]=null,D[o]=null,V(H)),D[a]=H;return}var B=D[s];B!==null&&(D[l]=null,D[s]=null,D[o]=null,B(g(void 0,!0))),D[u]=!0}),R.on("readable",M.bind(null,D)),D};return lu=L,lu}var fu,Of;function $_(){if(Of)return fu;Of=1;function t(l,f,d,g,w,M,T){try{var O=l[M](T),I=O.value}catch(L){d(L);return}O.done?f(I):Promise.resolve(I).then(g,w)}function e(l){return function(){var f=this,d=arguments;return new Promise(function(g,w){var M=l.apply(f,d);function T(I){t(M,g,w,T,O,"next",I)}function O(I){t(M,g,w,T,O,"throw",I)}T(void 0)})}}function r(l,f){var d=Object.keys(l);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(l);f&&(g=g.filter(function(w){return Object.getOwnPropertyDescriptor(l,w).enumerable})),d.push.apply(d,g)}return d}function n(l){for(var f=1;f<arguments.length;f++){var d=arguments[f]!=null?arguments[f]:{};f%2?r(Object(d),!0).forEach(function(g){i(l,g,d[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(d)):r(Object(d)).forEach(function(g){Object.defineProperty(l,g,Object.getOwnPropertyDescriptor(d,g))})}return l}function i(l,f,d){return f=s(f),f in l?Object.defineProperty(l,f,{value:d,enumerable:!0,configurable:!0,writable:!0}):l[f]=d,l}function s(l){var f=o(l,"string");return typeof f=="symbol"?f:String(f)}function o(l,f){if(typeof l!="object"||l===null)return l;var d=l[Symbol.toPrimitive];if(d!==void 0){var g=d.call(l,f||"default");if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(l)}var a=Gr.codes.ERR_INVALID_ARG_TYPE;function u(l,f,d){var g;if(f&&typeof f.next=="function")g=f;else if(f&&f[Symbol.asyncIterator])g=f[Symbol.asyncIterator]();else if(f&&f[Symbol.iterator])g=f[Symbol.iterator]();else throw new a("iterable",["Iterable"],f);var w=new l(n({objectMode:!0},d)),M=!1;w._read=function(){M||(M=!0,T())};function T(){return O.apply(this,arguments)}function O(){return O=e(function*(){try{var I=yield g.next(),L=I.value,P=I.done;P?w.push(null):w.push(yield L)?T():M=!1}catch(R){w.destroy(R)}}),O.apply(this,arguments)}return w}return fu=u,fu}var hu,Nf;function Rp(){if(Nf)return hu;Nf=1,hu=B;var t;B.ReadableState=V,gd.EventEmitter;var e=function(E,W){return E.listeners(W).length},r=wp,n=fs.Buffer,i=(typeof J<"u"?J:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(S){return n.from(S)}function o(S){return n.isBuffer(S)||S instanceof i}var a=Ac,u;a&&a.debuglog?u=a.debuglog("stream"):u=function(){};var l=w_(),f=Sp,d=Mp,g=d.getHighWaterMark,w=Gr.codes,M=w.ERR_INVALID_ARG_TYPE,T=w.ERR_STREAM_PUSH_AFTER_EOF,O=w.ERR_METHOD_NOT_IMPLEMENTED,I=w.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,L,P,R;Xt(B,r);var N=f.errorOrDestroy,D=["error","close","destroy","pause","resume"];function H(S,E,W){if(typeof S.prependListener=="function")return S.prependListener(E,W);!S._events||!S._events[E]?S.on(E,W):Array.isArray(S._events[E])?S._events[E].unshift(W):S._events[E]=[W,S._events[E]]}function V(S,E,W){t=t||vi(),S=S||{},typeof W!="boolean"&&(W=E instanceof t),this.objectMode=!!S.objectMode,W&&(this.objectMode=this.objectMode||!!S.readableObjectMode),this.highWaterMark=g(this,S,"readableHighWaterMark",W),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=S.emitClose!==!1,this.autoDestroy=!!S.autoDestroy,this.destroyed=!1,this.defaultEncoding=S.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,S.encoding&&(L||(L=Af.StringDecoder),this.decoder=new L(S.encoding),this.encoding=S.encoding)}function B(S){if(t=t||vi(),!(this instanceof B))return new B(S);var E=this instanceof t;this._readableState=new V(S,this,E),this.readable=!0,S&&(typeof S.read=="function"&&(this._read=S.read),typeof S.destroy=="function"&&(this._destroy=S.destroy)),r.call(this)}Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(E){this._readableState&&(this._readableState.destroyed=E)}}),B.prototype.destroy=f.destroy,B.prototype._undestroy=f.undestroy,B.prototype._destroy=function(S,E){E(S)},B.prototype.push=function(S,E){var W=this._readableState,U;return W.objectMode?U=!0:typeof S=="string"&&(E=E||W.defaultEncoding,E!==W.encoding&&(S=n.from(S,E),E=""),U=!0),Q(this,S,E,!1,U)},B.prototype.unshift=function(S){return Q(this,S,null,!0,!1)};function Q(S,E,W,U,re){u("readableAddChunk",E);var se=S._readableState;if(E===null)se.reading=!1,b(S,se);else{var ee;if(re||(ee=X(se,E)),ee)N(S,ee);else if(se.objectMode||E&&E.length>0)if(typeof E!="string"&&!se.objectMode&&Object.getPrototypeOf(E)!==n.prototype&&(E=s(E)),U)se.endEmitted?N(S,new I):Z(S,se,E,!0);else if(se.ended)N(S,new T);else{if(se.destroyed)return!1;se.reading=!1,se.decoder&&!W?(E=se.decoder.write(E),se.objectMode||E.length!==0?Z(S,se,E,!1):C(S,se)):Z(S,se,E,!1)}else U||(se.reading=!1,C(S,se))}return!se.ended&&(se.length<se.highWaterMark||se.length===0)}function Z(S,E,W,U){E.flowing&&E.length===0&&!E.sync?(E.awaitDrain=0,S.emit("data",W)):(E.length+=E.objectMode?1:W.length,U?E.buffer.unshift(W):E.buffer.push(W),E.needReadable&&y(S)),C(S,E)}function X(S,E){var W;return!o(E)&&typeof E!="string"&&E!==void 0&&!S.objectMode&&(W=new M("chunk",["string","Buffer","Uint8Array"],E)),W}B.prototype.isPaused=function(){return this._readableState.flowing===!1},B.prototype.setEncoding=function(S){L||(L=Af.StringDecoder);var E=new L(S);this._readableState.decoder=E,this._readableState.encoding=this._readableState.decoder.encoding;for(var W=this._readableState.buffer.head,U="";W!==null;)U+=E.write(W.data),W=W.next;return this._readableState.buffer.clear(),U!==""&&this._readableState.buffer.push(U),this._readableState.length=U.length,this};var v=1073741824;function c(S){return S>=v?S=v:(S--,S|=S>>>1,S|=S>>>2,S|=S>>>4,S|=S>>>8,S|=S>>>16,S++),S}function p(S,E){return S<=0||E.length===0&&E.ended?0:E.objectMode?1:S!==S?E.flowing&&E.length?E.buffer.head.data.length:E.length:(S>E.highWaterMark&&(E.highWaterMark=c(S)),S<=E.length?S:E.ended?E.length:(E.needReadable=!0,0))}B.prototype.read=function(S){u("read",S),S=parseInt(S,10);var E=this._readableState,W=S;if(S!==0&&(E.emittedReadable=!1),S===0&&E.needReadable&&((E.highWaterMark!==0?E.length>=E.highWaterMark:E.length>0)||E.ended))return u("read: emitReadable",E.length,E.ended),E.length===0&&E.ended?j(this):y(this),null;if(S=p(S,E),S===0&&E.ended)return E.length===0&&j(this),null;var U=E.needReadable;u("need readable",U),(E.length===0||E.length-S<E.highWaterMark)&&(U=!0,u("length less than watermark",U)),E.ended||E.reading?(U=!1,u("reading or ended",U)):U&&(u("do read"),E.reading=!0,E.sync=!0,E.length===0&&(E.needReadable=!0),this._read(E.highWaterMark),E.sync=!1,E.reading||(S=p(W,E)));var re;return S>0?re=$(S,E):re=null,re===null?(E.needReadable=E.length<=E.highWaterMark,S=0):(E.length-=S,E.awaitDrain=0),E.length===0&&(E.ended||(E.needReadable=!0),W!==S&&E.ended&&j(this)),re!==null&&this.emit("data",re),re};function b(S,E){if(u("onEofChunk"),!E.ended){if(E.decoder){var W=E.decoder.end();W&&W.length&&(E.buffer.push(W),E.length+=E.objectMode?1:W.length)}E.ended=!0,E.sync?y(S):(E.needReadable=!1,E.emittedReadable||(E.emittedReadable=!0,_(S)))}}function y(S){var E=S._readableState;u("emitReadable",E.needReadable,E.emittedReadable),E.needReadable=!1,E.emittedReadable||(u("emitReadable",E.flowing),E.emittedReadable=!0,process.nextTick(_,S))}function _(S){var E=S._readableState;u("emitReadable_",E.destroyed,E.length,E.ended),!E.destroyed&&(E.length||E.ended)&&(S.emit("readable"),E.emittedReadable=!1),E.needReadable=!E.flowing&&!E.ended&&E.length<=E.highWaterMark,A(S)}function C(S,E){E.readingMore||(E.readingMore=!0,process.nextTick(k,S,E))}function k(S,E){for(;!E.reading&&!E.ended&&(E.length<E.highWaterMark||E.flowing&&E.length===0);){var W=E.length;if(u("maybeReadMore read 0"),S.read(0),W===E.length)break}E.readingMore=!1}B.prototype._read=function(S){N(this,new O("_read()"))},B.prototype.pipe=function(S,E){var W=this,U=this._readableState;switch(U.pipesCount){case 0:U.pipes=S;break;case 1:U.pipes=[U.pipes,S];break;default:U.pipes.push(S);break}U.pipesCount+=1,u("pipe count=%d opts=%j",U.pipesCount,E);var re=(!E||E.end!==!1)&&S!==process.stdout&&S!==process.stderr,se=re?de:be;U.endEmitted?process.nextTick(se):W.once("end",se),S.on("unpipe",ee);function ee(pe,Rt){u("onunpipe"),pe===W&&Rt&&Rt.hasUnpiped===!1&&(Rt.hasUnpiped=!0,Me())}function de(){u("onend"),S.end()}var rr=m(W);S.on("drain",rr);var Se=!1;function Me(){u("cleanup"),S.removeListener("close",me),S.removeListener("finish",yr),S.removeListener("drain",rr),S.removeListener("error",ye),S.removeListener("unpipe",ee),W.removeListener("end",de),W.removeListener("end",be),W.removeListener("data",Ir),Se=!0,U.awaitDrain&&(!S._writableState||S._writableState.needDrain)&&rr()}W.on("data",Ir);function Ir(pe){u("ondata");var Rt=S.write(pe);u("dest.write",Rt),Rt===!1&&((U.pipesCount===1&&U.pipes===S||U.pipesCount>1&&oe(U.pipes,S)!==-1)&&!Se&&(u("false write response, pause",U.awaitDrain),U.awaitDrain++),W.pause())}function ye(pe){u("onerror",pe),be(),S.removeListener("error",ye),e(S,"error")===0&&N(S,pe)}H(S,"error",ye);function me(){S.removeListener("finish",yr),be()}S.once("close",me);function yr(){u("onfinish"),S.removeListener("close",me),be()}S.once("finish",yr);function be(){u("unpipe"),W.unpipe(S)}return S.emit("pipe",W),U.flowing||(u("pipe resume"),W.resume()),S};function m(S){return function(){var W=S._readableState;u("pipeOnDrain",W.awaitDrain),W.awaitDrain&&W.awaitDrain--,W.awaitDrain===0&&e(S,"data")&&(W.flowing=!0,A(S))}}B.prototype.unpipe=function(S){var E=this._readableState,W={hasUnpiped:!1};if(E.pipesCount===0)return this;if(E.pipesCount===1)return S&&S!==E.pipes?this:(S||(S=E.pipes),E.pipes=null,E.pipesCount=0,E.flowing=!1,S&&S.emit("unpipe",this,W),this);if(!S){var U=E.pipes,re=E.pipesCount;E.pipes=null,E.pipesCount=0,E.flowing=!1;for(var se=0;se<re;se++)U[se].emit("unpipe",this,{hasUnpiped:!1});return this}var ee=oe(E.pipes,S);return ee===-1?this:(E.pipes.splice(ee,1),E.pipesCount-=1,E.pipesCount===1&&(E.pipes=E.pipes[0]),S.emit("unpipe",this,W),this)},B.prototype.on=function(S,E){var W=r.prototype.on.call(this,S,E),U=this._readableState;return S==="data"?(U.readableListening=this.listenerCount("readable")>0,U.flowing!==!1&&this.resume()):S==="readable"&&!U.endEmitted&&!U.readableListening&&(U.readableListening=U.needReadable=!0,U.flowing=!1,U.emittedReadable=!1,u("on readable",U.length,U.reading),U.length?y(this):U.reading||process.nextTick(x,this)),W},B.prototype.addListener=B.prototype.on,B.prototype.removeListener=function(S,E){var W=r.prototype.removeListener.call(this,S,E);return S==="readable"&&process.nextTick(h,this),W},B.prototype.removeAllListeners=function(S){var E=r.prototype.removeAllListeners.apply(this,arguments);return(S==="readable"||S===void 0)&&process.nextTick(h,this),E};function h(S){var E=S._readableState;E.readableListening=S.listenerCount("readable")>0,E.resumeScheduled&&!E.paused?E.flowing=!0:S.listenerCount("data")>0&&S.resume()}function x(S){u("readable nexttick read 0"),S.read(0)}B.prototype.resume=function(){var S=this._readableState;return S.flowing||(u("resume"),S.flowing=!S.readableListening,q(this,S)),S.paused=!1,this};function q(S,E){E.resumeScheduled||(E.resumeScheduled=!0,process.nextTick(G,S,E))}function G(S,E){u("resume",E.reading),E.reading||S.read(0),E.resumeScheduled=!1,S.emit("resume"),A(S),E.flowing&&!E.reading&&S.read(0)}B.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function A(S){var E=S._readableState;for(u("flow",E.flowing);E.flowing&&S.read()!==null;);}B.prototype.wrap=function(S){var E=this,W=this._readableState,U=!1;S.on("end",function(){if(u("wrapped end"),W.decoder&&!W.ended){var ee=W.decoder.end();ee&&ee.length&&E.push(ee)}E.push(null)}),S.on("data",function(ee){if(u("wrapped data"),W.decoder&&(ee=W.decoder.write(ee)),!(W.objectMode&&ee==null)&&!(!W.objectMode&&(!ee||!ee.length))){var de=E.push(ee);de||(U=!0,S.pause())}});for(var re in S)this[re]===void 0&&typeof S[re]=="function"&&(this[re]=function(de){return function(){return S[de].apply(S,arguments)}}(re));for(var se=0;se<D.length;se++)S.on(D[se],this.emit.bind(this,D[se]));return this._read=function(ee){u("wrapped _read",ee),U&&(U=!1,S.resume())},this},typeof Symbol=="function"&&(B.prototype[Symbol.asyncIterator]=function(){return P===void 0&&(P=P_()),P(this)}),Object.defineProperty(B.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(B.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(B.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(E){this._readableState&&(this._readableState.flowing=E)}}),B._fromList=$,Object.defineProperty(B.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function $(S,E){if(E.length===0)return null;var W;return E.objectMode?W=E.buffer.shift():!S||S>=E.length?(E.decoder?W=E.buffer.join(""):E.buffer.length===1?W=E.buffer.first():W=E.buffer.concat(E.length),E.buffer.clear()):W=E.buffer.consume(S,E.decoder),W}function j(S){var E=S._readableState;u("endReadable",E.endEmitted),E.endEmitted||(E.ended=!0,process.nextTick(z,E,S))}function z(S,E){if(u("endReadableNT",S.endEmitted,S.length),!S.endEmitted&&S.length===0&&(S.endEmitted=!0,E.readable=!1,E.emit("end"),S.autoDestroy)){var W=E._writableState;(!W||W.autoDestroy&&W.finished)&&E.destroy()}}typeof Symbol=="function"&&(B.from=function(S,E){return R===void 0&&(R=$_()),R(B,S,E)});function oe(S,E){for(var W=0,U=S.length;W<U;W++)if(S[W]===E)return W;return-1}return hu}var Ip=Mr,Vo=Gr.codes,D_=Vo.ERR_METHOD_NOT_IMPLEMENTED,j_=Vo.ERR_MULTIPLE_CALLBACK,B_=Vo.ERR_TRANSFORM_ALREADY_TRANSFORMING,F_=Vo.ERR_TRANSFORM_WITH_LENGTH_0,zo=vi();Xt(Mr,zo);function W_(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new j_);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Mr(t){if(!(this instanceof Mr))return new Mr(t);zo.call(this,t),this._transformState={afterTransform:W_.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",H_)}function H_(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){Lf(t,e,r)}):Lf(this,null,null)}Mr.prototype.push=function(t,e){return this._transformState.needTransform=!1,zo.prototype.push.call(this,t,e)};Mr.prototype._transform=function(t,e,r){r(new D_("_transform()"))};Mr.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Mr.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Mr.prototype._destroy=function(t,e){zo.prototype._destroy.call(this,t,function(r){e(r)})};function Lf(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new F_;if(t._transformState.transforming)throw new B_;return t.push(null)}var U_=os,Ap=Ip;Xt(os,Ap);function os(t){if(!(this instanceof os))return new os(t);Ap.call(this,t)}os.prototype._transform=function(t,e,r){r(null,t)};var du;function V_(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var kp=Gr.codes,z_=kp.ERR_MISSING_ARGS,q_=kp.ERR_STREAM_DESTROYED;function Pf(t){if(t)throw t}function G_(t){return t.setHeader&&typeof t.abort=="function"}function J_(t,e,r,n){n=V_(n);var i=!1;t.on("close",function(){i=!0}),du===void 0&&(du=Fc),du(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,G_(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new q_("pipe"))}}}function $f(t){t()}function Z_(t,e){return t.pipe(e)}function Q_(t){return!t.length||typeof t[t.length-1]!="function"?Pf:t.pop()}function Y_(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=Q_(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new z_("streams");var i,s=e.map(function(o,a){var u=a<e.length-1,l=a>0;return J_(o,u,l,function(f){i||(i=f),f&&s.forEach($f),!u&&(s.forEach($f),n(i))})});return e.reduce(Z_)}var K_=Y_;(function(t,e){e=t.exports=Rp(),e.Stream=e,e.Readable=e,e.Writable=xp(),e.Duplex=vi(),e.Transform=Ip,e.PassThrough=U_,e.finished=Fc,e.pipeline=K_})(Yu,Yu.exports);var Tp=Yu.exports;const{Transform:X_}=Tp;var ew=t=>class Op extends X_{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Op(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:tw}=Tp;var rw=t=>class Np extends tw{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Np(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const nw=ew,iw=rw;var sw=function(t){const e=nw(t),r=iw(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},Lp={};const Df=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];Lp.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],u=t[6]^t[16]^t[26]^t[36]^t[46],l=t[7]^t[17]^t[27]^t[37]^t[47],f=t[8]^t[18]^t[28]^t[38]^t[48],d=t[9]^t[19]^t[29]^t[39]^t[49];let g=f^(i<<1|s>>>31),w=d^(s<<1|i>>>31);const M=t[0]^g,T=t[1]^w,O=t[10]^g,I=t[11]^w,L=t[20]^g,P=t[21]^w,R=t[30]^g,N=t[31]^w,D=t[40]^g,H=t[41]^w;g=r^(o<<1|a>>>31),w=n^(a<<1|o>>>31);const V=t[2]^g,B=t[3]^w,Q=t[12]^g,Z=t[13]^w,X=t[22]^g,v=t[23]^w,c=t[32]^g,p=t[33]^w,b=t[42]^g,y=t[43]^w;g=i^(u<<1|l>>>31),w=s^(l<<1|u>>>31);const _=t[4]^g,C=t[5]^w,k=t[14]^g,m=t[15]^w,h=t[24]^g,x=t[25]^w,q=t[34]^g,G=t[35]^w,A=t[44]^g,$=t[45]^w;g=o^(f<<1|d>>>31),w=a^(d<<1|f>>>31);const j=t[6]^g,z=t[7]^w,oe=t[16]^g,S=t[17]^w,E=t[26]^g,W=t[27]^w,U=t[36]^g,re=t[37]^w,se=t[46]^g,ee=t[47]^w;g=u^(r<<1|n>>>31),w=l^(n<<1|r>>>31);const de=t[8]^g,rr=t[9]^w,Se=t[18]^g,Me=t[19]^w,Ir=t[28]^g,ye=t[29]^w,me=t[38]^g,yr=t[39]^w,be=t[48]^g,pe=t[49]^w,Rt=M,xe=T,Ce=I<<4|O>>>28,Dn=O<<4|I>>>28,Re=L<<3|P>>>29,Ie=P<<3|L>>>29,jn=N<<9|R>>>23,Ae=R<<9|N>>>23,ke=D<<18|H>>>14,Bn=H<<18|D>>>14,Te=V<<1|B>>>31,Oe=B<<1|V>>>31,Fn=Z<<12|Q>>>20,Ne=Q<<12|Z>>>20,Le=X<<10|v>>>22,Wn=v<<10|X>>>22,Pe=p<<13|c>>>19,$e=c<<13|p>>>19,Hn=b<<2|y>>>30,De=y<<2|b>>>30,je=C<<30|_>>>2,Un=_<<30|C>>>2,Be=k<<6|m>>>26,Fe=m<<6|k>>>26,Vn=x<<11|h>>>21,We=h<<11|x>>>21,He=q<<15|G>>>17,zn=G<<15|q>>>17,Ue=$<<29|A>>>3,Ve=A<<29|$>>>3,qn=j<<28|z>>>4,ze=z<<28|j>>>4,qe=S<<23|oe>>>9,Gn=oe<<23|S>>>9,Ge=E<<25|W>>>7,Je=W<<25|E>>>7,Jr=U<<21|re>>>11,Zr=re<<21|U>>>11,Qr=ee<<24|se>>>8,Yr=se<<24|ee>>>8,Kr=de<<27|rr>>>5,Xr=rr<<27|de>>>5,en=Se<<20|Me>>>12,tn=Me<<20|Se>>>12,rn=ye<<7|Ir>>>25,nn=Ir<<7|ye>>>25,sn=me<<8|yr>>>24,on=yr<<8|me>>>24,an=be<<14|pe>>>18,un=pe<<14|be>>>18;t[0]=Rt^~Fn&Vn,t[1]=xe^~Ne&We,t[10]=qn^~en&Re,t[11]=ze^~tn&Ie,t[20]=Te^~Be&Ge,t[21]=Oe^~Fe&Je,t[30]=Kr^~Ce&Le,t[31]=Xr^~Dn&Wn,t[40]=je^~qe&rn,t[41]=Un^~Gn&nn,t[2]=Fn^~Vn&Jr,t[3]=Ne^~We&Zr,t[12]=en^~Re&Pe,t[13]=tn^~Ie&$e,t[22]=Be^~Ge&sn,t[23]=Fe^~Je&on,t[32]=Ce^~Le&He,t[33]=Dn^~Wn&zn,t[42]=qe^~rn&jn,t[43]=Gn^~nn&Ae,t[4]=Vn^~Jr&an,t[5]=We^~Zr&un,t[14]=Re^~Pe&Ue,t[15]=Ie^~$e&Ve,t[24]=Ge^~sn&ke,t[25]=Je^~on&Bn,t[34]=Le^~He&Qr,t[35]=Wn^~zn&Yr,t[44]=rn^~jn&Hn,t[45]=nn^~Ae&De,t[6]=Jr^~an&Rt,t[7]=Zr^~un&xe,t[16]=Pe^~Ue&qn,t[17]=$e^~Ve&ze,t[26]=sn^~ke&Te,t[27]=on^~Bn&Oe,t[36]=He^~Qr&Kr,t[37]=zn^~Yr&Xr,t[46]=jn^~Hn&je,t[47]=Ae^~De&Un,t[8]=an^~Rt&Fn,t[9]=un^~xe&Ne,t[18]=Ue^~qn&en,t[19]=Ve^~ze&tn,t[28]=ke^~Te&Be,t[29]=Bn^~Oe&Fe,t[38]=Qr^~Kr&Ce,t[39]=Yr^~Xr&Dn,t[48]=Hn^~je&qe,t[49]=De^~Un&Gn,t[0]^=Df[e*2],t[1]^=Df[e*2+1]}};const yo=Lp;function Li(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Li.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};Li.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(yo.p1600(this.state),this.count=0)};Li.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),t&128&&this.count===this.blockSize-1&&yo.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),yo.p1600(this.state),this.count=0,this.squeezing=!0};Li.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(yo.p1600(this.state),this.count=0);return e};Li.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var ow=Li,aw=sw(ow);const uw=aw,cw=No;function Pp(t){return Buffer.allocUnsafe(t).fill(0)}function $p(t,e,r){const n=Pp(e);return t=qo(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function lw(t,e){return $p(t,e,!0)}function qo(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")Dp(t)?t=Buffer.from(dw(jp(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(cw.isBN(t))t=t.toArrayLike(Buffer);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function fw(t){return t=qo(t),"0x"+t.toString("hex")}function hw(t,e){return t=qo(t),e||(e=256),uw("keccak"+e).update(t).digest()}function dw(t){return t.length%2?"0"+t:t}function Dp(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function jp(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var Bp={zeros:Pp,setLength:$p,setLengthRight:lw,isHexString:Dp,stripHexPrefix:jp,toBuffer:qo,bufferToHex:fw,keccak:hw};const En=Bp,mn=No;function Fp(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function ui(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function jf(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function Wp(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function pn(t){var e=typeof t;if(e==="string")return En.isHexString(t)?new mn(En.stripHexPrefix(t),16):new mn(t,10);if(e==="number")return new mn(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function ar(t,e){var r,n,i,s;if(t==="address")return ar("uint160",pn(e));if(t==="bool")return ar("uint8",e?1:0);if(t==="string")return ar("bytes",new Buffer(e,"utf8"));if(gw(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=Wp(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(ar(t,e[s]));if(r==="dynamic"){var o=ar("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([ar("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,En.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=ui(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return En.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=ui(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=pn(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(t.startsWith("int")){if(r=ui(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=pn(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=jf(t),n=pn(e),n<0)throw new Error("Supplied ufixed is negative");return ar("uint256",n.mul(new mn(2).pow(new mn(r[1]))))}else if(t.startsWith("fixed"))return r=jf(t),ar("int256",pn(e).mul(new mn(2).pow(new mn(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function pw(t){return t==="string"||t==="bytes"||Wp(t)==="dynamic"}function gw(t){return t.lastIndexOf("]")===t.length-1}function bw(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var o=Fp(t[s]),a=e[s],u=ar(o,a);pw(o)?(r.push(ar("uint256",i)),n.push(u),i+=u.length):r.push(u)}return Buffer.concat(r.concat(n))}function Hp(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var o=Fp(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(En.setLength(a,20));else if(o.startsWith("bytes")){if(r=ui(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(En.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=ui(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=pn(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(Buffer,"be",r/8))}else if(o.startsWith("int")){if(r=ui(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=pn(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function vw(t,e){return En.keccak(Hp(t,e))}var yw={rawEncode:bw,solidityPack:Hp,soliditySHA3:vw};const Jt=Bp,es=yw,Up={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},pu={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const o=(a,u,l)=>{if(r[u]!==void 0)return["bytes32",l==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Jt.keccak(this.encodeData(u,l,r,n))];if(l===void 0)throw new Error(`missing value for field ${a} of type ${u}`);if(u==="bytes")return["bytes32",Jt.keccak(l)];if(u==="string")return typeof l=="string"&&(l=Buffer.from(l,"utf8")),["bytes32",Jt.keccak(l)];if(u.lastIndexOf("]")===u.length-1){const f=u.slice(0,u.lastIndexOf("[")),d=l.map(g=>o(a,f,g));return["bytes32",Jt.keccak(es.rawEncode(d.map(([g])=>g),d.map(([,g])=>g)))]}return[u,l]};for(const a of r[t]){const[u,l]=o(a.name,a.type,e[a.name]);i.push(u),s.push(l)}}else for(const o of r[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=Jt.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=Jt.keccak(a),s.push(a);else if(r[o.type]!==void 0)i.push("bytes32"),a=Jt.keccak(this.encodeData(o.type,a,r,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return es.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return Jt.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return Jt.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in Up.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),Jt.keccak(Buffer.concat(n))}};var mw={TYPED_MESSAGE_SCHEMA:Up,TypedDataUtils:pu,hashForSignTypedDataLegacy:function(t){return _w(t.data)},hashForSignTypedData_v3:function(t){return pu.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return pu.hash(t.data)}};function _w(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?Jt.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return es.soliditySHA3(["bytes32","bytes32"],[es.soliditySHA3(new Array(t.length).fill("string"),i),es.soliditySHA3(n,r)])}var yi={};Object.defineProperty(yi,"__esModule",{value:!0});yi.filterFromParam=yi.FilterPolyfill=void 0;const ti=ws,_t=Y,ww=5*60*1e3,gn={jsonrpc:"2.0",id:0};class Sw{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,ti.IntNumber)(1),this.provider=e}async newFilter(e){const r=Vp(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,_t.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,_t.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,_t.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,_t.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,_t.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(zs())}async getFilterLogs(e){const r=(0,_t.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},gn),{method:"eth_getLogs",params:[Bf(n)]})):zs()}makeFilterId(){return(0,ti.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return zs();const i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return qs();console.log(`Fetching logs from ${n} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},gn),{method:"eth_getLogs",params:[Bf(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(l=>(0,_t.intNumberFromHexString)(l.blockNumber||"0x0")),u=Math.max(...a);if(u&&u>n){const l=(0,ti.IntNumber)(u+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${l}`),this.cursors.set(e,l)}}return o}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return zs();const n=await this.getCurrentBlockHeight();if(r>n)return qs();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,_t.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,ti.IntNumber)(o))))).filter(o=>!!o),s=(0,ti.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},gn),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(qs())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},ww);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},gn),{method:"eth_blockNumber",params:[]}));return(0,_t.intNumberFromHexString)((0,_t.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},gn),{method:"eth_getBlockByNumber",params:[(0,_t.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,_t.ensureHexString)(r.result.hash):null}}yi.FilterPolyfill=Sw;function Vp(t){return{fromBlock:Ff(t.fromBlock),toBlock:Ff(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}yi.filterFromParam=Vp;function Bf(t){const e={fromBlock:Wf(t.fromBlock),toBlock:Wf(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function Ff(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,ti.IntNumber)(0);if((0,_t.isHexString)(t))return(0,_t.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function Wf(t){return t==="latest"?t:(0,_t.hexStringFromIntNumber)(t)}function zs(){return Object.assign(Object.assign({},gn),{error:{code:-32e3,message:"filter not found"}})}function qs(){return Object.assign(Object.assign({},gn),{result:[]})}var zp={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(zp);var Go={},qp={},Jo={},Wc=Ew;function Ew(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const Hf=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{e.errorFirst?n.push(function(o,a){if(e.multiArgs){const u=new Array(arguments.length-1);for(let l=1;l<arguments.length;l++)u[l-1]=arguments[l];o?(u.unshift(o),s(u)):i(u)}else o?s(o):i(a)}):n.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let u=0;u<arguments.length;u++)a[u]=arguments[u];i(a)}else i(o)}),t.apply(this,n)})};var Mw=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):Hf(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];n[i]=typeof s=="function"&&r(i)?Hf(s,e):s}return n},Ms={},xw=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ms,"__esModule",{value:!0});Ms.BaseBlockTracker=void 0;const Cw=xw(Cn),Rw=1e3,Iw=(t,e)=>t+e,Uf=["sync","latest"];class Aw extends Cw.default{constructor(e){super(),this._blockResetDuration=e.blockResetDuration||20*Rw,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e){Uf.includes(e)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return Uf.map(e=>this.listenerCount(e)).reduce(Iw)}_newPotentialLatest(e){const r=this._currentBlock;r&&Vf(e)<=Vf(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}Ms.BaseBlockTracker=Aw;function Vf(t){return Number.parseInt(t,16)}var Gp={},Jp={},pt={};class Zp extends TypeError{constructor(e,r){let n;const{message:i,explanation:s,...o}=e,{path:a}=e,u=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??u),s!=null&&(this.cause=u),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}}function kw(t){return Wt(t)&&typeof t[Symbol.iterator]=="function"}function Wt(t){return typeof t=="object"&&t!=null}function zf(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function ot(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function Tw(t){const{done:e,value:r}=t.next();return e?void 0:r}function Ow(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:u=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${ot(n)}\``}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:u}}function*ec(t,e,r,n){kw(t)||(t=[t]);for(const i of t){const s=Ow(i,e,r,n);s&&(yield s)}}function*Hc(t,e,r={}){const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&Wt(e.schema)&&Wt(t)&&!Array.isArray(t)))for(const l in t)e.schema[l]===void 0&&delete t[l];let u="valid";for(const l of e.validator(t,a))l.explanation=r.message,u="not_valid",yield[l,void 0];for(let[l,f,d]of e.entries(t,a)){const g=Hc(f,d,{path:l===void 0?n:[...n,l],branch:l===void 0?i:[...i,f],coerce:s,mask:o,message:r.message});for(const w of g)w[0]?(u=w[0].refinement!=null?"not_refined":"not_valid",yield[w[0],void 0]):s&&(f=w[1],l===void 0?t=f:t instanceof Map?t.set(l,f):t instanceof Set?t.add(f):Wt(t)&&(f!==void 0||l in t)&&(t[l]=f))}if(u!=="not_valid")for(const l of e.refiner(t,a))l.explanation=r.message,u="not_refined",yield[l,void 0];u==="valid"&&(yield[void 0,t])}class nt{constructor(e){const{type:r,schema:n,validator:i,refiner:s,coercer:o=u=>u,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(u,l)=>{const f=i(u,l);return ec(f,l,this,u)}:this.validator=()=>[],s?this.refiner=(u,l)=>{const f=s(u,l);return ec(f,l,this,u)}:this.refiner=()=>[]}assert(e,r){return Qp(e,this,r)}create(e,r){return Yp(e,this,r)}is(e){return Uc(e,this)}mask(e,r){return Kp(e,this,r)}validate(e,r={}){return Pi(e,this,r)}}function Qp(t,e,r){const n=Pi(t,e,{message:r});if(n[0])throw n[0]}function Yp(t,e,r){const n=Pi(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function Kp(t,e,r){const n=Pi(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function Uc(t,e){return!Pi(t,e)[0]}function Pi(t,e,r={}){const n=Hc(t,e,r),i=Tw(n);return i[0]?[new Zp(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function Nw(...t){const e=t[0].type==="type",r=t.map(i=>i.schema),n=Object.assign({},...r);return e?zc(n):xs(n)}function Ct(t,e){return new nt({type:t,schema:null,validator:e})}function Lw(t,e){return new nt({...t,refiner:(r,n)=>r===void 0||t.refiner(r,n),validator(r,n){return r===void 0?!0:(e(r,n),t.validator(r,n))}})}function Pw(t){return new nt({type:"dynamic",schema:null,*entries(e,r){yield*t(e,r).entries(e,r)},validator(e,r){return t(e,r).validator(e,r)},coercer(e,r){return t(e,r).coercer(e,r)},refiner(e,r){return t(e,r).refiner(e,r)}})}function $w(t){let e;return new nt({type:"lazy",schema:null,*entries(r,n){e??(e=t()),yield*e.entries(r,n)},validator(r,n){return e??(e=t()),e.validator(r,n)},coercer(r,n){return e??(e=t()),e.coercer(r,n)},refiner(r,n){return e??(e=t()),e.refiner(r,n)}})}function Dw(t,e){const{schema:r}=t,n={...r};for(const i of e)delete n[i];switch(t.type){case"type":return zc(n);default:return xs(n)}}function jw(t){const e=t instanceof nt?{...t.schema}:{...t};for(const r in e)e[r]=Xp(e[r]);return xs(e)}function Bw(t,e){const{schema:r}=t,n={};for(const i of e)n[i]=r[i];return xs(n)}function Fw(t,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),Ct(t,e)}function Ww(){return Ct("any",()=>!0)}function Hw(t){return new nt({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${ot(e)}`}})}function Uw(){return Ct("bigint",t=>typeof t=="bigint")}function Vw(){return Ct("boolean",t=>typeof t=="boolean")}function zw(){return Ct("date",t=>t instanceof Date&&!isNaN(t.getTime())||`Expected a valid \`Date\` object, but received: ${ot(t)}`)}function qw(t){const e={},r=t.map(n=>ot(n)).join();for(const n of t)e[n]=n;return new nt({type:"enums",schema:e,validator(n){return t.includes(n)||`Expected one of \`${r}\`, but received: ${ot(n)}`}})}function Gw(){return Ct("func",t=>typeof t=="function"||`Expected a function, but received: ${ot(t)}`)}function Jw(t){return Ct("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${ot(e)}`)}function Zw(){return Ct("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${ot(t)}`)}function Qw(t){return new nt({type:"intersection",schema:null,*entries(e,r){for(const n of t)yield*n.entries(e,r)},*validator(e,r){for(const n of t)yield*n.validator(e,r)},*refiner(e,r){for(const n of t)yield*n.refiner(e,r)}})}function Yw(t){const e=ot(t),r=typeof t;return new nt({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${ot(n)}`}})}function Kw(t,e){return new nt({type:"map",schema:null,*entries(r){if(t&&e&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,t],yield[n,i,e]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${ot(r)}`}})}function Vc(){return Ct("never",()=>!1)}function Xw(t){return new nt({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function e2(){return Ct("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${ot(t)}`)}function xs(t){const e=t?Object.keys(t):[],r=Vc();return new nt({type:"object",schema:t||null,*entries(n){if(t&&Wt(n)){const i=new Set(Object.keys(n));for(const s of e)i.delete(s),yield[s,n[s],t[s]];for(const s of i)yield[s,n[s],r]}},validator(n){return Wt(n)||`Expected an object, but received: ${ot(n)}`},coercer(n){return Wt(n)?{...n}:n}})}function Xp(t){return new nt({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function t2(t,e){return new nt({type:"record",schema:null,*entries(r){if(Wt(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return Wt(r)||`Expected an object, but received: ${ot(r)}`}})}function r2(){return Ct("regexp",t=>t instanceof RegExp)}function n2(t){return new nt({type:"set",schema:null,*entries(e){if(t&&e instanceof Set)for(const r of e)yield[r,r,t]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||`Expected a \`Set\` object, but received: ${ot(e)}`}})}function e0(){return Ct("string",t=>typeof t=="string"||`Expected a string, but received: ${ot(t)}`)}function i2(t){const e=Vc();return new nt({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${ot(r)}`}})}function zc(t){const e=Object.keys(t);return new nt({type:"type",schema:t,*entries(r){if(Wt(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return Wt(r)||`Expected an object, but received: ${ot(r)}`},coercer(r){return Wt(r)?{...r}:r}})}function s2(t){const e=t.map(r=>r.type).join(" | ");return new nt({type:"union",schema:null,coercer(r){for(const n of t){const[i,s]=n.validate(r,{coerce:!0});if(!i)return s}return r},validator(r,n){const i=[];for(const s of t){const[...o]=Hc(r,s,n),[a]=o;if(a[0])for(const[u]of o)u&&i.push(u);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${ot(r)}`,...i]}})}function t0(){return Ct("unknown",()=>!0)}function qc(t,e,r){return new nt({...t,coercer:(n,i)=>Uc(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}function o2(t,e,r={}){return qc(t,t0(),n=>{const i=typeof e=="function"?e():e;if(n===void 0)return i;if(!r.strict&&zf(n)&&zf(i)){const s={...n};let o=!1;for(const a in i)s[a]===void 0&&(s[a]=i[a],o=!0);if(o)return s}return n})}function a2(t){return qc(t,e0(),e=>e.trim())}function u2(t){return Nn(t,"empty",e=>{const r=r0(e);return r===0||`Expected an empty ${t.type} but received one with a size of \`${r}\``})}function r0(t){return t instanceof Map||t instanceof Set?t.size:t.length}function c2(t,e,r={}){const{exclusive:n}=r;return Nn(t,"max",i=>n?i<e:i<=e||`Expected a ${t.type} less than ${n?"":"or equal to "}${e} but received \`${i}\``)}function l2(t,e,r={}){const{exclusive:n}=r;return Nn(t,"min",i=>n?i>e:i>=e||`Expected a ${t.type} greater than ${n?"":"or equal to "}${e} but received \`${i}\``)}function f2(t){return Nn(t,"nonempty",e=>r0(e)>0||`Expected a nonempty ${t.type} but received an empty one`)}function h2(t,e){return Nn(t,"pattern",r=>e.test(r)||`Expected a ${t.type} matching \`/${e.source}/\` but received "${r}"`)}function d2(t,e,r=e){const n=`Expected a ${t.type}`,i=e===r?`of \`${e}\``:`between \`${e}\` and \`${r}\``;return Nn(t,"size",s=>{if(typeof s=="number"||s instanceof Date)return e<=s&&s<=r||`${n} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:o}=s;return e<=o&&o<=r||`${n} with a size ${i} but received one with a size of \`${o}\``}else{const{length:o}=s;return e<=o&&o<=r||`${n} with a length ${i} but received one with a length of \`${o}\``}})}function Nn(t,e,r){return new nt({...t,*refiner(n,i){yield*t.refiner(n,i);const s=r(n,i),o=ec(s,i,t,n);for(const a of o)yield{...a,refinement:e}}})}var p2=Object.freeze({__proto__:null,Struct:nt,StructError:Zp,any:Ww,array:Hw,assert:Qp,assign:Nw,bigint:Uw,boolean:Vw,coerce:qc,create:Yp,date:zw,defaulted:o2,define:Ct,deprecated:Lw,dynamic:Pw,empty:u2,enums:qw,func:Gw,instance:Jw,integer:Zw,intersection:Qw,is:Uc,lazy:$w,literal:Yw,map:Kw,mask:Kp,max:c2,min:l2,never:Vc,nonempty:f2,nullable:Xw,number:e2,object:xs,omit:Dw,optional:Xp,partial:jw,pattern:h2,pick:Bw,record:t2,refine:Nn,regexp:r2,set:n2,size:d2,string:e0,struct:Fw,trimmed:a2,tuple:i2,type:zc,union:s2,unknown:t0,validate:Pi}),Ln=Ut(p2);Object.defineProperty(pt,"__esModule",{value:!0});pt.assertExhaustive=pt.assertStruct=pt.assert=pt.AssertionError=void 0;const g2=Ln;function b2(t){return typeof t=="object"&&t!==null&&"message"in t}function v2(t){var e,r;return Boolean(typeof((r=(e=t?.prototype)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.name)=="string")}function y2(t){const e=b2(t)?t.message:String(t);return e.endsWith(".")?e.slice(0,-1):e}function n0(t,e){return v2(t)?new t({message:e}):t({message:e})}class Gc extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}pt.AssertionError=Gc;function m2(t,e="Assertion failed.",r=Gc){if(!t)throw e instanceof Error?e:n0(r,e)}pt.assert=m2;function _2(t,e,r="Assertion failed",n=Gc){try{(0,g2.assert)(t,e)}catch(i){throw n0(n,`${r}: ${y2(i)}.`)}}pt.assertStruct=_2;function w2(t){throw new Error("Invalid branch reached. Should be detected during compilation.")}pt.assertExhaustive=w2;var Cs={};Object.defineProperty(Cs,"__esModule",{value:!0});Cs.base64=void 0;const S2=Ln,E2=pt,M2=(t,e={})=>{var r,n;const i=(r=e.paddingRequired)!==null&&r!==void 0?r:!1,s=(n=e.characterSet)!==null&&n!==void 0?n:"base64";let o;s==="base64"?o=String.raw`[A-Za-z0-9+\/]`:((0,E2.assert)(s==="base64url"),o=String.raw`[-_A-Za-z0-9]`);let a;return i?a=new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):a=new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,S2.pattern)(t,a)};Cs.base64=M2;var he={},Rs={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.remove0x=t.add0x=t.assertIsStrictHexString=t.assertIsHexString=t.isStrictHexString=t.isHexString=t.StrictHexStruct=t.HexStruct=void 0;const e=Ln,r=pt;t.HexStruct=(0,e.pattern)((0,e.string)(),/^(?:0x)?[0-9a-f]+$/iu),t.StrictHexStruct=(0,e.pattern)((0,e.string)(),/^0x[0-9a-f]+$/iu);function n(l){return(0,e.is)(l,t.HexStruct)}t.isHexString=n;function i(l){return(0,e.is)(l,t.StrictHexStruct)}t.isStrictHexString=i;function s(l){(0,r.assert)(n(l),"Value must be a hexadecimal string.")}t.assertIsHexString=s;function o(l){(0,r.assert)(i(l),'Value must be a hexadecimal string, starting with "0x".')}t.assertIsStrictHexString=o;function a(l){return l.startsWith("0x")?l:l.startsWith("0X")?`0x${l.substring(2)}`:`0x${l}`}t.add0x=a;function u(l){return l.startsWith("0x")||l.startsWith("0X")?l.substring(2):l}t.remove0x=u})(Rs);Object.defineProperty(he,"__esModule",{value:!0});he.createDataView=he.concatBytes=he.valueToBytes=he.stringToBytes=he.numberToBytes=he.signedBigIntToBytes=he.bigIntToBytes=he.hexToBytes=he.bytesToString=he.bytesToNumber=he.bytesToSignedBigInt=he.bytesToBigInt=he.bytesToHex=he.assertIsBytes=he.isBytes=void 0;const At=pt,tc=Rs,qf=48,Gf=58,Jf=87;function x2(){const t=[];return()=>{if(t.length===0)for(let e=0;e<256;e++)t.push(e.toString(16).padStart(2,"0"));return t}}const C2=x2();function Jc(t){return t instanceof Uint8Array}he.isBytes=Jc;function $i(t){(0,At.assert)(Jc(t),"Value must be a Uint8Array.")}he.assertIsBytes=$i;function i0(t){if($i(t),t.length===0)return"0x";const e=C2(),r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=e[t[n]];return(0,tc.add0x)(r.join(""))}he.bytesToHex=i0;function s0(t){$i(t);const e=i0(t);return BigInt(e)}he.bytesToBigInt=s0;function R2(t){$i(t);let e=BigInt(0);for(const r of t)e=(e<<BigInt(8))+BigInt(r);return BigInt.asIntN(t.length*8,e)}he.bytesToSignedBigInt=R2;function I2(t){$i(t);const e=s0(t);return(0,At.assert)(e<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(e)}he.bytesToNumber=I2;function A2(t){return $i(t),new TextDecoder().decode(t)}he.bytesToString=A2;function Zo(t){var e;if(((e=t?.toLowerCase)===null||e===void 0?void 0:e.call(t))==="0x")return new Uint8Array;(0,tc.assertIsHexString)(t);const r=(0,tc.remove0x)(t).toLowerCase(),n=r.length%2===0?r:`0${r}`,i=new Uint8Array(n.length/2);for(let s=0;s<i.length;s++){const o=n.charCodeAt(s*2),a=n.charCodeAt(s*2+1),u=o-(o<Gf?qf:Jf),l=a-(a<Gf?qf:Jf);i[s]=u*16+l}return i}he.hexToBytes=Zo;function o0(t){(0,At.assert)(typeof t=="bigint","Value must be a bigint."),(0,At.assert)(t>=BigInt(0),"Value must be a non-negative bigint.");const e=t.toString(16);return Zo(e)}he.bigIntToBytes=o0;function k2(t,e){(0,At.assert)(e>0);const r=t>>BigInt(31);return!((~t&r)+(t&~r)>>BigInt(e*8+-1))}function T2(t,e){(0,At.assert)(typeof t=="bigint","Value must be a bigint."),(0,At.assert)(typeof e=="number","Byte length must be a number."),(0,At.assert)(e>0,"Byte length must be greater than 0."),(0,At.assert)(k2(t,e),"Byte length is too small to represent the given value.");let r=t;const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}he.signedBigIntToBytes=T2;function a0(t){(0,At.assert)(typeof t=="number","Value must be a number."),(0,At.assert)(t>=0,"Value must be a non-negative number."),(0,At.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToBytes` instead.");const e=t.toString(16);return Zo(e)}he.numberToBytes=a0;function u0(t){return(0,At.assert)(typeof t=="string","Value must be a string."),new TextEncoder().encode(t)}he.stringToBytes=u0;function c0(t){if(typeof t=="bigint")return o0(t);if(typeof t=="number")return a0(t);if(typeof t=="string")return t.startsWith("0x")?Zo(t):u0(t);if(Jc(t))return t;throw new TypeError(`Unsupported value type: "${typeof t}".`)}he.valueToBytes=c0;function O2(t){const e=new Array(t.length);let r=0;for(let i=0;i<t.length;i++){const s=c0(t[i]);e[i]=s,r+=s.length}const n=new Uint8Array(r);for(let i=0,s=0;i<e.length;i++)n.set(e[i],s),s+=e[i].length;return n}he.concatBytes=O2;function N2(t){if(typeof Buffer<"u"&&t instanceof Buffer){const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new DataView(e)}return new DataView(t.buffer,t.byteOffset,t.byteLength)}he.createDataView=N2;var Qo={};Object.defineProperty(Qo,"__esModule",{value:!0});Qo.ChecksumStruct=void 0;const Zf=Ln,L2=Cs;Qo.ChecksumStruct=(0,Zf.size)((0,L2.base64)((0,Zf.string)(),{paddingRequired:!0}),44,44);var hr={};Object.defineProperty(hr,"__esModule",{value:!0});hr.createHex=hr.createBytes=hr.createBigInt=hr.createNumber=void 0;const Ye=Ln,P2=pt,l0=he,Yo=Rs,f0=(0,Ye.union)([(0,Ye.number)(),(0,Ye.bigint)(),(0,Ye.string)(),Yo.StrictHexStruct]),$2=(0,Ye.coerce)((0,Ye.number)(),f0,Number),D2=(0,Ye.coerce)((0,Ye.bigint)(),f0,BigInt);(0,Ye.union)([Yo.StrictHexStruct,(0,Ye.instance)(Uint8Array)]);const j2=(0,Ye.coerce)((0,Ye.instance)(Uint8Array),(0,Ye.union)([Yo.StrictHexStruct]),l0.hexToBytes),B2=(0,Ye.coerce)(Yo.StrictHexStruct,(0,Ye.instance)(Uint8Array),l0.bytesToHex);function F2(t){try{const e=(0,Ye.create)(t,$2);return(0,P2.assert)(Number.isFinite(e),`Expected a number-like value, got "${t}".`),e}catch(e){throw e instanceof Ye.StructError?new Error(`Expected a number-like value, got "${t}".`):e}}hr.createNumber=F2;function W2(t){try{return(0,Ye.create)(t,D2)}catch(e){throw e instanceof Ye.StructError?new Error(`Expected a number-like value, got "${String(e.value)}".`):e}}hr.createBigInt=W2;function H2(t){if(typeof t=="string"&&t.toLowerCase()==="0x")return new Uint8Array;try{return(0,Ye.create)(t,j2)}catch(e){throw e instanceof Ye.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}hr.createBytes=H2;function U2(t){if(t instanceof Uint8Array&&t.length===0||typeof t=="string"&&t.toLowerCase()==="0x")return"0x";try{return(0,Ye.create)(t,B2)}catch(e){throw e instanceof Ye.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}hr.createHex=U2;var mi={},h0=J&&J.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},wt=J&&J.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},qt,ir;Object.defineProperty(mi,"__esModule",{value:!0});mi.FrozenSet=mi.FrozenMap=void 0;class Zc{constructor(e){qt.set(this,void 0),h0(this,qt,new Map(e),"f"),Object.freeze(this)}get size(){return wt(this,qt,"f").size}[(qt=new WeakMap,Symbol.iterator)](){return wt(this,qt,"f")[Symbol.iterator]()}entries(){return wt(this,qt,"f").entries()}forEach(e,r){return wt(this,qt,"f").forEach((n,i,s)=>e.call(r,n,i,this))}get(e){return wt(this,qt,"f").get(e)}has(e){return wt(this,qt,"f").has(e)}keys(){return wt(this,qt,"f").keys()}values(){return wt(this,qt,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,r])=>`${String(e)} => ${String(r)}`).join(", ")} `:""}}`}}mi.FrozenMap=Zc;class Qc{constructor(e){ir.set(this,void 0),h0(this,ir,new Set(e),"f"),Object.freeze(this)}get size(){return wt(this,ir,"f").size}[(ir=new WeakMap,Symbol.iterator)](){return wt(this,ir,"f")[Symbol.iterator]()}entries(){return wt(this,ir,"f").entries()}forEach(e,r){return wt(this,ir,"f").forEach((n,i,s)=>e.call(r,n,i,this))}has(e){return wt(this,ir,"f").has(e)}keys(){return wt(this,ir,"f").keys()}values(){return wt(this,ir,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}}mi.FrozenSet=Qc;Object.freeze(Zc);Object.freeze(Zc.prototype);Object.freeze(Qc);Object.freeze(Qc.prototype);var d0={},Yc={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateNumberSize=t.calculateStringSize=t.isASCII=t.isPlainObject=t.ESCAPE_CHARACTERS_REGEXP=t.JsonSize=t.hasProperty=t.isObject=t.isNullOrUndefined=t.isNonEmptyArray=void 0;function e(l){return Array.isArray(l)&&l.length>0}t.isNonEmptyArray=e;function r(l){return l==null}t.isNullOrUndefined=r;function n(l){return Boolean(l)&&typeof l=="object"&&!Array.isArray(l)}t.isObject=n;const i=(l,f)=>Object.hasOwnProperty.call(l,f);t.hasProperty=i,function(l){l[l.Null=4]="Null",l[l.Comma=1]="Comma",l[l.Wrapper=1]="Wrapper",l[l.True=4]="True",l[l.False=5]="False",l[l.Quote=1]="Quote",l[l.Colon=1]="Colon",l[l.Date=24]="Date"}(t.JsonSize||(t.JsonSize={})),t.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function s(l){if(typeof l!="object"||l===null)return!1;try{let f=l;for(;Object.getPrototypeOf(f)!==null;)f=Object.getPrototypeOf(f);return Object.getPrototypeOf(l)===f}catch{return!1}}t.isPlainObject=s;function o(l){return l.charCodeAt(0)<=127}t.isASCII=o;function a(l){var f;return l.split("").reduce((g,w)=>o(w)?g+1:g+2,0)+((f=l.match(t.ESCAPE_CHARACTERS_REGEXP))!==null&&f!==void 0?f:[]).length}t.calculateStringSize=a;function u(l){return l.toString().length}t.calculateNumberSize=u})(Yc);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateJsonAndGetSize=t.getJsonRpcIdValidator=t.assertIsJsonRpcError=t.isJsonRpcError=t.assertIsJsonRpcFailure=t.isJsonRpcFailure=t.assertIsJsonRpcSuccess=t.isJsonRpcSuccess=t.assertIsJsonRpcResponse=t.isJsonRpcResponse=t.assertIsPendingJsonRpcResponse=t.isPendingJsonRpcResponse=t.JsonRpcResponseStruct=t.JsonRpcFailureStruct=t.JsonRpcSuccessStruct=t.PendingJsonRpcResponseStruct=t.assertIsJsonRpcRequest=t.isJsonRpcRequest=t.assertIsJsonRpcNotification=t.isJsonRpcNotification=t.JsonRpcNotificationStruct=t.JsonRpcRequestStruct=t.JsonRpcParamsStruct=t.JsonRpcErrorStruct=t.JsonRpcIdStruct=t.JsonRpcVersionStruct=t.jsonrpc2=t.isValidJson=t.JsonStruct=void 0;const e=Ln,r=pt,n=Yc;t.JsonStruct=(0,e.define)("Json",N=>{const[D]=R(N,!0);return D?!0:"Expected a valid JSON-serializable value"});function i(N){return(0,e.is)(N,t.JsonStruct)}t.isValidJson=i,t.jsonrpc2="2.0",t.JsonRpcVersionStruct=(0,e.literal)(t.jsonrpc2),t.JsonRpcIdStruct=(0,e.nullable)((0,e.union)([(0,e.number)(),(0,e.string)()])),t.JsonRpcErrorStruct=(0,e.object)({code:(0,e.integer)(),message:(0,e.string)(),data:(0,e.optional)(t.JsonStruct),stack:(0,e.optional)((0,e.string)())}),t.JsonRpcParamsStruct=(0,e.optional)((0,e.union)([(0,e.record)((0,e.string)(),t.JsonStruct),(0,e.array)(t.JsonStruct)])),t.JsonRpcRequestStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,method:(0,e.string)(),params:t.JsonRpcParamsStruct}),t.JsonRpcNotificationStruct=(0,e.omit)(t.JsonRpcRequestStruct,["id"]);function s(N){return(0,e.is)(N,t.JsonRpcNotificationStruct)}t.isJsonRpcNotification=s;function o(N,D){(0,r.assertStruct)(N,t.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",D)}t.assertIsJsonRpcNotification=o;function a(N){return(0,e.is)(N,t.JsonRpcRequestStruct)}t.isJsonRpcRequest=a;function u(N,D){(0,r.assertStruct)(N,t.JsonRpcRequestStruct,"Invalid JSON-RPC request",D)}t.assertIsJsonRpcRequest=u,t.PendingJsonRpcResponseStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:(0,e.optional)((0,e.unknown)()),error:(0,e.optional)(t.JsonRpcErrorStruct)}),t.JsonRpcSuccessStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:t.JsonStruct}),t.JsonRpcFailureStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,error:t.JsonRpcErrorStruct}),t.JsonRpcResponseStruct=(0,e.union)([t.JsonRpcSuccessStruct,t.JsonRpcFailureStruct]);function l(N){return(0,e.is)(N,t.PendingJsonRpcResponseStruct)}t.isPendingJsonRpcResponse=l;function f(N,D){(0,r.assertStruct)(N,t.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",D)}t.assertIsPendingJsonRpcResponse=f;function d(N){return(0,e.is)(N,t.JsonRpcResponseStruct)}t.isJsonRpcResponse=d;function g(N,D){(0,r.assertStruct)(N,t.JsonRpcResponseStruct,"Invalid JSON-RPC response",D)}t.assertIsJsonRpcResponse=g;function w(N){return(0,e.is)(N,t.JsonRpcSuccessStruct)}t.isJsonRpcSuccess=w;function M(N,D){(0,r.assertStruct)(N,t.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",D)}t.assertIsJsonRpcSuccess=M;function T(N){return(0,e.is)(N,t.JsonRpcFailureStruct)}t.isJsonRpcFailure=T;function O(N,D){(0,r.assertStruct)(N,t.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",D)}t.assertIsJsonRpcFailure=O;function I(N){return(0,e.is)(N,t.JsonRpcErrorStruct)}t.isJsonRpcError=I;function L(N,D){(0,r.assertStruct)(N,t.JsonRpcErrorStruct,"Invalid JSON-RPC error",D)}t.assertIsJsonRpcError=L;function P(N){const{permitEmptyString:D,permitFractions:H,permitNull:V}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},N);return Q=>Boolean(typeof Q=="number"&&(H||Number.isInteger(Q))||typeof Q=="string"&&(D||Q.length>0)||V&&Q===null)}t.getJsonRpcIdValidator=P;function R(N,D=!1){const H=new Set;function V(B,Q){if(B===void 0)return[!1,0];if(B===null)return[!0,Q?0:n.JsonSize.Null];const Z=typeof B;try{if(Z==="function")return[!1,0];if(Z==="string"||B instanceof String)return[!0,Q?0:(0,n.calculateStringSize)(B)+n.JsonSize.Quote*2];if(Z==="boolean"||B instanceof Boolean)return Q?[!0,0]:[!0,B==!0?n.JsonSize.True:n.JsonSize.False];if(Z==="number"||B instanceof Number)return Q?[!0,0]:[!0,(0,n.calculateNumberSize)(B)];if(B instanceof Date)return Q?[!0,0]:[!0,isNaN(B.getDate())?n.JsonSize.Null:n.JsonSize.Date+n.JsonSize.Quote*2]}catch{return[!1,0]}if(!(0,n.isPlainObject)(B)&&!Array.isArray(B))return[!1,0];if(H.has(B))return[!1,0];H.add(B);try{return[!0,Object.entries(B).reduce((X,[v,c],p,b)=>{let[y,_]=V(c,Q);if(!y)throw new Error("JSON validation did not pass. Validation process stopped.");if(H.delete(B),Q)return 0;const C=Array.isArray(B)?0:v.length+n.JsonSize.Comma+n.JsonSize.Colon*2,k=p<b.length-1?n.JsonSize.Comma:0;return X+C+_+k},Q?0:n.JsonSize.Wrapper*2)]}catch{return[!1,0]}}return V(N,D)}t.validateJsonAndGetSize=R})(d0);var _i={},rc={exports:{}},gu,Qf;function V2(){if(Qf)return gu;Qf=1;var t=1e3,e=t*60,r=e*60,n=r*24,i=n*7,s=n*365.25;gu=function(f,d){d=d||{};var g=typeof f;if(g==="string"&&f.length>0)return o(f);if(g==="number"&&isFinite(f))return d.long?u(f):a(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function o(f){if(f=String(f),!(f.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(d){var g=parseFloat(d[1]),w=(d[2]||"ms").toLowerCase();switch(w){case"years":case"year":case"yrs":case"yr":case"y":return g*s;case"weeks":case"week":case"w":return g*i;case"days":case"day":case"d":return g*n;case"hours":case"hour":case"hrs":case"hr":case"h":return g*r;case"minutes":case"minute":case"mins":case"min":case"m":return g*e;case"seconds":case"second":case"secs":case"sec":case"s":return g*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function a(f){var d=Math.abs(f);return d>=n?Math.round(f/n)+"d":d>=r?Math.round(f/r)+"h":d>=e?Math.round(f/e)+"m":d>=t?Math.round(f/t)+"s":f+"ms"}function u(f){var d=Math.abs(f);return d>=n?l(f,d,n,"day"):d>=r?l(f,d,r,"hour"):d>=e?l(f,d,e,"minute"):d>=t?l(f,d,t,"second"):f+" ms"}function l(f,d,g,w){var M=d>=g*1.5;return Math.round(f/g)+" "+w+(M?"s":"")}return gu}function z2(t){r.debug=r,r.default=r,r.coerce=u,r.disable=s,r.enable=i,r.enabled=o,r.humanize=V2(),r.destroy=l,Object.keys(t).forEach(f=>{r[f]=t[f]}),r.names=[],r.skips=[],r.formatters={};function e(f){let d=0;for(let g=0;g<f.length;g++)d=(d<<5)-d+f.charCodeAt(g),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=e;function r(f){let d,g=null,w,M;function T(...O){if(!T.enabled)return;const I=T,L=Number(new Date),P=L-(d||L);I.diff=P,I.prev=d,I.curr=L,d=L,O[0]=r.coerce(O[0]),typeof O[0]!="string"&&O.unshift("%O");let R=0;O[0]=O[0].replace(/%([a-zA-Z%])/g,(D,H)=>{if(D==="%%")return"%";R++;const V=r.formatters[H];if(typeof V=="function"){const B=O[R];D=V.call(I,B),O.splice(R,1),R--}return D}),r.formatArgs.call(I,O),(I.log||r.log).apply(I,O)}return T.namespace=f,T.useColors=r.useColors(),T.color=r.selectColor(f),T.extend=n,T.destroy=r.destroy,Object.defineProperty(T,"enabled",{enumerable:!0,configurable:!1,get:()=>g!==null?g:(w!==r.namespaces&&(w=r.namespaces,M=r.enabled(f)),M),set:O=>{g=O}}),typeof r.init=="function"&&r.init(T),T}function n(f,d){const g=r(this.namespace+(typeof d>"u"?":":d)+f);return g.log=this.log,g}function i(f){r.save(f),r.namespaces=f,r.names=[],r.skips=[];let d;const g=(typeof f=="string"?f:"").split(/[\s,]+/),w=g.length;for(d=0;d<w;d++)g[d]&&(f=g[d].replace(/\*/g,".*?"),f[0]==="-"?r.skips.push(new RegExp("^"+f.slice(1)+"$")):r.names.push(new RegExp("^"+f+"$")))}function s(){const f=[...r.names.map(a),...r.skips.map(a).map(d=>"-"+d)].join(",");return r.enable(""),f}function o(f){if(f[f.length-1]==="*")return!0;let d,g;for(d=0,g=r.skips.length;d<g;d++)if(r.skips[d].test(f))return!1;for(d=0,g=r.names.length;d<g;d++)if(r.names[d].test(f))return!0;return!1}function a(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function u(f){return f instanceof Error?f.stack||f.message:f}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var q2=z2;(function(t,e){e.formatArgs=n,e.save=i,e.load=s,e.useColors=r,e.storage=o(),e.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const l="color: "+this.color;u.splice(1,0,l,"color: inherit");let f=0,d=0;u[0].replace(/%[a-zA-Z%]/g,g=>{g!=="%%"&&(f++,g==="%c"&&(d=f))}),u.splice(d,0,l)}e.log=console.debug||console.log||(()=>{});function i(u){try{u?e.storage.setItem("debug",u):e.storage.removeItem("debug")}catch{}}function s(){let u;try{u=e.storage.getItem("debug")}catch{}return!u&&typeof process<"u"&&"env"in process&&(u=process.env.DEBUG),u}function o(){try{return localStorage}catch{}}t.exports=q2(e);const{formatters:a}=t.exports;a.j=function(u){try{return JSON.stringify(u)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}}})(rc,rc.exports);var G2=rc.exports,J2=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_i,"__esModule",{value:!0});_i.createModuleLogger=_i.createProjectLogger=void 0;const Z2=J2(G2),Q2=(0,Z2.default)("metamask");function Y2(t){return Q2.extend(t)}_i.createProjectLogger=Y2;function K2(t,e){return t.extend(e)}_i.createModuleLogger=K2;var dr={};Object.defineProperty(dr,"__esModule",{value:!0});dr.hexToBigInt=dr.hexToNumber=dr.bigIntToHex=dr.numberToHex=void 0;const ci=pt,as=Rs,X2=t=>((0,ci.assert)(typeof t=="number","Value must be a number."),(0,ci.assert)(t>=0,"Value must be a non-negative number."),(0,ci.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,as.add0x)(t.toString(16)));dr.numberToHex=X2;const eS=t=>((0,ci.assert)(typeof t=="bigint","Value must be a bigint."),(0,ci.assert)(t>=0,"Value must be a non-negative bigint."),(0,as.add0x)(t.toString(16)));dr.bigIntToHex=eS;const tS=t=>{(0,as.assertIsHexString)(t);const e=parseInt(t,16);return(0,ci.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `hexToBigInt` instead."),e};dr.hexToNumber=tS;const rS=t=>((0,as.assertIsHexString)(t),BigInt((0,as.add0x)(t)));dr.hexToBigInt=rS;var p0={};Object.defineProperty(p0,"__esModule",{value:!0});var g0={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.timeSince=t.inMilliseconds=t.Duration=void 0,function(s){s[s.Millisecond=1]="Millisecond",s[s.Second=1e3]="Second",s[s.Minute=6e4]="Minute",s[s.Hour=36e5]="Hour",s[s.Day=864e5]="Day",s[s.Week=6048e5]="Week",s[s.Year=31536e6]="Year"}(t.Duration||(t.Duration={}));const e=s=>Number.isInteger(s)&&s>=0,r=(s,o)=>{if(!e(s))throw new Error(`"${o}" must be a non-negative integer. Received: "${s}".`)};function n(s,o){return r(s,"count"),s*o}t.inMilliseconds=n;function i(s){return r(s,"timestamp"),Date.now()-s}t.timeSince=i})(g0);var b0={},nc={exports:{}};const nS="2.0.0",v0=256,iS=Number.MAX_SAFE_INTEGER||9007199254740991,sS=16,oS=v0-6,aS=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Ko={MAX_LENGTH:v0,MAX_SAFE_COMPONENT_LENGTH:sS,MAX_SAFE_BUILD_LENGTH:oS,MAX_SAFE_INTEGER:iS,RELEASE_TYPES:aS,SEMVER_SPEC_VERSION:nS,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const uS=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var Xo=uS;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=Ko,s=Xo;e=t.exports={};const o=e.re=[],a=e.safeRe=[],u=e.src=[],l=e.t={};let f=0;const d="[a-zA-Z0-9-]",g=[["\\s",1],["\\d",i],[d,n]],w=T=>{for(const[O,I]of g)T=T.split(`${O}*`).join(`${O}{0,${I}}`).split(`${O}+`).join(`${O}{1,${I}}`);return T},M=(T,O,I)=>{const L=w(O),P=f++;s(T,P,O),l[T]=P,u[P]=O,o[P]=new RegExp(O,I?"g":void 0),a[P]=new RegExp(L,I?"g":void 0)};M("NUMERICIDENTIFIER","0|[1-9]\\d*"),M("NUMERICIDENTIFIERLOOSE","\\d+"),M("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),M("MAINVERSION",`(${u[l.NUMERICIDENTIFIER]})\\.(${u[l.NUMERICIDENTIFIER]})\\.(${u[l.NUMERICIDENTIFIER]})`),M("MAINVERSIONLOOSE",`(${u[l.NUMERICIDENTIFIERLOOSE]})\\.(${u[l.NUMERICIDENTIFIERLOOSE]})\\.(${u[l.NUMERICIDENTIFIERLOOSE]})`),M("PRERELEASEIDENTIFIER",`(?:${u[l.NUMERICIDENTIFIER]}|${u[l.NONNUMERICIDENTIFIER]})`),M("PRERELEASEIDENTIFIERLOOSE",`(?:${u[l.NUMERICIDENTIFIERLOOSE]}|${u[l.NONNUMERICIDENTIFIER]})`),M("PRERELEASE",`(?:-(${u[l.PRERELEASEIDENTIFIER]}(?:\\.${u[l.PRERELEASEIDENTIFIER]})*))`),M("PRERELEASELOOSE",`(?:-?(${u[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[l.PRERELEASEIDENTIFIERLOOSE]})*))`),M("BUILDIDENTIFIER",`${d}+`),M("BUILD",`(?:\\+(${u[l.BUILDIDENTIFIER]}(?:\\.${u[l.BUILDIDENTIFIER]})*))`),M("FULLPLAIN",`v?${u[l.MAINVERSION]}${u[l.PRERELEASE]}?${u[l.BUILD]}?`),M("FULL",`^${u[l.FULLPLAIN]}$`),M("LOOSEPLAIN",`[v=\\s]*${u[l.MAINVERSIONLOOSE]}${u[l.PRERELEASELOOSE]}?${u[l.BUILD]}?`),M("LOOSE",`^${u[l.LOOSEPLAIN]}$`),M("GTLT","((?:<|>)?=?)"),M("XRANGEIDENTIFIERLOOSE",`${u[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),M("XRANGEIDENTIFIER",`${u[l.NUMERICIDENTIFIER]}|x|X|\\*`),M("XRANGEPLAIN",`[v=\\s]*(${u[l.XRANGEIDENTIFIER]})(?:\\.(${u[l.XRANGEIDENTIFIER]})(?:\\.(${u[l.XRANGEIDENTIFIER]})(?:${u[l.PRERELEASE]})?${u[l.BUILD]}?)?)?`),M("XRANGEPLAINLOOSE",`[v=\\s]*(${u[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[l.XRANGEIDENTIFIERLOOSE]})(?:${u[l.PRERELEASELOOSE]})?${u[l.BUILD]}?)?)?`),M("XRANGE",`^${u[l.GTLT]}\\s*${u[l.XRANGEPLAIN]}$`),M("XRANGELOOSE",`^${u[l.GTLT]}\\s*${u[l.XRANGEPLAINLOOSE]}$`),M("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),M("COERCERTL",u[l.COERCE],!0),M("LONETILDE","(?:~>?)"),M("TILDETRIM",`(\\s*)${u[l.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",M("TILDE",`^${u[l.LONETILDE]}${u[l.XRANGEPLAIN]}$`),M("TILDELOOSE",`^${u[l.LONETILDE]}${u[l.XRANGEPLAINLOOSE]}$`),M("LONECARET","(?:\\^)"),M("CARETTRIM",`(\\s*)${u[l.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",M("CARET",`^${u[l.LONECARET]}${u[l.XRANGEPLAIN]}$`),M("CARETLOOSE",`^${u[l.LONECARET]}${u[l.XRANGEPLAINLOOSE]}$`),M("COMPARATORLOOSE",`^${u[l.GTLT]}\\s*(${u[l.LOOSEPLAIN]})$|^$`),M("COMPARATOR",`^${u[l.GTLT]}\\s*(${u[l.FULLPLAIN]})$|^$`),M("COMPARATORTRIM",`(\\s*)${u[l.GTLT]}\\s*(${u[l.LOOSEPLAIN]}|${u[l.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",M("HYPHENRANGE",`^\\s*(${u[l.XRANGEPLAIN]})\\s+-\\s+(${u[l.XRANGEPLAIN]})\\s*$`),M("HYPHENRANGELOOSE",`^\\s*(${u[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[l.XRANGEPLAINLOOSE]})\\s*$`),M("STAR","(<|>)?=?\\s*\\*"),M("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),M("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(nc,nc.exports);var Is=nc.exports;const cS=Object.freeze({loose:!0}),lS=Object.freeze({}),fS=t=>t?typeof t!="object"?cS:t:lS;var Kc=fS;const Yf=/^[0-9]+$/,y0=(t,e)=>{const r=Yf.test(t),n=Yf.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},hS=(t,e)=>y0(e,t);var m0={compareIdentifiers:y0,rcompareIdentifiers:hS};const Gs=Xo,{MAX_LENGTH:Kf,MAX_SAFE_INTEGER:Js}=Ko,{safeRe:Xf,t:eh}=Is,dS=Kc,{compareIdentifiers:Zn}=m0;let pS=class or{constructor(e,r){if(r=dS(r),e instanceof or){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Kf)throw new TypeError(`version is longer than ${Kf} characters`);Gs("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?Xf[eh.LOOSE]:Xf[eh.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Js||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Js||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Js||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<Js)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Gs("SemVer.compare",this.version,this.options,e),!(e instanceof or)){if(typeof e=="string"&&e===this.version)return 0;e=new or(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof or||(e=new or(e,this.options)),Zn(this.major,e.major)||Zn(this.minor,e.minor)||Zn(this.patch,e.patch)}comparePre(e){if(e instanceof or||(e=new or(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=e.prerelease[r];if(Gs("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Zn(n,i)}while(++r)}compareBuild(e){e instanceof or||(e=new or(e,this.options));let r=0;do{const n=this.build[r],i=e.build[r];if(Gs("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Zn(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),Zn(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Mt=pS;const th=Mt,gS=(t,e,r=!1)=>{if(t instanceof th)return t;try{return new th(t,e)}catch(n){if(!r)return null;throw n}};var Di=gS;const bS=Di,vS=(t,e)=>{const r=bS(t,e);return r?r.version:null};var yS=vS;const mS=Di,_S=(t,e)=>{const r=mS(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var wS=_S;const rh=Mt,SS=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new rh(t instanceof rh?t.version:t,r).inc(e,n,i).version}catch{return null}};var ES=SS;const nh=Di,MS=(t,e)=>{const r=nh(t,null,!0),n=nh(e,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,o=s?r:n,a=s?n:r,u=!!o.prerelease.length;if(!!a.prerelease.length&&!u)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";const f=u?"pre":"";return r.major!==n.major?f+"major":r.minor!==n.minor?f+"minor":r.patch!==n.patch?f+"patch":"prerelease"};var xS=MS;const CS=Mt,RS=(t,e)=>new CS(t,e).major;var IS=RS;const AS=Mt,kS=(t,e)=>new AS(t,e).minor;var TS=kS;const OS=Mt,NS=(t,e)=>new OS(t,e).patch;var LS=NS;const PS=Di,$S=(t,e)=>{const r=PS(t,e);return r&&r.prerelease.length?r.prerelease:null};var DS=$S;const ih=Mt,jS=(t,e,r)=>new ih(t,r).compare(new ih(e,r));var er=jS;const BS=er,FS=(t,e,r)=>BS(e,t,r);var WS=FS;const HS=er,US=(t,e)=>HS(t,e,!0);var VS=US;const sh=Mt,zS=(t,e,r)=>{const n=new sh(t,r),i=new sh(e,r);return n.compare(i)||n.compareBuild(i)};var Xc=zS;const qS=Xc,GS=(t,e)=>t.sort((r,n)=>qS(r,n,e));var JS=GS;const ZS=Xc,QS=(t,e)=>t.sort((r,n)=>ZS(n,r,e));var YS=QS;const KS=er,XS=(t,e,r)=>KS(t,e,r)>0;var ea=XS;const eE=er,tE=(t,e,r)=>eE(t,e,r)<0;var el=tE;const rE=er,nE=(t,e,r)=>rE(t,e,r)===0;var _0=nE;const iE=er,sE=(t,e,r)=>iE(t,e,r)!==0;var w0=sE;const oE=er,aE=(t,e,r)=>oE(t,e,r)>=0;var tl=aE;const uE=er,cE=(t,e,r)=>uE(t,e,r)<=0;var rl=cE;const lE=_0,fE=w0,hE=ea,dE=tl,pE=el,gE=rl,bE=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return lE(t,r,n);case"!=":return fE(t,r,n);case">":return hE(t,r,n);case">=":return dE(t,r,n);case"<":return pE(t,r,n);case"<=":return gE(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var S0=bE;const vE=Mt,yE=Di,{safeRe:Zs,t:Qs}=Is,mE=(t,e)=>{if(t instanceof vE)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(Zs[Qs.COERCE]);else{let n;for(;(n=Zs[Qs.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),Zs[Qs.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Zs[Qs.COERCERTL].lastIndex=-1}return r===null?null:yE(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};var _E=mE,bu,oh;function wE(){return oh||(oh=1,bu=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),bu}var vu,ah;function SE(){if(ah)return vu;ah=1,vu=t,t.Node=i,t.create=t;function t(s){var o=this;if(o instanceof t||(o=new t),o.tail=null,o.head=null,o.length=0,s&&typeof s.forEach=="function")s.forEach(function(l){o.push(l)});else if(arguments.length>0)for(var a=0,u=arguments.length;a<u;a++)o.push(arguments[a]);return o}t.prototype.removeNode=function(s){if(s.list!==this)throw new Error("removing node which does not belong to this list");var o=s.next,a=s.prev;return o&&(o.prev=a),a&&(a.next=o),s===this.head&&(this.head=o),s===this.tail&&(this.tail=a),s.list.length--,s.next=null,s.prev=null,s.list=null,o},t.prototype.unshiftNode=function(s){if(s!==this.head){s.list&&s.list.removeNode(s);var o=this.head;s.list=this,s.next=o,o&&(o.prev=s),this.head=s,this.tail||(this.tail=s),this.length++}},t.prototype.pushNode=function(s){if(s!==this.tail){s.list&&s.list.removeNode(s);var o=this.tail;s.list=this,s.prev=o,o&&(o.next=s),this.tail=s,this.head||(this.head=s),this.length++}},t.prototype.push=function(){for(var s=0,o=arguments.length;s<o;s++)r(this,arguments[s]);return this.length},t.prototype.unshift=function(){for(var s=0,o=arguments.length;s<o;s++)n(this,arguments[s]);return this.length},t.prototype.pop=function(){if(this.tail){var s=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,s}},t.prototype.shift=function(){if(this.head){var s=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,s}},t.prototype.forEach=function(s,o){o=o||this;for(var a=this.head,u=0;a!==null;u++)s.call(o,a.value,u,this),a=a.next},t.prototype.forEachReverse=function(s,o){o=o||this;for(var a=this.tail,u=this.length-1;a!==null;u--)s.call(o,a.value,u,this),a=a.prev},t.prototype.get=function(s){for(var o=0,a=this.head;a!==null&&o<s;o++)a=a.next;if(o===s&&a!==null)return a.value},t.prototype.getReverse=function(s){for(var o=0,a=this.tail;a!==null&&o<s;o++)a=a.prev;if(o===s&&a!==null)return a.value},t.prototype.map=function(s,o){o=o||this;for(var a=new t,u=this.head;u!==null;)a.push(s.call(o,u.value,this)),u=u.next;return a},t.prototype.mapReverse=function(s,o){o=o||this;for(var a=new t,u=this.tail;u!==null;)a.push(s.call(o,u.value,this)),u=u.prev;return a},t.prototype.reduce=function(s,o){var a,u=this.head;if(arguments.length>1)a=o;else if(this.head)u=this.head.next,a=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var l=0;u!==null;l++)a=s(a,u.value,l),u=u.next;return a},t.prototype.reduceReverse=function(s,o){var a,u=this.tail;if(arguments.length>1)a=o;else if(this.tail)u=this.tail.prev,a=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var l=this.length-1;u!==null;l--)a=s(a,u.value,l),u=u.prev;return a},t.prototype.toArray=function(){for(var s=new Array(this.length),o=0,a=this.head;a!==null;o++)s[o]=a.value,a=a.next;return s},t.prototype.toArrayReverse=function(){for(var s=new Array(this.length),o=0,a=this.tail;a!==null;o++)s[o]=a.value,a=a.prev;return s},t.prototype.slice=function(s,o){o=o||this.length,o<0&&(o+=this.length),s=s||0,s<0&&(s+=this.length);var a=new t;if(o<s||o<0)return a;s<0&&(s=0),o>this.length&&(o=this.length);for(var u=0,l=this.head;l!==null&&u<s;u++)l=l.next;for(;l!==null&&u<o;u++,l=l.next)a.push(l.value);return a},t.prototype.sliceReverse=function(s,o){o=o||this.length,o<0&&(o+=this.length),s=s||0,s<0&&(s+=this.length);var a=new t;if(o<s||o<0)return a;s<0&&(s=0),o>this.length&&(o=this.length);for(var u=this.length,l=this.tail;l!==null&&u>o;u--)l=l.prev;for(;l!==null&&u>s;u--,l=l.prev)a.push(l.value);return a},t.prototype.splice=function(s,o,...a){s>this.length&&(s=this.length-1),s<0&&(s=this.length+s);for(var u=0,l=this.head;l!==null&&u<s;u++)l=l.next;for(var f=[],u=0;l&&u<o;u++)f.push(l.value),l=this.removeNode(l);l===null&&(l=this.tail),l!==this.head&&l!==this.tail&&(l=l.prev);for(var u=0;u<a.length;u++)l=e(this,l,a[u]);return f},t.prototype.reverse=function(){for(var s=this.head,o=this.tail,a=s;a!==null;a=a.prev){var u=a.prev;a.prev=a.next,a.next=u}return this.head=o,this.tail=s,this};function e(s,o,a){var u=o===s.head?new i(a,null,o,s):new i(a,o,o.next,s);return u.next===null&&(s.tail=u),u.prev===null&&(s.head=u),s.length++,u}function r(s,o){s.tail=new i(o,s.tail,null,s),s.head||(s.head=s.tail),s.length++}function n(s,o){s.head=new i(o,null,s.head,s),s.tail||(s.tail=s.head),s.length++}function i(s,o,a,u){if(!(this instanceof i))return new i(s,o,a,u);this.list=u,this.value=s,o?(o.next=this,this.prev=o):this.prev=null,a?(a.prev=this,this.next=a):this.next=null}try{wE()(t)}catch{}return vu}var yu,uh;function EE(){if(uh)return yu;uh=1;const t=SE(),e=Symbol("max"),r=Symbol("length"),n=Symbol("lengthCalculator"),i=Symbol("allowStale"),s=Symbol("maxAge"),o=Symbol("dispose"),a=Symbol("noDisposeOnSet"),u=Symbol("lruList"),l=Symbol("cache"),f=Symbol("updateAgeOnGet"),d=()=>1;class g{constructor(R){if(typeof R=="number"&&(R={max:R}),R||(R={}),R.max&&(typeof R.max!="number"||R.max<0))throw new TypeError("max must be a non-negative number");this[e]=R.max||1/0;const N=R.length||d;if(this[n]=typeof N!="function"?d:N,this[i]=R.stale||!1,R.maxAge&&typeof R.maxAge!="number")throw new TypeError("maxAge must be a number");this[s]=R.maxAge||0,this[o]=R.dispose,this[a]=R.noDisposeOnSet||!1,this[f]=R.updateAgeOnGet||!1,this.reset()}set max(R){if(typeof R!="number"||R<0)throw new TypeError("max must be a non-negative number");this[e]=R||1/0,T(this)}get max(){return this[e]}set allowStale(R){this[i]=!!R}get allowStale(){return this[i]}set maxAge(R){if(typeof R!="number")throw new TypeError("maxAge must be a non-negative number");this[s]=R,T(this)}get maxAge(){return this[s]}set lengthCalculator(R){typeof R!="function"&&(R=d),R!==this[n]&&(this[n]=R,this[r]=0,this[u].forEach(N=>{N.length=this[n](N.value,N.key),this[r]+=N.length})),T(this)}get lengthCalculator(){return this[n]}get length(){return this[r]}get itemCount(){return this[u].length}rforEach(R,N){N=N||this;for(let D=this[u].tail;D!==null;){const H=D.prev;L(this,R,D,N),D=H}}forEach(R,N){N=N||this;for(let D=this[u].head;D!==null;){const H=D.next;L(this,R,D,N),D=H}}keys(){return this[u].toArray().map(R=>R.key)}values(){return this[u].toArray().map(R=>R.value)}reset(){this[o]&&this[u]&&this[u].length&&this[u].forEach(R=>this[o](R.key,R.value)),this[l]=new Map,this[u]=new t,this[r]=0}dump(){return this[u].map(R=>M(this,R)?!1:{k:R.key,v:R.value,e:R.now+(R.maxAge||0)}).toArray().filter(R=>R)}dumpLru(){return this[u]}set(R,N,D){if(D=D||this[s],D&&typeof D!="number")throw new TypeError("maxAge must be a number");const H=D?Date.now():0,V=this[n](N,R);if(this[l].has(R)){if(V>this[e])return O(this,this[l].get(R)),!1;const Z=this[l].get(R).value;return this[o]&&(this[a]||this[o](R,Z.value)),Z.now=H,Z.maxAge=D,Z.value=N,this[r]+=V-Z.length,Z.length=V,this.get(R),T(this),!0}const B=new I(R,N,V,H,D);return B.length>this[e]?(this[o]&&this[o](R,N),!1):(this[r]+=B.length,this[u].unshift(B),this[l].set(R,this[u].head),T(this),!0)}has(R){if(!this[l].has(R))return!1;const N=this[l].get(R).value;return!M(this,N)}get(R){return w(this,R,!0)}peek(R){return w(this,R,!1)}pop(){const R=this[u].tail;return R?(O(this,R),R.value):null}del(R){O(this,this[l].get(R))}load(R){this.reset();const N=Date.now();for(let D=R.length-1;D>=0;D--){const H=R[D],V=H.e||0;if(V===0)this.set(H.k,H.v);else{const B=V-N;B>0&&this.set(H.k,H.v,B)}}}prune(){this[l].forEach((R,N)=>w(this,N,!1))}}const w=(P,R,N)=>{const D=P[l].get(R);if(D){const H=D.value;if(M(P,H)){if(O(P,D),!P[i])return}else N&&(P[f]&&(D.value.now=Date.now()),P[u].unshiftNode(D));return H.value}},M=(P,R)=>{if(!R||!R.maxAge&&!P[s])return!1;const N=Date.now()-R.now;return R.maxAge?N>R.maxAge:P[s]&&N>P[s]},T=P=>{if(P[r]>P[e])for(let R=P[u].tail;P[r]>P[e]&&R!==null;){const N=R.prev;O(P,R),R=N}},O=(P,R)=>{if(R){const N=R.value;P[o]&&P[o](N.key,N.value),P[r]-=N.length,P[l].delete(N.key),P[u].removeNode(R)}};class I{constructor(R,N,D,H,V){this.key=R,this.value=N,this.length=D,this.now=H,this.maxAge=V||0}}const L=(P,R,N,D)=>{let H=N.value;M(P,H)&&(O(P,N),P[i]||(H=void 0)),H&&R.call(D,H.value,H.key,P)};return yu=g,yu}var mu,ch;function tr(){if(ch)return mu;ch=1;class t{constructor(c,p){if(p=n(p),c instanceof t)return c.loose===!!p.loose&&c.includePrerelease===!!p.includePrerelease?c:new t(c.raw,p);if(c instanceof i)return this.raw=c.value,this.set=[[c]],this.format(),this;if(this.options=p,this.loose=!!p.loose,this.includePrerelease=!!p.includePrerelease,this.raw=c.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(b=>this.parseRange(b.trim())).filter(b=>b.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const b=this.set[0];if(this.set=this.set.filter(y=>!M(y[0])),this.set.length===0)this.set=[b];else if(this.set.length>1){for(const y of this.set)if(y.length===1&&T(y[0])){this.set=[y];break}}}this.format()}format(){return this.range=this.set.map(c=>c.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(c){const b=((this.options.includePrerelease&&g)|(this.options.loose&&w))+":"+c,y=r.get(b);if(y)return y;const _=this.options.loose,C=_?a[u.HYPHENRANGELOOSE]:a[u.HYPHENRANGE];c=c.replace(C,Z(this.options.includePrerelease)),s("hyphen replace",c),c=c.replace(a[u.COMPARATORTRIM],l),s("comparator trim",c),c=c.replace(a[u.TILDETRIM],f),s("tilde trim",c),c=c.replace(a[u.CARETTRIM],d),s("caret trim",c);let k=c.split(" ").map(q=>I(q,this.options)).join(" ").split(/\s+/).map(q=>Q(q,this.options));_&&(k=k.filter(q=>(s("loose invalid filter",q,this.options),!!q.match(a[u.COMPARATORLOOSE])))),s("range list",k);const m=new Map,h=k.map(q=>new i(q,this.options));for(const q of h){if(M(q))return[q];m.set(q.value,q)}m.size>1&&m.has("")&&m.delete("");const x=[...m.values()];return r.set(b,x),x}intersects(c,p){if(!(c instanceof t))throw new TypeError("a Range is required");return this.set.some(b=>O(b,p)&&c.set.some(y=>O(y,p)&&b.every(_=>y.every(C=>_.intersects(C,p)))))}test(c){if(!c)return!1;if(typeof c=="string")try{c=new o(c,this.options)}catch{return!1}for(let p=0;p<this.set.length;p++)if(X(this.set[p],c,this.options))return!0;return!1}}mu=t;const e=EE(),r=new e({max:1e3}),n=Kc,i=ta(),s=Xo,o=Mt,{safeRe:a,t:u,comparatorTrimReplace:l,tildeTrimReplace:f,caretTrimReplace:d}=Is,{FLAG_INCLUDE_PRERELEASE:g,FLAG_LOOSE:w}=Ko,M=v=>v.value==="<0.0.0-0",T=v=>v.value==="",O=(v,c)=>{let p=!0;const b=v.slice();let y=b.pop();for(;p&&b.length;)p=b.every(_=>y.intersects(_,c)),y=b.pop();return p},I=(v,c)=>(s("comp",v,c),v=N(v,c),s("caret",v),v=P(v,c),s("tildes",v),v=H(v,c),s("xrange",v),v=B(v,c),s("stars",v),v),L=v=>!v||v.toLowerCase()==="x"||v==="*",P=(v,c)=>v.trim().split(/\s+/).map(p=>R(p,c)).join(" "),R=(v,c)=>{const p=c.loose?a[u.TILDELOOSE]:a[u.TILDE];return v.replace(p,(b,y,_,C,k)=>{s("tilde",v,b,y,_,C,k);let m;return L(y)?m="":L(_)?m=`>=${y}.0.0 <${+y+1}.0.0-0`:L(C)?m=`>=${y}.${_}.0 <${y}.${+_+1}.0-0`:k?(s("replaceTilde pr",k),m=`>=${y}.${_}.${C}-${k} <${y}.${+_+1}.0-0`):m=`>=${y}.${_}.${C} <${y}.${+_+1}.0-0`,s("tilde return",m),m})},N=(v,c)=>v.trim().split(/\s+/).map(p=>D(p,c)).join(" "),D=(v,c)=>{s("caret",v,c);const p=c.loose?a[u.CARETLOOSE]:a[u.CARET],b=c.includePrerelease?"-0":"";return v.replace(p,(y,_,C,k,m)=>{s("caret",v,y,_,C,k,m);let h;return L(_)?h="":L(C)?h=`>=${_}.0.0${b} <${+_+1}.0.0-0`:L(k)?_==="0"?h=`>=${_}.${C}.0${b} <${_}.${+C+1}.0-0`:h=`>=${_}.${C}.0${b} <${+_+1}.0.0-0`:m?(s("replaceCaret pr",m),_==="0"?C==="0"?h=`>=${_}.${C}.${k}-${m} <${_}.${C}.${+k+1}-0`:h=`>=${_}.${C}.${k}-${m} <${_}.${+C+1}.0-0`:h=`>=${_}.${C}.${k}-${m} <${+_+1}.0.0-0`):(s("no pr"),_==="0"?C==="0"?h=`>=${_}.${C}.${k}${b} <${_}.${C}.${+k+1}-0`:h=`>=${_}.${C}.${k}${b} <${_}.${+C+1}.0-0`:h=`>=${_}.${C}.${k} <${+_+1}.0.0-0`),s("caret return",h),h})},H=(v,c)=>(s("replaceXRanges",v,c),v.split(/\s+/).map(p=>V(p,c)).join(" ")),V=(v,c)=>{v=v.trim();const p=c.loose?a[u.XRANGELOOSE]:a[u.XRANGE];return v.replace(p,(b,y,_,C,k,m)=>{s("xRange",v,b,y,_,C,k,m);const h=L(_),x=h||L(C),q=x||L(k),G=q;return y==="="&&G&&(y=""),m=c.includePrerelease?"-0":"",h?y===">"||y==="<"?b="<0.0.0-0":b="*":y&&G?(x&&(C=0),k=0,y===">"?(y=">=",x?(_=+_+1,C=0,k=0):(C=+C+1,k=0)):y==="<="&&(y="<",x?_=+_+1:C=+C+1),y==="<"&&(m="-0"),b=`${y+_}.${C}.${k}${m}`):x?b=`>=${_}.0.0${m} <${+_+1}.0.0-0`:q&&(b=`>=${_}.${C}.0${m} <${_}.${+C+1}.0-0`),s("xRange return",b),b})},B=(v,c)=>(s("replaceStars",v,c),v.trim().replace(a[u.STAR],"")),Q=(v,c)=>(s("replaceGTE0",v,c),v.trim().replace(a[c.includePrerelease?u.GTE0PRE:u.GTE0],"")),Z=v=>(c,p,b,y,_,C,k,m,h,x,q,G,A)=>(L(b)?p="":L(y)?p=`>=${b}.0.0${v?"-0":""}`:L(_)?p=`>=${b}.${y}.0${v?"-0":""}`:C?p=`>=${p}`:p=`>=${p}${v?"-0":""}`,L(h)?m="":L(x)?m=`<${+h+1}.0.0-0`:L(q)?m=`<${h}.${+x+1}.0-0`:G?m=`<=${h}.${x}.${q}-${G}`:v?m=`<${h}.${x}.${+q+1}-0`:m=`<=${m}`,`${p} ${m}`.trim()),X=(v,c,p)=>{for(let b=0;b<v.length;b++)if(!v[b].test(c))return!1;if(c.prerelease.length&&!p.includePrerelease){for(let b=0;b<v.length;b++)if(s(v[b].semver),v[b].semver!==i.ANY&&v[b].semver.prerelease.length>0){const y=v[b].semver;if(y.major===c.major&&y.minor===c.minor&&y.patch===c.patch)return!0}return!1}return!0};return mu}var _u,lh;function ta(){if(lh)return _u;lh=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(f,d){if(d=r(d),f instanceof e){if(f.loose===!!d.loose)return f;f=f.value}f=f.trim().split(/\s+/).join(" "),o("comparator",f,d),this.options=d,this.loose=!!d.loose,this.parse(f),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(f){const d=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],g=f.match(d);if(!g)throw new TypeError(`Invalid comparator: ${f}`);this.operator=g[1]!==void 0?g[1]:"",this.operator==="="&&(this.operator=""),g[2]?this.semver=new a(g[2],this.options.loose):this.semver=t}toString(){return this.value}test(f){if(o("Comparator.test",f,this.options.loose),this.semver===t||f===t)return!0;if(typeof f=="string")try{f=new a(f,this.options)}catch{return!1}return s(f,this.operator,this.semver,this.options)}intersects(f,d){if(!(f instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new u(f.value,d).test(this.value):f.operator===""?f.value===""?!0:new u(this.value,d).test(f.semver):(d=r(d),d.includePrerelease&&(this.value==="<0.0.0-0"||f.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||f.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&f.operator.startsWith(">")||this.operator.startsWith("<")&&f.operator.startsWith("<")||this.semver.version===f.semver.version&&this.operator.includes("=")&&f.operator.includes("=")||s(this.semver,"<",f.semver,d)&&this.operator.startsWith(">")&&f.operator.startsWith("<")||s(this.semver,">",f.semver,d)&&this.operator.startsWith("<")&&f.operator.startsWith(">")))}}_u=e;const r=Kc,{safeRe:n,t:i}=Is,s=S0,o=Xo,a=Mt,u=tr();return _u}const ME=tr(),xE=(t,e,r)=>{try{e=new ME(e,r)}catch{return!1}return e.test(t)};var ra=xE;const CE=tr(),RE=(t,e)=>new CE(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var IE=RE;const AE=Mt,kE=tr(),TE=(t,e,r)=>{let n=null,i=null,s=null;try{s=new kE(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new AE(n,r))}),n};var OE=TE;const NE=Mt,LE=tr(),PE=(t,e,r)=>{let n=null,i=null,s=null;try{s=new LE(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new NE(n,r))}),n};var $E=PE;const wu=Mt,DE=tr(),fh=ea,jE=(t,e)=>{t=new DE(t,e);let r=new wu("0.0.0");if(t.test(r)||(r=new wu("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const i=t.set[n];let s=null;i.forEach(o=>{const a=new wu(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||fh(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||fh(r,s))&&(r=s)}return r&&t.test(r)?r:null};var BE=jE;const FE=tr(),WE=(t,e)=>{try{return new FE(t,e).range||"*"}catch{return null}};var HE=WE;const UE=Mt,E0=ta(),{ANY:VE}=E0,zE=tr(),qE=ra,hh=ea,dh=el,GE=rl,JE=tl,ZE=(t,e,r,n)=>{t=new UE(t,n),e=new zE(e,n);let i,s,o,a,u;switch(r){case">":i=hh,s=GE,o=dh,a=">",u=">=";break;case"<":i=dh,s=JE,o=hh,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(qE(t,e,n))return!1;for(let l=0;l<e.set.length;++l){const f=e.set[l];let d=null,g=null;if(f.forEach(w=>{w.semver===VE&&(w=new E0(">=0.0.0")),d=d||w,g=g||w,i(w.semver,d.semver,n)?d=w:o(w.semver,g.semver,n)&&(g=w)}),d.operator===a||d.operator===u||(!g.operator||g.operator===a)&&s(t,g.semver))return!1;if(g.operator===u&&o(t,g.semver))return!1}return!0};var nl=ZE;const QE=nl,YE=(t,e,r)=>QE(t,e,">",r);var KE=YE;const XE=nl,e3=(t,e,r)=>XE(t,e,"<",r);var t3=e3;const ph=tr(),r3=(t,e,r)=>(t=new ph(t,r),e=new ph(e,r),t.intersects(e,r));var n3=r3;const i3=ra,s3=er;var o3=(t,e,r)=>{const n=[];let i=null,s=null;const o=t.sort((f,d)=>s3(f,d,r));for(const f of o)i3(f,e,r)?(s=f,i||(i=f)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const a=[];for(const[f,d]of n)f===d?a.push(f):!d&&f===o[0]?a.push("*"):d?f===o[0]?a.push(`<=${d}`):a.push(`${f} - ${d}`):a.push(`>=${f}`);const u=a.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return u.length<l.length?u:e};const gh=tr(),il=ta(),{ANY:Su}=il,Vi=ra,sl=er,a3=(t,e,r={})=>{if(t===e)return!0;t=new gh(t,r),e=new gh(e,r);let n=!1;e:for(const i of t.set){for(const s of e.set){const o=c3(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},u3=[new il(">=0.0.0-0")],bh=[new il(">=0.0.0")],c3=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Su){if(e.length===1&&e[0].semver===Su)return!0;r.includePrerelease?t=u3:t=bh}if(e.length===1&&e[0].semver===Su){if(r.includePrerelease)return!0;e=bh}const n=new Set;let i,s;for(const w of t)w.operator===">"||w.operator===">="?i=vh(i,w,r):w.operator==="<"||w.operator==="<="?s=yh(s,w,r):n.add(w.semver);if(n.size>1)return null;let o;if(i&&s){if(o=sl(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const w of n){if(i&&!Vi(w,String(i),r)||s&&!Vi(w,String(s),r))return null;for(const M of e)if(!Vi(w,String(M),r))return!1;return!0}let a,u,l,f,d=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,g=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&s.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(const w of e){if(f=f||w.operator===">"||w.operator===">=",l=l||w.operator==="<"||w.operator==="<=",i){if(g&&w.semver.prerelease&&w.semver.prerelease.length&&w.semver.major===g.major&&w.semver.minor===g.minor&&w.semver.patch===g.patch&&(g=!1),w.operator===">"||w.operator===">="){if(a=vh(i,w,r),a===w&&a!==i)return!1}else if(i.operator===">="&&!Vi(i.semver,String(w),r))return!1}if(s){if(d&&w.semver.prerelease&&w.semver.prerelease.length&&w.semver.major===d.major&&w.semver.minor===d.minor&&w.semver.patch===d.patch&&(d=!1),w.operator==="<"||w.operator==="<="){if(u=yh(s,w,r),u===w&&u!==s)return!1}else if(s.operator==="<="&&!Vi(s.semver,String(w),r))return!1}if(!w.operator&&(s||i)&&o!==0)return!1}return!(i&&l&&!s&&o!==0||s&&f&&!i&&o!==0||g||d)},vh=(t,e,r)=>{if(!t)return e;const n=sl(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},yh=(t,e,r)=>{if(!t)return e;const n=sl(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var l3=a3;const Eu=Is,mh=Ko,f3=Mt,_h=m0,h3=Di,d3=yS,p3=wS,g3=ES,b3=xS,v3=IS,y3=TS,m3=LS,_3=DS,w3=er,S3=WS,E3=VS,M3=Xc,x3=JS,C3=YS,R3=ea,I3=el,A3=_0,k3=w0,T3=tl,O3=rl,N3=S0,L3=_E,P3=ta(),$3=tr(),D3=ra,j3=IE,B3=OE,F3=$E,W3=BE,H3=HE,U3=nl,V3=KE,z3=t3,q3=n3,G3=o3,J3=l3;var Z3={parse:h3,valid:d3,clean:p3,inc:g3,diff:b3,major:v3,minor:y3,patch:m3,prerelease:_3,compare:w3,rcompare:S3,compareLoose:E3,compareBuild:M3,sort:x3,rsort:C3,gt:R3,lt:I3,eq:A3,neq:k3,gte:T3,lte:O3,cmp:N3,coerce:L3,Comparator:P3,Range:$3,satisfies:D3,toComparators:j3,maxSatisfying:B3,minSatisfying:F3,minVersion:W3,validRange:H3,outside:U3,gtr:V3,ltr:z3,intersects:q3,simplifyRange:G3,subset:J3,SemVer:f3,re:Eu.re,src:Eu.src,tokens:Eu.t,SEMVER_SPEC_VERSION:mh.SEMVER_SPEC_VERSION,RELEASE_TYPES:mh.RELEASE_TYPES,compareIdentifiers:_h.compareIdentifiers,rcompareIdentifiers:_h.rcompareIdentifiers};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.satisfiesVersionRange=t.gtRange=t.gtVersion=t.assertIsSemVerRange=t.assertIsSemVerVersion=t.isValidSemVerRange=t.isValidSemVerVersion=t.VersionRangeStruct=t.VersionStruct=void 0;const e=Z3,r=Ln,n=pt;t.VersionStruct=(0,r.refine)((0,r.string)(),"Version",d=>(0,e.valid)(d)===null?`Expected SemVer version, got "${d}"`:!0),t.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",d=>(0,e.validRange)(d)===null?`Expected SemVer range, got "${d}"`:!0);function i(d){return(0,r.is)(d,t.VersionStruct)}t.isValidSemVerVersion=i;function s(d){return(0,r.is)(d,t.VersionRangeStruct)}t.isValidSemVerRange=s;function o(d){(0,n.assertStruct)(d,t.VersionStruct)}t.assertIsSemVerVersion=o;function a(d){(0,n.assertStruct)(d,t.VersionRangeStruct)}t.assertIsSemVerRange=a;function u(d,g){return(0,e.gt)(d,g)}t.gtVersion=u;function l(d,g){return(0,e.gtr)(d,g)}t.gtRange=l;function f(d,g){return(0,e.satisfies)(d,g,{includePrerelease:!0})}t.satisfiesVersionRange=f})(b0);(function(t){var e=J&&J.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=J&&J.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(pt,t),r(Cs,t),r(he,t),r(Qo,t),r(hr,t),r(mi,t),r(Rs,t),r(d0,t),r(_i,t),r(Yc,t),r(dr,t),r(p0,t),r(g0,t),r(b0,t)})(Jp);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.projectLogger=void 0;const e=Jp;Object.defineProperty(t,"createModuleLogger",{enumerable:!0,get:function(){return e.createModuleLogger}}),t.projectLogger=(0,e.createProjectLogger)("eth-block-tracker")})(Gp);var M0=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jo,"__esModule",{value:!0});Jo.PollingBlockTracker=void 0;const Q3=M0(Wc),Y3=M0(Mw),K3=Ms,wh=Gp,Sh=(0,wh.createModuleLogger)(wh.projectLogger,"polling-block-tracker"),X3=(0,Q3.default)(),e4=1e3;class t4 extends K3.BaseBlockTracker{constructor(e={}){var r;if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");super({blockResetDuration:(r=e.blockResetDuration)!==null&&r!==void 0?r:e.pollingInterval}),this._provider=e.provider,this._pollingInterval=e.pollingInterval||20*e4,this._retryTimeout=e.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=e.keepEventLoopActive===void 0?!0:e.keepEventLoopActive,this._setSkipCacheFlag=e.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var e;this._isRunning;)try{await this._updateLatestBlock();const r=Eh(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await r}catch(r){const n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(e=r.stack)!==null&&e!==void 0?e:r}`);try{this.emit("error",n)}catch{console.error(n)}const i=Eh(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await i}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:X3(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0),Sh("Making request",e);const r=await(0,Y3.default)(n=>this._provider.sendAsync(e,n))();if(Sh("Got response",r),r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error.message}`);return r.result}}Jo.PollingBlockTracker=t4;function Eh(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var na={},r4=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(na,"__esModule",{value:!0});na.SubscribeBlockTracker=void 0;const n4=r4(Wc),i4=Ms,s4=(0,n4.default)();class o4 extends i4.BaseBlockTracker{constructor(e={}){if(!e.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(e),this._provider=e.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const e=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(e)}catch(e){this.emit("error",e)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(e){this.emit("error",e)}}_call(e,...r){return new Promise((n,i)=>{this._provider.sendAsync({id:s4(),method:e,params:r,jsonrpc:"2.0"},(s,o)=>{s?i(s):n(o.result)})})}_handleSubData(e,r){var n;r.method==="eth_subscription"&&((n=r.params)===null||n===void 0?void 0:n.subscription)===this._subscriptionId&&this._newPotentialLatest(r.params.result.number)}}na.SubscribeBlockTracker=o4;var x0={};Object.defineProperty(x0,"__esModule",{value:!0});(function(t){var e=J&&J.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=J&&J.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Jo,t),r(na,t),r(x0,t)})(qp);var ol={},ia={},As={};Object.defineProperty(As,"__esModule",{value:!0});As.getUniqueId=void 0;const C0=4294967295;let Mu=Math.floor(Math.random()*C0);function a4(){return Mu=(Mu+1)%C0,Mu}As.getUniqueId=a4;Object.defineProperty(ia,"__esModule",{value:!0});ia.createIdRemapMiddleware=void 0;const u4=As;function c4(){return(t,e,r,n)=>{const i=t.id,s=u4.getUniqueId();t.id=s,e.id=s,r(o=>{t.id=i,e.id=i,o()})}}ia.createIdRemapMiddleware=c4;var sa={};Object.defineProperty(sa,"__esModule",{value:!0});sa.createAsyncMiddleware=void 0;function l4(t){return async(e,r,n,i)=>{let s;const o=new Promise(f=>{s=f});let a=null,u=!1;const l=async()=>{u=!0,n(f=>{a=f,s()}),await o};try{await t(e,r,l),u?(await o,a(null)):i(null)}catch(f){a?a(f):i(f)}}}sa.createAsyncMiddleware=l4;var oa={};Object.defineProperty(oa,"__esModule",{value:!0});oa.createScaffoldMiddleware=void 0;function f4(t){return(e,r,n,i)=>{const s=t[e.method];return s===void 0?n():typeof s=="function"?s(e,r,n,i):(r.result=s,i())}}oa.createScaffoldMiddleware=f4;var ks={},h4=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ks,"__esModule",{value:!0});ks.JsonRpcEngine=void 0;const d4=h4(Cn),Pt=yc;class mr extends d4.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[s,o,a]=await mr._runAllMiddleware(e,r,this._middleware);return o?(await mr._runReturnHandlers(a),i(s)):n(async u=>{try{await mr._runReturnHandlers(a)}catch(l){return u(l)}return u()})}catch(s){return i(s)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const o=new Pt.EthereumRpcError(Pt.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new Pt.EthereumRpcError(Pt.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(o,{id:e.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=Pt.serializeError(s))),r(s,i)}async _processRequest(e,r){const[n,i,s]=await mr._runAllMiddleware(e,r,this._middleware);if(mr._checkForCompletion(e,r,i),await mr._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let s=null,o=!1;for(const a of n)if([s,o]=await mr._runMiddleware(e,r,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(s=>{const o=u=>{const l=u||r.error;l&&(r.error=Pt.serializeError(l)),s([l,!0])},a=u=>{r.error?o(r.error):(u&&(typeof u!="function"&&o(new Pt.EthereumRpcError(Pt.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof u}" for request:
${xu(e)}`,{request:e})),i.push(u)),s([null,!1]))};try{n(e,r,a,o)}catch(u){o(u)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new Pt.EthereumRpcError(Pt.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${xu(e)}`,{request:e});if(!n)throw new Pt.EthereumRpcError(Pt.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${xu(e)}`,{request:e})}}ks.JsonRpcEngine=mr;function xu(t){return JSON.stringify(t,null,2)}var aa={};Object.defineProperty(aa,"__esModule",{value:!0});aa.mergeMiddleware=void 0;const p4=ks;function g4(t){const e=new p4.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}aa.mergeMiddleware=g4;(function(t){var e=J&&J.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=J&&J.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(ia,t),r(sa,t),r(oa,t),r(As,t),r(ks,t),r(aa,t)})(ol);var R0={},al={},ic=function(t,e){return ic=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},ic(t,e)};function I0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ic(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var mo=function(){return mo=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},mo.apply(this,arguments)};function A0(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function k0(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function T0(t,e){return function(r,n){e(r,n,t)}}function b4(t,e,r,n,i,s){function o(I){if(I!==void 0&&typeof I!="function")throw new TypeError("Function expected");return I}for(var a=n.kind,u=a==="getter"?"get":a==="setter"?"set":"value",l=!e&&t?n.static?t:t.prototype:null,f=e||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),d,g=!1,w=r.length-1;w>=0;w--){var M={};for(var T in n)M[T]=T==="access"?{}:n[T];for(var T in n.access)M.access[T]=n.access[T];M.addInitializer=function(I){if(g)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(I||null))};var O=(0,r[w])(a==="accessor"?{get:f.get,set:f.set}:f[u],M);if(a==="accessor"){if(O===void 0)continue;if(O===null||typeof O!="object")throw new TypeError("Object expected");(d=o(O.get))&&(f.get=d),(d=o(O.set))&&(f.set=d),(d=o(O.init))&&i.unshift(d)}else(d=o(O))&&(a==="field"?i.unshift(d):f[u]=d)}l&&Object.defineProperty(l,n.name,f),g=!0}function v4(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function y4(t){return typeof t=="symbol"?t:"".concat(t)}function m4(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function O0(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function N0(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{l(n.next(f))}catch(d){o(d)}}function u(f){try{l(n.throw(f))}catch(d){o(d)}}function l(f){f.done?s(f.value):i(f.value).then(a,u)}l((n=n.apply(t,e||[])).next())})}function L0(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(f){return u([l,f])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(f){l=[6,f],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var ua=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function P0(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ua(e,t,r)}function _o(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ul(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function $0(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ul(arguments[e]));return t}function D0(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function j0(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function wi(t){return this instanceof wi?(this.v=t,this):new wi(t)}function B0(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(g){n[g]&&(i[g]=function(w){return new Promise(function(M,T){s.push([g,w,M,T])>1||a(g,w)})})}function a(g,w){try{u(n[g](w))}catch(M){d(s[0][3],M)}}function u(g){g.value instanceof wi?Promise.resolve(g.value.v).then(l,f):d(s[0][2],g)}function l(g){a("next",g)}function f(g){a("throw",g)}function d(g,w){g(w),s.shift(),s.length&&a(s[0][0],s[0][1])}}function F0(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:wi(t[i](o)),done:!1}:s?s(o):o}:s}}function W0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof _o=="function"?_o(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}function H0(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var _4=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function U0(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ua(e,t,r);return _4(e,t),e}function V0(t){return t&&t.__esModule?t:{default:t}}function z0(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function q0(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function G0(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function J0(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose]}if(typeof n!="function")throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var w4=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function Z0(t){function e(n){t.error=t.hasError?new w4(n,t.error,"An error was suppressed during disposal."):n,t.hasError=!0}function r(){for(;t.stack.length;){var n=t.stack.pop();try{var i=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(i).then(r,function(s){return e(s),r()})}catch(s){e(s)}}if(t.hasError)throw t.error}return r()}var S4={__extends:I0,__assign:mo,__rest:A0,__decorate:k0,__param:T0,__metadata:O0,__awaiter:N0,__generator:L0,__createBinding:ua,__exportStar:P0,__values:_o,__read:ul,__spread:$0,__spreadArrays:D0,__spreadArray:j0,__await:wi,__asyncGenerator:B0,__asyncDelegator:F0,__asyncValues:W0,__makeTemplateObject:H0,__importStar:U0,__importDefault:V0,__classPrivateFieldGet:z0,__classPrivateFieldSet:q0,__classPrivateFieldIn:G0,__addDisposableResource:J0,__disposeResources:Z0},E4=Object.freeze({__proto__:null,__addDisposableResource:J0,get __assign(){return mo},__asyncDelegator:F0,__asyncGenerator:B0,__asyncValues:W0,__await:wi,__awaiter:N0,__classPrivateFieldGet:z0,__classPrivateFieldIn:G0,__classPrivateFieldSet:q0,__createBinding:ua,__decorate:k0,__disposeResources:Z0,__esDecorate:b4,__exportStar:P0,__extends:I0,__generator:L0,__importDefault:V0,__importStar:U0,__makeTemplateObject:H0,__metadata:O0,__param:T0,__propKey:y4,__read:ul,__rest:A0,__runInitializers:v4,__setFunctionName:m4,__spread:$0,__spreadArray:j0,__spreadArrays:D0,__values:_o,default:S4}),cl=Ut(E4),ca={};Object.defineProperty(ca,"__esModule",{value:!0});var Mh=cl,M4=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return Mh.__awaiter(this,void 0,void 0,function(){var r,n,i;return Mh.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();ca.default=M4;Object.defineProperty(al,"__esModule",{value:!0});var xh=cl,x4=ca,C4=function(){function t(){this._semaphore=new x4.default(1)}return t.prototype.acquire=function(){return xh.__awaiter(this,void 0,void 0,function(){var e,r;return xh.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();al.default=C4;var la={};Object.defineProperty(la,"__esModule",{value:!0});la.withTimeout=void 0;var Ys=cl;function R4(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return Ys.__awaiter(n,void 0,void 0,function(){var o,a,u;return Ys.__generator(this,function(l){switch(l.label){case 0:return o=!1,setTimeout(function(){o=!0,s(r)},e),[4,t.acquire()];case 1:return a=l.sent(),o?(u=Array.isArray(a)?a[1]:a,u()):i(a),[2]}})})})},runExclusive:function(i){return Ys.__awaiter(this,void 0,void 0,function(){var s,o;return Ys.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}la.withTimeout=R4;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=al;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=ca;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=la;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(R0);var I4=k4,A4=Object.prototype.hasOwnProperty;function k4(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)A4.call(r,n)&&(t[n]=r[n])}return t}const T4=I4,O4=Wc();var N4=ne;function ne(t){const e=this;e.currentProvider=t}ne.prototype.getBalance=Ts(2,"eth_getBalance");ne.prototype.getCode=Ts(2,"eth_getCode");ne.prototype.getTransactionCount=Ts(2,"eth_getTransactionCount");ne.prototype.getStorageAt=Ts(3,"eth_getStorageAt");ne.prototype.call=Ts(2,"eth_call");ne.prototype.protocolVersion=ce("eth_protocolVersion");ne.prototype.syncing=ce("eth_syncing");ne.prototype.coinbase=ce("eth_coinbase");ne.prototype.mining=ce("eth_mining");ne.prototype.hashrate=ce("eth_hashrate");ne.prototype.gasPrice=ce("eth_gasPrice");ne.prototype.accounts=ce("eth_accounts");ne.prototype.blockNumber=ce("eth_blockNumber");ne.prototype.getBlockTransactionCountByHash=ce("eth_getBlockTransactionCountByHash");ne.prototype.getBlockTransactionCountByNumber=ce("eth_getBlockTransactionCountByNumber");ne.prototype.getUncleCountByBlockHash=ce("eth_getUncleCountByBlockHash");ne.prototype.getUncleCountByBlockNumber=ce("eth_getUncleCountByBlockNumber");ne.prototype.sign=ce("eth_sign");ne.prototype.sendTransaction=ce("eth_sendTransaction");ne.prototype.sendRawTransaction=ce("eth_sendRawTransaction");ne.prototype.estimateGas=ce("eth_estimateGas");ne.prototype.getBlockByHash=ce("eth_getBlockByHash");ne.prototype.getBlockByNumber=ce("eth_getBlockByNumber");ne.prototype.getTransactionByHash=ce("eth_getTransactionByHash");ne.prototype.getTransactionByBlockHashAndIndex=ce("eth_getTransactionByBlockHashAndIndex");ne.prototype.getTransactionByBlockNumberAndIndex=ce("eth_getTransactionByBlockNumberAndIndex");ne.prototype.getTransactionReceipt=ce("eth_getTransactionReceipt");ne.prototype.getUncleByBlockHashAndIndex=ce("eth_getUncleByBlockHashAndIndex");ne.prototype.getUncleByBlockNumberAndIndex=ce("eth_getUncleByBlockNumberAndIndex");ne.prototype.getCompilers=ce("eth_getCompilers");ne.prototype.compileLLL=ce("eth_compileLLL");ne.prototype.compileSolidity=ce("eth_compileSolidity");ne.prototype.compileSerpent=ce("eth_compileSerpent");ne.prototype.newFilter=ce("eth_newFilter");ne.prototype.newBlockFilter=ce("eth_newBlockFilter");ne.prototype.newPendingTransactionFilter=ce("eth_newPendingTransactionFilter");ne.prototype.uninstallFilter=ce("eth_uninstallFilter");ne.prototype.getFilterChanges=ce("eth_getFilterChanges");ne.prototype.getFilterLogs=ce("eth_getFilterLogs");ne.prototype.getLogs=ce("eth_getLogs");ne.prototype.getWork=ce("eth_getWork");ne.prototype.submitWork=ce("eth_submitWork");ne.prototype.submitHashrate=ce("eth_submitHashrate");ne.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(L4(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function ce(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function Ts(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function L4(t){return T4({id:O4(),jsonrpc:"2.0",params:[]},t)}const Ch=(t,e,r,n)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...l)=>{e.errorFirst?l[0]?a(l):(l.shift(),o(l)):o(l)}):e.errorFirst?i.push((l,f)=>{l?a(l):o(f)}):i.push(o),Reflect.apply(t,this===r?n:this,i)})},Rh=new WeakMap;var P4=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(o,a)=>{let u=Rh.get(o);if(u||(u={},Rh.set(o,u)),a in u)return u[a];const l=M=>typeof M=="string"||typeof a=="symbol"?a===M:M.test(a),f=Reflect.getOwnPropertyDescriptor(o,a),d=f===void 0||f.writable||f.configurable,w=(e.include?e.include.some(l):!e.exclude.some(l))&&d;return u[a]=w,w},i=new WeakMap,s=new Proxy(t,{apply(o,a,u){const l=i.get(o);if(l)return Reflect.apply(l,a,u);const f=e.excludeMain?o:Ch(o,e,s,o);return i.set(o,f),Reflect.apply(f,a,u)},get(o,a){const u=o[a];if(!n(o,a)||u===Function.prototype[a])return u;const l=i.get(u);if(l)return l;if(typeof u=="function"){const f=Ch(u,e,s,o);return i.set(u,f),f}return u}});return s};const $4=Cn.default;let D4=class extends $4{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}};var ll=D4;const j4=ll;let B4=class extends j4{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}};var F4=B4,Os={minBlockRef:W4,maxBlockRef:H4,sortBlockRefs:fl,bnToHex:U4,blockRefIsNumber:V4,hexToInt:wo,incrementHexInt:z4,intToHex:Q0,unsafeRandomBytes:q4};function W4(...t){return fl(t)[0]}function H4(...t){const e=fl(t);return e[e.length-1]}function fl(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:wo(e)-wo(r))}function U4(t){return"0x"+t.toString(16)}function V4(t){return t&&!["earliest","latest","pending"].includes(t)}function wo(t){return t==null?t:Number.parseInt(t,16)}function z4(t){if(t==null)return t;const e=wo(t);return Q0(e+1)}function Q0(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function q4(t){let e="0x";for(let r=0;r<t;r++)e+=Ih(),e+=Ih();return e}function Ih(){return Math.floor(Math.random()*16).toString(16)}const G4=N4,J4=P4,Z4=F4,{bnToHex:Tk,hexToInt:Ks,incrementHexInt:Q4,minBlockRef:Y4,blockRefIsNumber:K4}=Os;let X4=class extends Z4{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new G4(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=Y4(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=Q4(e):i=r;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(s)).filter(u=>this.matchLog(u));this.addResults(a)}async _fetchLogs(e){return await J4(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(Ks(this.params.fromBlock)>=Ks(e.blockNumber)||K4(this.params.toBlock)&&Ks(this.params.toBlock)<=Ks(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(f=>f.toLowerCase()),a.includes(o))})}};var eM=X4,hl=tM;async function tM({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=Ah(e),s=Ah(r)-n+1,o=Array(s).fill().map((u,l)=>n+l).map(rM);return await Promise.all(o.map(u=>iM(t,"eth_getBlockByNumber",[u,!1])))}function Ah(t){return t==null?t:Number.parseInt(t,16)}function rM(t){return t==null?t:"0x"+t.toString(16)}function nM(t,e){return new Promise((r,n)=>{t.sendAsync(e,(i,s)=>{i?n(i):s.error?n(s.error):s.result?r(s.result):n(new Error("Result was empty"))})})}async function iM(t,e,r){for(let n=0;n<3;n++)try{return await nM(t,{id:1,jsonrpc:"2.0",method:e,params:r})}catch(i){console.error(`provider.sendAsync failed: ${i.stack||i.message||i}`)}throw new Error(`Block not found for params: ${JSON.stringify(r)}`)}const sM=ll,oM=hl,{incrementHexInt:aM}=Os;let uM=class extends sM{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=aM(e),o=(await oM({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(o)}};var cM=uM;const lM=ll,fM=hl,{incrementHexInt:hM}=Os;let dM=class extends lM{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=hM(e),i=await fM({provider:this.provider,fromBlock:n,toBlock:r}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}};var pM=dM;const gM=R0.Mutex,{createAsyncMiddleware:bM,createScaffoldMiddleware:vM}=ol,yM=eM,mM=cM,_M=pM,{intToHex:Y0,hexToInt:Cu}=Os;var wM=SM;function SM({blockTracker:t,provider:e}){let r=0,n={};const i=new gM,s=EM({mutex:i}),o=vM({eth_newFilter:s(Ru(u)),eth_newBlockFilter:s(Ru(l)),eth_newPendingTransactionFilter:s(Ru(f)),eth_uninstallFilter:s(oo(w)),eth_getFilterChanges:s(oo(d)),eth_getFilterLogs:s(oo(g))}),a=async({oldBlock:L,newBlock:P})=>{if(n.length===0)return;const R=await i.acquire();try{await Promise.all(Qn(n).map(async N=>{try{await N.update({oldBlock:L,newBlock:P})}catch(D){console.error(D)}}))}catch(N){console.error(N)}R()};return o.newLogFilter=u,o.newBlockFilter=l,o.newPendingTransactionFilter=f,o.uninstallFilter=w,o.getFilterChanges=d,o.getFilterLogs=g,o.destroy=()=>{O()},o;async function u(L){const P=new yM({provider:e,params:L});return await M(P),P}async function l(){const L=new mM({provider:e});return await M(L),L}async function f(){const L=new _M({provider:e});return await M(L),L}async function d(L){const P=Cu(L),R=n[P];if(!R)throw new Error(`No filter for index "${P}"`);return R.getChangesAndClear()}async function g(L){const P=Cu(L),R=n[P];if(!R)throw new Error(`No filter for index "${P}"`);let N=[];return R.type==="log"&&(N=R.getAllResults()),N}async function w(L){const P=Cu(L),R=n[P],N=Boolean(R);return N&&await T(P),N}async function M(L){const P=Qn(n).length,R=await t.getLatestBlock();await L.initialize({currentBlock:R}),r++,n[r]=L,L.id=r,L.idHex=Y0(r);const N=Qn(n).length;return I({prevFilterCount:P,newFilterCount:N}),r}async function T(L){const P=Qn(n).length;delete n[L];const R=Qn(n).length;I({prevFilterCount:P,newFilterCount:R})}async function O(){const L=Qn(n).length;n={},I({prevFilterCount:L,newFilterCount:0})}function I({prevFilterCount:L,newFilterCount:P}){if(L===0&&P>0){t.on("sync",a);return}if(L>0&&P===0){t.removeListener("sync",a);return}}}function Ru(t){return oo(async(...e)=>{const r=await t(...e);return Y0(r.id)})}function oo(t){return bM(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function EM({mutex:t}){return e=>async(r,n,i,s)=>{(await t.acquire())(),e(r,n,i,s)}}function Qn(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const MM=Cn.default,{createAsyncMiddleware:kh,createScaffoldMiddleware:xM}=ol,CM=wM,{unsafeRandomBytes:RM,incrementHexInt:IM}=Os,AM=hl;var kM=TM;function TM({blockTracker:t,provider:e}){const r={},n=CM({blockTracker:t,provider:e});let i=!1;const s=new MM,o=xM({eth_subscribe:kh(a),eth_unsubscribe:kh(u)});return o.destroy=f,{events:s,middleware:o};async function a(d,g){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const w=d.params[0],M=RM(16);let T;switch(w){case"newHeads":T=O({subId:M});break;case"logs":const L=d.params[1],P=await n.newLogFilter(L);T=I({subId:M,filter:P});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${w}"`)}r[M]=T,g.result=M;return;function O({subId:L}){const P={type:w,destroy:async()=>{t.removeListener("sync",P.update)},update:async({oldBlock:R,newBlock:N})=>{const D=N,H=IM(R);(await AM({provider:e,fromBlock:H,toBlock:D})).map(OM).filter(Q=>Q!==null).forEach(Q=>{l(L,Q)})}};return t.on("sync",P.update),P}function I({subId:L,filter:P}){return P.on("update",N=>l(L,N)),{type:w,destroy:async()=>await n.uninstallFilter(P.idHex)}}}async function u(d,g){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const w=d.params[0],M=r[w];if(!M){g.result=!1;return}delete r[w],await M.destroy(),g.result=!0}function l(d,g){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:d,result:g}})}function f(){s.removeAllListeners();for(const d in r)r[d].destroy(),delete r[d];i=!0}}function OM(t){return t==null?null:{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(Go,"__esModule",{value:!0});Go.SubscriptionManager=void 0;const NM=qp,LM=kM,Th=()=>{};class PM{constructor(e){const r=new NM.PollingBlockTracker({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=LM({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,Th,Th),r}destroy(){this.subscriptionMiddleware.destroy()}}Go.SubscriptionManager=PM;var dl=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hi,"__esModule",{value:!0});hi.CoinbaseWalletProvider=void 0;const $M=dl(Cn),DM=dl(No),Iu=Ai,_e=hs,Oh=ki,Nh=Qt,Au=Po,jM=Ee,ae=Y,ku=dl(mw),BM=yi,ge=zp,FM=Go,Lh="DefaultChainId",Ph="DefaultJsonRpcUrl";class WM extends $M.default{constructor(e){var r,n;super(),this._filterPolyfill=new BM.FilterPolyfill(this),this._subscriptionManager=new FM.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl,this.supportsAddressSwitching=e.supportsAddressSwitching,this.isLedger=e.isLedger;const i=this.getChainId(),s=(0,ae.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(Nh.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(u=>(0,ae.ensureAddressString)(u)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",a=>{var u;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"){if(a.data.data.action==="defaultChainChanged"||a.data.data.action==="dappChainSwitched"){const l=a.data.data.chainId,f=(u=a.data.data.jsonRpcUrl)!==null&&u!==void 0?u:this.jsonRpcUrl;this.updateProviderInfo(f,Number(l))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,ae.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(Ph))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(Ph,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this.isLedger||this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(Lh,r.toString(10)),((0,ae.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,s,o?.toString()).promise).result}async addEthereumChain(e,r,n,i,s,o){var a,u;if((0,ae.ensureIntNumber)(e)===this.getChainId())return!1;const l=await this.initializeRelay(),f=l.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!f&&await l.requestEthereumAccounts().promise;const d=await l.addEthereumChain(e.toString(),r,s,n,i,o).promise;return((a=d.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],e),((u=d.result)===null||u===void 0?void 0:u.isApproved)===!0}async switchEthereumChain(e){const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if((0,jM.isErrorResponse)(n)&&n.errorCode)throw n.errorCode===_e.standardErrorCodes.provider.unsupportedChain?_e.standardErrors.provider.unsupportedChain(e):_e.standardErrors.provider.custom({message:n.errorMessage,code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(Iu.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?Oh.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0?[...this._addresses]:await this.send(ge.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){try{const n=this._send(e,r);if(n instanceof Promise)return n.catch(i=>{throw(0,_e.serializeError)(i,e)})}catch(n){throw(0,_e.serializeError)(n,e)}}_send(e,r){if(typeof e=="string"){const i=e,s=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof r=="function"){const i=e,s=r;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const n=e;return this._sendRequest(n)}async sendAsync(e,r){try{return this._sendAsync(e,r).catch(n=>{throw(0,_e.serializeError)(n,e)})}catch(n){return Promise.reject((0,_e.serializeError)(n,e))}}async _sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){try{return this._request(e).catch(r=>{throw(0,_e.serializeError)(r,e.method)})}catch(r){return Promise.reject((0,_e.serializeError)(r,e.method))}}async _request(e){if(!e||typeof e!="object"||Array.isArray(e))throw _e.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw _e.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw _e.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){var r;const i=await(await this.initializeRelay()).scanQRCode((0,ae.ensureRegExpString)(e)).promise;if(typeof i.result!="string")throw(0,_e.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",Au.Web3Method.scanQRCode);return i.result}async genericRequest(e,r){var n;const s=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof s.result!="string")throw(0,_e.serializeError)((n=s.errorMessage)!==null&&n!==void 0?n:"result was not a string",Au.Web3Method.generic);return s.result}async selectProvider(e){var r;const i=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof i.result!="string")throw(0,_e.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",Au.Web3Method.selectProvider);return i.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,ae.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses.length>0&&this.supportsAddressSwitching===!1&&!r||(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(Nh.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" "))))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>r(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>r({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case ge.JSONRPCMethod.eth_accounts:return this._eth_accounts();case ge.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case ge.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case ge.JSONRPCMethod.net_version:return this._net_version();case ge.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case ge.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case ge.JSONRPCMethod.eth_sign:return this._eth_sign(n);case ge.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case ge.JSONRPCMethod.personal_sign:return this._personal_sign(n);case ge.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case ge.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case ge.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case ge.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case ge.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case ge.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case ge.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case ge.JSONRPCMethod.eth_signTypedData_v4:case ge.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case ge.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case ge.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case ge.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case ge.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case ge.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case ge.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case ge.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case ge.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case ge.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case ge.JSONRPCMethod.eth_subscribe:case ge.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,ae.ensureAddressString)(e);return this._addresses.map(i=>(0,ae.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(Iu.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,ae.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,ae.ensureAddressString)(e.to):null,i=e.value!=null?(0,ae.ensureBN)(e.value):new DM.default(0),s=e.data?(0,ae.ensureBuffer)(e.data):Buffer.alloc(0),o=e.nonce!=null?(0,ae.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,ae.ensureBN)(e.gasPrice):null,u=e.maxFeePerGas!=null?(0,ae.ensureBN)(e.maxFeePerGas):null,l=e.maxPriorityFeePerGas!=null?(0,ae.ensureBN)(e.maxPriorityFeePerGas):null,f=e.gas!=null?(0,ae.ensureBN)(e.gas):null,d=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:u,maxPriorityFeePerGas:l,gasLimit:f,chainId:d}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw _e.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw _e.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise).result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?_e.standardErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,r,n){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,ae.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(Lh);if(!e)return(0,ae.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,ae.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(Iu.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?Oh.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?_e.standardErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isLedger||this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,ae.ensureAddressString)(e[0]),n=(0,ae.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,ae.ensureBuffer)(e[0]),n=(0,ae.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,ae.ensureBuffer)(e[0]),n=(0,ae.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,ae.ensureBuffer)(e[0]),n=(0,ae.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?_e.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,ae.ensureBuffer)(e[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?_e.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,ae.ensureParsedJSONObject)(e[0]),n=(0,ae.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=ku.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,ae.ensureAddressString)(e[0]),n=(0,ae.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=ku.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,ae.ensureAddressString)(e[0]),n=(0,ae.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=ku.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(e){var r,n,i,s;const o=e[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw _e.standardErrors.rpc.invalidParams("chainName is a required field");if(!o.nativeCurrency)throw _e.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw _e.standardErrors.rpc.invalidParams("Type is required");if(r?.type!=="ERC20")throw _e.standardErrors.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!r?.options)throw _e.standardErrors.rpc.invalidParams("Options are required");if(!r?.options.address)throw _e.standardErrors.rpc.invalidParams("Address is required");const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,s,a,o,n)}}_eth_uninstallFilter(e){const r=(0,ae.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const r=(0,ae.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,ae.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}hi.CoinbaseWalletProvider=WM;var fa={},ha={},Ns,ie,K0,X0,bn,$h,eg,sc,tg,li={},rg=[],HM=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,da=Array.isArray;function Sr(t,e){for(var r in e)t[r]=e[r];return t}function ng(t){var e=t.parentNode;e&&e.removeChild(t)}function oc(t,e,r){var n,i,s,o={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?Ns.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return ts(t,o,n,i,null)}function ts(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++K0};return i==null&&ie.vnode!=null&&ie.vnode(s),s}function UM(){return{current:null}}function Ls(t){return t.children}function rs(t,e){this.props=t,this.context=e}function So(t,e){if(e==null)return t.__?So(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?So(t):null}function ig(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return ig(t)}}function ac(t){(!t.__d&&(t.__d=!0)&&bn.push(t)&&!Eo.__r++||$h!==ie.debounceRendering)&&(($h=ie.debounceRendering)||eg)(Eo)}function Eo(){var t,e,r,n,i,s,o,a,u;for(bn.sort(sc);t=bn.shift();)t.__d&&(e=bn.length,n=void 0,i=void 0,s=void 0,a=(o=(r=t).__v).__e,(u=r.__P)&&(n=[],i=[],(s=Sr({},o)).__v=o.__v+1,pl(u,o,s,r.__n,u.ownerSVGElement!==void 0,o.__h!=null?[a]:null,n,a??So(o),o.__h,i),cg(n,o,i),o.__e!=a&&ig(o)),bn.length>e&&bn.sort(sc));Eo.__r=0}function sg(t,e,r,n,i,s,o,a,u,l,f){var d,g,w,M,T,O,I,L,P,R,N=0,D=n&&n.__k||rg,H=D.length,V=H,B=e.length;for(r.__k=[],d=0;d<B;d++)(M=r.__k[d]=(M=e[d])==null||typeof M=="boolean"||typeof M=="function"?null:typeof M=="string"||typeof M=="number"||typeof M=="bigint"?ts(null,M,null,null,M):da(M)?ts(Ls,{children:M},null,null,null):M.__b>0?ts(M.type,M.props,M.key,M.ref?M.ref:null,M.__v):M)!=null&&(M.__=r,M.__b=r.__b+1,(L=VM(M,D,I=d+N,V))===-1?w=li:(w=D[L]||li,D[L]=void 0,V--),pl(t,M,w,i,s,o,a,u,l,f),T=M.__e,(g=M.ref)&&w.ref!=g&&(w.ref&&gl(w.ref,null,M),f.push(g,M.__c||T,M)),T!=null&&(O==null&&(O=T),R=!(P=w===li||w.__v===null)&&L===I,P?L==-1&&N--:L!==I&&(L===I+1?(N++,R=!0):L>I?V>B-I?(N+=L-I,R=!0):N--:N=L<I&&L==I-1?L-I:0),I=d+N,R=R||L==d&&!P,typeof M.type!="function"||L===I&&w.__k!==M.__k?typeof M.type=="function"||R?M.__d!==void 0?(u=M.__d,M.__d=void 0):u=T.nextSibling:u=ug(t,T,u):u=og(M,u,t),typeof r.type=="function"&&(r.__d=u)));for(r.__e=O,d=H;d--;)D[d]!=null&&(typeof r.type=="function"&&D[d].__e!=null&&D[d].__e==r.__d&&(r.__d=D[d].__e.nextSibling),lg(D[d],D[d]))}function og(t,e,r){for(var n,i=t.__k,s=0;i&&s<i.length;s++)(n=i[s])&&(n.__=t,e=typeof n.type=="function"?og(n,e,r):ug(r,n.__e,e));return e}function ag(t,e){return e=e||[],t==null||typeof t=="boolean"||(da(t)?t.some(function(r){ag(r,e)}):e.push(t)),e}function ug(t,e,r){return r==null||r.parentNode!==t?t.insertBefore(e,null):e==r&&e.parentNode!=null||t.insertBefore(e,r),e.nextSibling}function VM(t,e,r,n){var i=t.key,s=t.type,o=r-1,a=r+1,u=e[r];if(u===null||u&&i==u.key&&s===u.type)return r;if(n>(u!=null?1:0))for(;o>=0||a<e.length;){if(o>=0){if((u=e[o])&&i==u.key&&s===u.type)return o;o--}if(a<e.length){if((u=e[a])&&i==u.key&&s===u.type)return a;a++}}return-1}function zM(t,e,r,n,i){var s;for(s in r)s==="children"||s==="key"||s in e||Mo(t,s,null,r[s],n);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||r[s]===e[s]||Mo(t,s,e[s],r[s],n)}function Dh(t,e,r){e[0]==="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||HM.test(e)?r:r+"px"}function Mo(t,e,r,n,i){var s;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||Dh(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||Dh(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n||t.addEventListener(e,s?Bh:jh,s):t.removeEventListener(e,s?Bh:jh,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,r))}}function jh(t){return this.l[t.type+!1](ie.event?ie.event(t):t)}function Bh(t){return this.l[t.type+!0](ie.event?ie.event(t):t)}function pl(t,e,r,n,i,s,o,a,u,l){var f,d,g,w,M,T,O,I,L,P,R,N,D,H,V,B=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(u=r.__h,a=e.__e=r.__e,e.__h=null,s=[a]),(f=ie.__b)&&f(e);try{e:if(typeof B=="function"){if(I=e.props,L=(f=B.contextType)&&n[f.__c],P=f?L?L.props.value:f.__:n,r.__c?O=(d=e.__c=r.__c).__=d.__E:("prototype"in B&&B.prototype.render?e.__c=d=new B(I,P):(e.__c=d=new rs(I,P),d.constructor=B,d.render=GM),L&&L.sub(d),d.props=I,d.state||(d.state={}),d.context=P,d.__n=n,g=d.__d=!0,d.__h=[],d._sb=[]),d.__s==null&&(d.__s=d.state),B.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=Sr({},d.__s)),Sr(d.__s,B.getDerivedStateFromProps(I,d.__s))),w=d.props,M=d.state,d.__v=e,g)B.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(B.getDerivedStateFromProps==null&&I!==w&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(I,P),!d.__e&&(d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(I,d.__s,P)===!1||e.__v===r.__v)){for(e.__v!==r.__v&&(d.props=I,d.state=d.__s,d.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(Q){Q&&(Q.__=e)}),R=0;R<d._sb.length;R++)d.__h.push(d._sb[R]);d._sb=[],d.__h.length&&o.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(I,d.__s,P),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(w,M,T)})}if(d.context=P,d.props=I,d.__P=t,d.__e=!1,N=ie.__r,D=0,"prototype"in B&&B.prototype.render){for(d.state=d.__s,d.__d=!1,N&&N(e),f=d.render(d.props,d.state,d.context),H=0;H<d._sb.length;H++)d.__h.push(d._sb[H]);d._sb=[]}else do d.__d=!1,N&&N(e),f=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++D<25);d.state=d.__s,d.getChildContext!=null&&(n=Sr(Sr({},n),d.getChildContext())),g||d.getSnapshotBeforeUpdate==null||(T=d.getSnapshotBeforeUpdate(w,M)),sg(t,da(V=f!=null&&f.type===Ls&&f.key==null?f.props.children:f)?V:[V],e,r,n,i,s,o,a,u,l),d.base=e.__e,e.__h=null,d.__h.length&&o.push(d),O&&(d.__E=d.__=null)}else s==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=qM(r.__e,e,r,n,i,s,o,u,l);(f=ie.diffed)&&f(e)}catch(Q){e.__v=null,(u||s!=null)&&(e.__e=a,e.__h=!!u,s[s.indexOf(a)]=null),ie.__e(Q,e,r)}}function cg(t,e,r){for(var n=0;n<r.length;n++)gl(r[n],r[++n],r[++n]);ie.__c&&ie.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){ie.__e(s,i.__v)}})}function qM(t,e,r,n,i,s,o,a,u){var l,f,d,g=r.props,w=e.props,M=e.type,T=0;if(M==="svg"&&(i=!0),s!=null){for(;T<s.length;T++)if((l=s[T])&&"setAttribute"in l==!!M&&(M?l.localName===M:l.nodeType===3)){t=l,s[T]=null;break}}if(t==null){if(M===null)return document.createTextNode(w);t=i?document.createElementNS("http://www.w3.org/2000/svg",M):document.createElement(M,w.is&&w),s=null,a=!1}if(M===null)g===w||a&&t.data===w||(t.data=w);else{if(s=s&&Ns.call(t.childNodes),f=(g=r.props||li).dangerouslySetInnerHTML,d=w.dangerouslySetInnerHTML,!a){if(s!=null)for(g={},T=0;T<t.attributes.length;T++)g[t.attributes[T].name]=t.attributes[T].value;(d||f)&&(d&&(f&&d.__html==f.__html||d.__html===t.innerHTML)||(t.innerHTML=d&&d.__html||""))}if(zM(t,w,g,i,a),d)e.__k=[];else if(sg(t,da(T=e.props.children)?T:[T],e,r,n,i&&M!=="foreignObject",s,o,s?s[0]:r.__k&&So(r,0),a,u),s!=null)for(T=s.length;T--;)s[T]!=null&&ng(s[T]);a||("value"in w&&(T=w.value)!==void 0&&(T!==t.value||M==="progress"&&!T||M==="option"&&T!==g.value)&&Mo(t,"value",T,g.value,!1),"checked"in w&&(T=w.checked)!==void 0&&T!==t.checked&&Mo(t,"checked",T,g.checked,!1))}return t}function gl(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){ie.__e(n,r)}}function lg(t,e,r){var n,i;if(ie.unmount&&ie.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||gl(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){ie.__e(s,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&lg(n[i],e,r||typeof t.type!="function");r||t.__e==null||ng(t.__e),t.__=t.__e=t.__d=void 0}function GM(t,e,r){return this.constructor(t,r)}function fg(t,e,r){var n,i,s,o;ie.__&&ie.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,s=[],o=[],pl(e,t=(!n&&r||e).__k=oc(Ls,null,[t]),i||li,li,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?Ns.call(e.childNodes):null,s,!n&&r?r:i?i.__e:e.firstChild,n,o),cg(s,t,o)}function hg(t,e){fg(t,e,hg)}function JM(t,e,r){var n,i,s,o,a=Sr({},t.props);for(s in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)s=="key"?n=e[s]:s=="ref"?i=e[s]:a[s]=e[s]===void 0&&o!==void 0?o[s]:e[s];return arguments.length>2&&(a.children=arguments.length>3?Ns.call(arguments,2):r),ts(t.type,a,n||t.key,i||t.ref,null)}function ZM(t,e){var r={__c:e="__cC"+tg++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(a){a.__e=!0,ac(a)})},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}Ns=rg.slice,ie={__e:function(t,e,r,n){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},K0=0,X0=function(t){return t!=null&&t.constructor===void 0},rs.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Sr({},this.state),typeof t=="function"&&(t=t(Sr({},r),this.props)),t&&Sr(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),ac(this))},rs.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ac(this))},rs.prototype.render=Ls,bn=[],eg=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,sc=function(t,e){return t.__v.__b-e.__v.__b},Eo.__r=0,tg=0;var QM=Object.freeze({__proto__:null,Component:rs,Fragment:Ls,cloneElement:JM,createContext:ZM,createElement:oc,createRef:UM,h:oc,hydrate:hg,get isValidElement(){return X0},get options(){return ie},render:fg,toChildArray:ag}),Nt=Ut(QM);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var uc=function(t,e){return uc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},uc(t,e)};function F(t,e){uc(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Si(t){return typeof t=="function"}var Fh=!1,Dt={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}Fh=t},get useDeprecatedSynchronousErrorHandling(){return Fh}};function ri(t){setTimeout(function(){throw t},0)}var xo={closed:!0,next:function(t){},error:function(t){if(Dt.useDeprecatedSynchronousErrorHandling)throw t;ri(t)},complete:function(){}},St=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function bl(t){return t!==null&&typeof t=="object"}var YM=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),ns=YM,Xe=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,s=r._unsubscribe,o=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var u=n[a];u.remove(this)}if(Si(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(d){e=d instanceof ns?Wh(d.errors):[d]}}if(St(o))for(var a=-1,l=o.length;++a<l;){var f=o[a];if(bl(f))try{f.unsubscribe()}catch(g){e=e||[],g instanceof ns?e=e.concat(Wh(g.errors)):e.push(g)}}if(e)throw new ns(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var s=this._subscriptions;return s===null?this._subscriptions=[r]:s.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function Wh(t){return t.reduce(function(e,r){return e.concat(r instanceof ns?r.errors:r)},[])}var Co=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),K=function(t){F(e,t);function e(r,n,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=xo;break;case 1:if(!r){s.destination=xo;break}if(typeof r=="object"){r instanceof e?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new Hh(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new Hh(s,r,n,i);break}return s}return e.prototype[Co]=function(){return this},e.create=function(r,n,i){var s=new e(r,n,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(Xe),Hh=function(t){F(e,t);function e(r,n,i,s){var o=t.call(this)||this;o._parentSubscriber=r;var a,u=o;return Si(n)?a=n:n&&(a=n.next,i=n.error,s=n.complete,n!==xo&&(u=Object.create(n),Si(u.unsubscribe)&&o.add(u.unsubscribe.bind(u)),u.unsubscribe=o.unsubscribe.bind(o))),o._context=u,o._next=a,o._error=i,o._complete=s,o}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!Dt.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=Dt.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):ri(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;ri(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!Dt.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),Dt.useDeprecatedSynchronousErrorHandling)throw i;ri(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!Dt.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(s){return Dt.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=s,r.syncErrorThrown=!0,!0):(ri(s),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(K);function vl(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof K?t=n:t=null}return!0}function KM(t,e,r){if(t){if(t instanceof K)return t;if(t[Co])return t[Co]()}return!t&&!e&&!r?new K(xo):new K(t,e,r)}var ji=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Wr(t){return t}function cc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return dg(t)}function dg(t){return t.length===0?Wr:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var ue=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,s=KM(e,r,n);if(i?s.add(i.call(s,this.source)):s.add(this.source||Dt.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),Dt.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){Dt.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),vl(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=Uh(r),new r(function(i,s){var o;o=n.subscribe(function(a){try{e(a)}catch(u){s(u),o&&o.unsubscribe()}},s,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[ji]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:dg(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=Uh(e),new e(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},t.create=function(e){return new t(e)},t}();function Uh(t){if(t||(t=Dt.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var XM=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),$r=XM,pg=function(t){F(e,t);function e(r,n){var i=t.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(Xe),gg=function(t){F(e,t);function e(r){var n=t.call(this,r)||this;return n.destination=r,n}return e}(K),ft=function(t){F(e,t);function e(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype[Co]=function(){return new gg(this)},e.prototype.lift=function(r){var n=new Vh(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new $r;if(!this.isStopped)for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].next(r)},e.prototype.error=function(r){if(this.closed)throw new $r;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new $r;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),s=0;s<n;s++)i[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new $r;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new $r;return this.hasError?(r.error(this.thrownError),Xe.EMPTY):this.isStopped?(r.complete(),Xe.EMPTY):(this.observers.push(r),new pg(this,r))},e.prototype.asObservable=function(){var r=new ue;return r.source=this,r},e.create=function(r,n){return new Vh(r,n)},e}(ue),Vh=function(t){F(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):Xe.EMPTY},e}(ft);function yl(){return function(e){return e.lift(new e5(e))}}var e5=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new t5(e,n),s=r.subscribe(i);return i.closed||(i.connection=n.connect()),s},t}(),t5=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,s=r._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}(K),bg=function(t){F(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new Xe,r.add(this.source.subscribe(new n5(this.getSubject(),this))),r.closed&&(this._connection=null,r=Xe.EMPTY)),r},e.prototype.refCount=function(){return yl()(this)},e}(ue),r5=function(){var t=bg.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),n5=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(gg);function i5(t,e,r,n){return function(i){return i.lift(new s5(t,e,r,n))}}var s5=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new o5(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),o5=function(t){F(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=s,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(n),o;if(this.elementSelector)try{o=this.elementSelector(r)}catch(l){this.error(l)}else o=r;if(!s){s=this.subjectSelector?this.subjectSelector():new ft,i.set(n,s);var a=new lc(n,s,this);if(this.destination.next(a),this.durationSelector){var u=void 0;try{u=this.durationSelector(new lc(n,s))}catch(l){this.error(l);return}this.add(u.subscribe(new a5(n,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,s){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(K),a5=function(t){F(e,t);function e(r,n,i){var s=t.call(this,n)||this;return s.key=r,s.group=n,s.parent=i,s}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(K),lc=function(t){F(e,t);function e(r,n,i){var s=t.call(this)||this;return s.key=r,s.groupSubject=n,s.refCountSubscription=i,s}return e.prototype._subscribe=function(r){var n=new Xe,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&n.add(new u5(s)),n.add(o.subscribe(r)),n},e}(ue),u5=function(t){F(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(Xe),vg=function(t){F(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new $r;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(ft),c5=function(t){F(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(Xe),Ps=function(t){F(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(s,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,s=void 0;try{this.work(r)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}(c5),l5=function(t){F(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(Ps),fc=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=function(){return Date.now()},t}(),$s=function(t){F(e,t);function e(r,n){n===void 0&&(n=fc.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(fc),f5=function(t){F(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}($s),yg=new f5(l5),mg=yg,Ei=new ue(function(t){return t.complete()});function Bi(t){return t?h5(t):Ei}function h5(t){return new ue(function(e){return t.schedule(function(){return e.complete()})})}function kt(t){return t&&typeof t.schedule=="function"}var _g=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function ml(t,e){return new ue(function(r){var n=new Xe,i=0;return n.add(e.schedule(function(){if(i===t.length){r.complete();return}r.next(t[i++]),r.closed||n.add(this.schedule())})),n})}function Ds(t,e){return e?ml(t,e):new ue(_g(t))}function pa(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return kt(r)?(t.pop(),ml(t,r)):Ds(t)}function _l(t,e){return e?new ue(function(r){return e.schedule(d5,0,{error:t,subscriber:r})}):new ue(function(r){return r.error(t)})}function d5(t){var e=t.error,r=t.subscriber;r.error(e)}var hc;hc||(hc={});var Er=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return pa(this.value);case"E":return _l(this.error);case"C":return Bi()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function p5(t,e){return e===void 0&&(e=0),function(n){return n.lift(new g5(t,e))}}var g5=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new wg(e,this.scheduler,this.delay))},t}(),wg=function(t){F(e,t);function e(r,n,i){i===void 0&&(i=0);var s=t.call(this,r)||this;return s.scheduler=n,s.delay=i,s}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new b5(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(Er.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(Er.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(Er.createComplete()),this.unsubscribe()},e}(K),b5=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),wl=function(t){F(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var s=t.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=r<1?1:r,s._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new v5(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,a;if(this.closed)throw new $r;if(this.isStopped||this.hasError?a=Xe.EMPTY:(this.observers.push(r),a=new pg(this,r)),s&&r.add(r=new wg(r,s)),n)for(var u=0;u<o&&!r.closed;u++)r.next(i[u]);else for(var u=0;u<o&&!r.closed;u++)r.next(i[u].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a},e.prototype._getNow=function(){return(this.scheduler||mg).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,a=0;a<o&&!(r-s[a].time<i);)a++;return o>n&&(a=Math.max(a,o-n)),a>0&&s.splice(0,a),s},e}(ft),v5=function(){function t(e,r){this.time=e,this.value=r}return t}(),Fi=function(t){F(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),Xe.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),Xe.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(ft),y5=1,m5=function(){return Promise.resolve()}(),dc={};function zh(t){return t in dc?(delete dc[t],!0):!1}var qh={setImmediate:function(t){var e=y5++;return dc[e]=!0,m5.then(function(){return zh(e)&&t()}),e},clearImmediate:function(t){zh(t)}},_5=function(t){F(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=qh.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(qh.clearImmediate(n),r.scheduled=void 0)},e}(Ps),w5=function(t){F(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}($s),Sg=new w5(_5),ao=Sg,Eg=new $s(Ps),Et=Eg,S5=function(t){F(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}(Ps),E5=function(t){F(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}($s),Mg=new E5(S5),M5=Mg,x5=function(t){F(e,t);function e(r,n){r===void 0&&(r=xg),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,s,o;(o=n[0])&&o.delay<=i&&(n.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=n.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}($s),xg=function(t){F(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var s=t.call(this,r,n)||this;return s.scheduler=r,s.work=n,s.index=i,s.active=!0,s.index=r.index=i,s}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var s=r.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(Ps);function ur(){}function C5(t){return!!t&&(t instanceof ue||typeof t.lift=="function"&&typeof t.subscribe=="function")}var R5=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),Mi=R5,I5=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),js=I5,A5=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),Cg=A5;function zt(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new k5(t,e))}}var k5=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new T5(e,this.project,this.thisArg))},t}(),T5=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.project=n,s.count=0,s.thisArg=i||s,s}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(K);function Rg(t,e,r){if(e)if(kt(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Rg(t,r).apply(void 0,n).pipe(zt(function(s){return St(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=this,o,a={context:s,subject:o,callbackFunc:t,scheduler:r};return new ue(function(u){if(r){var f={args:n,subscriber:u,params:a};return r.schedule(O5,0,f)}else{if(!o){o=new Fi;var l=function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];o.next(d.length<=1?d[0]:d),o.complete()};try{t.apply(s,n.concat([l]))}catch(d){vl(o)?o.error(d):console.warn(d)}}return o.subscribe(u)}})}}function O5(t){var e=this,r=t.args,n=t.subscriber,i=t.params,s=i.callbackFunc,o=i.context,a=i.scheduler,u=i.subject;if(!u){u=i.subject=new Fi;var l=function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];var g=f.length<=1?f[0]:f;e.add(a.schedule(N5,0,{value:g,subject:u}))};try{s.apply(o,r.concat([l]))}catch(f){u.error(f)}}this.add(u.subscribe(n))}function N5(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Ig(t,e,r){if(e)if(kt(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Ig(t,r).apply(void 0,n).pipe(zt(function(s){return St(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new ue(function(o){var a=s.context,u=s.subject;if(r)return r.schedule(L5,0,{params:s,subscriber:o,context:a});if(!u){u=s.subject=new Fi;var l=function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];var g=f.shift();if(g){u.error(g);return}u.next(f.length<=1?f[0]:f),u.complete()};try{t.apply(a,n.concat([l]))}catch(f){vl(u)?u.error(f):console.warn(f)}}return u.subscribe(o)})}}function L5(t){var e=this,r=t.params,n=t.subscriber,i=t.context,s=r.callbackFunc,o=r.args,a=r.scheduler,u=r.subject;if(!u){u=r.subject=new Fi;var l=function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];var g=f.shift();if(g)e.add(a.schedule(Gh,0,{err:g,subject:u}));else{var w=f.length<=1?f[0]:f;e.add(a.schedule(P5,0,{value:w,subject:u}))}};try{s.apply(i,o.concat([l]))}catch(f){this.add(a.schedule(Gh,0,{err:f,subject:u}))}}this.add(u.subscribe(n))}function P5(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Gh(t){var e=t.err,r=t.subject;r.error(e)}var Pn=function(t){F(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(K),$5=function(t){F(e,t);function e(r,n,i){var s=t.call(this)||this;return s.parent=r,s.outerValue=n,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(K),D5=function(t){return function(e){return t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,ri),e}};function j5(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Hr=j5(),B5=function(t){return function(e){var r=t[Hr]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},F5=function(t){return function(e){var r=t[ji]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},Ag=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function kg(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var us=function(t){if(t&&typeof t[ji]=="function")return F5(t);if(Ag(t))return _g(t);if(kg(t))return D5(t);if(t&&typeof t[Hr]=="function")return B5(t);var e=bl(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function xr(t,e,r,n,i){if(i===void 0&&(i=new $5(t,r,n)),!i.closed)return e instanceof ue?e.subscribe(i):us(e)(i)}var Jh={};function W5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return kt(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&St(t[0])&&(t=t[0]),Ds(t,n).lift(new Sl(r))}var Sl=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new H5(e,this.resultSelector))},t}(),H5=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push(Jh),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var s=r[i];this.add(xr(this,s,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var s=this.values,o=s[i],a=this.toRespond?o===Jh?--this.toRespond:this.toRespond:0;s[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Pn);function U5(t,e){return new ue(function(r){var n=new Xe;return n.add(e.schedule(function(){var i=t[ji]();n.add(i.subscribe({next:function(s){n.add(e.schedule(function(){return r.next(s)}))},error:function(s){n.add(e.schedule(function(){return r.error(s)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}function V5(t,e){return new ue(function(r){var n=new Xe;return n.add(e.schedule(function(){return t.then(function(i){n.add(e.schedule(function(){r.next(i),n.add(e.schedule(function(){return r.complete()}))}))},function(i){n.add(e.schedule(function(){return r.error(i)}))})})),n})}function z5(t,e){if(!t)throw new Error("Iterable cannot be null");return new ue(function(r){var n=new Xe,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=t[Hr](),n.add(e.schedule(function(){if(!r.closed){var s,o;try{var a=i.next();s=a.value,o=a.done}catch(u){r.error(u);return}o?r.complete():(r.next(s),this.schedule())}}))})),n})}function q5(t){return t&&typeof t[ji]=="function"}function G5(t){return t&&typeof t[Hr]=="function"}function Tg(t,e){if(t!=null){if(q5(t))return U5(t,e);if(kg(t))return V5(t,e);if(Ag(t))return ml(t,e);if(G5(t)||typeof t=="string")return z5(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function Rr(t,e){return e?Tg(t,e):t instanceof ue?t:new ue(us(t))}var et=function(t){F(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,n}return e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(K),tt=function(t){F(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(K);function rt(t,e){if(!e.closed){if(t instanceof ue)return t.subscribe(e);var r;try{r=us(t)(e)}catch(n){e.error(n)}return r}}function Mn(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(Mn(function(i,s){return Rr(t(i,s)).pipe(zt(function(o,a){return e(i,o,s,a)}))},r))}:(typeof e=="number"&&(r=e),function(n){return n.lift(new J5(t,r))})}var J5=function(){function t(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return t.prototype.call=function(e,r){return r.subscribe(new Z5(e,this.project,this.concurrent))},t}(),Z5=function(t){F(e,t);function e(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,r)||this;return s.project=n,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new et(this),i=this.destination;i.add(n);var s=rt(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(tt),Q5=Mn;function El(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),Mn(Wr,t)}function Og(){return El(1)}function cs(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Og()(pa.apply(void 0,t))}function Ml(t){return new ue(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?Rr(r):Bi();return n.subscribe(e)})}function Y5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(St(r))return Xs(r,null);if(bl(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return Xs(n.map(function(s){return r[s]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&St(t[0])?t[0]:t,Xs(t,null).pipe(zt(function(s){return i.apply(void 0,s)}))}return Xs(t,null)}function Xs(t,e){return new ue(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),s=0,o=0,a=function(l){var f=Rr(t[l]),d=!1;r.add(f.subscribe({next:function(g){d||(d=!0,o++),i[l]=g},error:function(g){return r.error(g)},complete:function(){s++,(s===n||!d)&&(o===n&&r.next(e?e.reduce(function(g,w,M){return g[w]=i[M],g},{}):i),r.complete())}}))},u=0;u<n;u++)a(u)})}function Ng(t,e,r,n){return Si(r)&&(n=r,r=void 0),n?Ng(t,e,r).pipe(zt(function(i){return St(i)?n.apply(void 0,i):n(i)})):new ue(function(i){function s(o){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(o)}Lg(t,e,s,i,r)})}function Lg(t,e,r,n,i){var s;if(ex(t)){var o=t;t.addEventListener(e,r,i),s=function(){return o.removeEventListener(e,r,i)}}else if(X5(t)){var a=t;t.on(e,r),s=function(){return a.off(e,r)}}else if(K5(t)){var u=t;t.addListener(e,r),s=function(){return u.removeListener(e,r)}}else if(t&&t.length)for(var l=0,f=t.length;l<f;l++)Lg(t[l],e,r,n,i);else throw new TypeError("Invalid event target");n.add(s)}function K5(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function X5(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function ex(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function Pg(t,e,r){return r?Pg(t,e).pipe(zt(function(n){return St(n)?r.apply(void 0,n):r(n)})):new ue(function(n){var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return n.next(o.length===1?o[0]:o)},s;try{s=t(i)}catch(o){n.error(o);return}if(Si(e))return function(){return e(i,s)}})}function tx(t,e,r,n,i){var s,o;if(arguments.length==1){var a=t;o=a.initialState,e=a.condition,r=a.iterate,s=a.resultSelector||Wr,i=a.scheduler}else n===void 0||kt(n)?(o=t,s=Wr,i=n):(o=t,s=n);return new ue(function(u){var l=o;if(i)return i.schedule(rx,0,{subscriber:u,iterate:r,condition:e,resultSelector:s,state:l});do{if(e){var f=void 0;try{f=e(l)}catch(g){u.error(g);return}if(!f){u.complete();break}}var d=void 0;try{d=s(l)}catch(g){u.error(g);return}if(u.next(d),u.closed)break;try{l=r(l)}catch(g){u.error(g);return}}while(!0)})}function rx(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(s){e.error(s);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(s){e.error(s);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function nx(t,e,r){return e===void 0&&(e=Ei),r===void 0&&(r=Ei),Ml(function(){return t()?e:r})}function xi(t){return!St(t)&&t-parseFloat(t)+1>=0}function ix(t,e){return t===void 0&&(t=0),e===void 0&&(e=Et),(!xi(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=Et),new ue(function(r){return r.add(e.schedule(sx,t,{subscriber:r,counter:0,period:t})),r})}function sx(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function $g(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return kt(i)?(n=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(r=t.pop())):typeof i=="number"&&(r=t.pop()),n===null&&t.length===1&&t[0]instanceof ue?t[0]:El(r)(Ds(t,n))}var Dg=new ue(ur);function ox(){return Dg}function pc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return Ei;var r=t[0],n=t.slice(1);return t.length===1&&St(r)?pc.apply(void 0,r):new ue(function(i){var s=function(){return i.add(pc.apply(void 0,n).subscribe(i))};return Rr(r).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function ax(t,e){return e?new ue(function(r){var n=Object.keys(t),i=new Xe;return i.add(e.schedule(ux,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new ue(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var s=n[i];t.hasOwnProperty(s)&&r.next([s,t[s]])}r.complete()})}function ux(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,s=t.obj;if(!n.closed)if(r<e.length){var o=e[r];n.next([o,s[o]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}function jg(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function Ur(t,e){return function(n){return n.lift(new cx(t,e))}}var cx=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new lx(e,this.predicate,this.thisArg))},t}(),lx=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(K);function fx(t,e,r){return[Ur(e,r)(new ue(us(t))),Ur(jg(e,r))(new ue(us(t)))]}function Bg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(St(t[0]))t=t[0];else return t[0];return Ds(t,void 0).lift(new hx)}var hx=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new dx(e))},t}(),dx=function(t){F(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var s=r[i],o=xr(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(n)},e}(Pn);function px(t,e,r){return t===void 0&&(t=0),new ue(function(n){e===void 0&&(e=t,t=0);var i=0,s=t;if(r)return r.schedule(gx,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}while(!0)})}function gx(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function Fg(t,e,r){t===void 0&&(t=0);var n=-1;return xi(e)?n=Number(e)<1&&1||Number(e):kt(e)&&(r=e),kt(r)||(r=Et),new ue(function(i){var s=xi(t)?t:+t-r.now();return r.schedule(bx,s,{index:0,period:n,subscriber:i})})}function bx(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,this.schedule(t,r)}}function vx(t,e){return new ue(function(r){var n;try{n=t()}catch(a){r.error(a);return}var i;try{i=e(n)}catch(a){r.error(a);return}var s=i?Rr(i):Ei,o=s.subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}})}function Wg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),Ds(t,void 0).lift(new Hg(r))}var Hg=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new yx(e,this.resultSelector))},t}(),yx=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.resultSelector=n,s.iterators=[],s.active=0,s.resultSelector=typeof n=="function"?n:void 0,s}return e.prototype._next=function(r){var n=this.iterators;St(r)?n.push(new _x(r)):typeof r[Hr]=="function"?n.push(new mx(r[Hr]())):n.push(new wx(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var s=r[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,s=0;s<n;s++){var o=r[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var a=!1,u=[],s=0;s<n;s++){var o=r[s],l=o.next();if(o.hasCompleted()&&(a=!0),l.done){i.complete();return}u.push(l.value)}this.resultSelector?this._tryresultSelector(u):i.next(u),a&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(K),mx=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},t}(),_x=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[Hr]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),wx=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.parent=n,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[Hr]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return rt(this.observable,new et(this))},e}(tt),Sx=Object.freeze({__proto__:null,ArgumentOutOfRangeError:Mi,AsyncSubject:Fi,BehaviorSubject:vg,ConnectableObservable:bg,EMPTY:Ei,EmptyError:js,GroupedObservable:lc,NEVER:Dg,Notification:Er,get NotificationKind(){return hc},ObjectUnsubscribedError:$r,Observable:ue,ReplaySubject:wl,Scheduler:fc,Subject:ft,Subscriber:K,Subscription:Xe,TimeoutError:Cg,UnsubscriptionError:ns,VirtualAction:xg,VirtualTimeScheduler:x5,animationFrame:M5,animationFrameScheduler:Mg,asap:ao,asapScheduler:Sg,async:Et,asyncScheduler:Eg,bindCallback:Rg,bindNodeCallback:Ig,combineLatest:W5,concat:cs,config:Dt,defer:Ml,empty:Bi,forkJoin:Y5,from:Rr,fromEvent:Ng,fromEventPattern:Pg,generate:tx,identity:Wr,iif:nx,interval:ix,isObservable:C5,merge:$g,never:ox,noop:ur,observable:ji,of:pa,onErrorResumeNext:pc,pairs:ax,partition:fx,pipe:cc,queue:mg,queueScheduler:yg,race:Bg,range:px,scheduled:Tg,throwError:_l,timer:Fg,using:vx,zip:Wg}),ga=Ut(Sx),ba={};function Ug(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=Ug(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function Zh(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=Ug(t))&&(n&&(n+=" "),n+=e);return n}var Ex=Object.freeze({__proto__:null,clsx:Zh,default:Zh}),va=Ut(Ex),Cr,we,Tu,Qh,Ci=0,Vg=[],uo=[],Yh=ie.__b,Kh=ie.__r,Xh=ie.diffed,ed=ie.__c,td=ie.unmount;function $n(t,e){ie.__h&&ie.__h(we,t,Ci||e),Ci=0;var r=we.__H||(we.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:uo}),r.__[t]}function zg(t){return Ci=1,qg(Jg,t)}function qg(t,e,r){var n=$n(Cr++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):Jg(void 0,e),function(a){var u=n.__N?n.__N[0]:n.__[0],l=n.t(u,a);u!==l&&(n.__N=[l,n.__[1]],n.__c.setState({}))}],n.__c=we,!we.u)){var i=function(a,u,l){if(!n.__c.__H)return!0;var f=n.__c.__H.__.filter(function(g){return g.__c});if(f.every(function(g){return!g.__N}))return!s||s.call(this,a,u,l);var d=!1;return f.forEach(function(g){if(g.__N){var w=g.__[0];g.__=g.__N,g.__N=void 0,w!==g.__[0]&&(d=!0)}}),!(!d&&n.__c.props===a)&&(!s||s.call(this,a,u,l))};we.u=!0;var s=we.shouldComponentUpdate,o=we.componentWillUpdate;we.componentWillUpdate=function(a,u,l){if(this.__e){var f=s;s=void 0,i(a,u,l),s=f}o&&o.call(this,a,u,l)},we.shouldComponentUpdate=i}return n.__N||n.__}function Mx(t,e){var r=$n(Cr++,3);!ie.__s&&Cl(r.__H,e)&&(r.__=t,r.i=e,we.__H.__h.push(r))}function Gg(t,e){var r=$n(Cr++,4);!ie.__s&&Cl(r.__H,e)&&(r.__=t,r.i=e,we.__h.push(r))}function xx(t){return Ci=5,xl(function(){return{current:t}},[])}function Cx(t,e,r){Ci=6,Gg(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function xl(t,e){var r=$n(Cr++,7);return Cl(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function Rx(t,e){return Ci=8,xl(function(){return t},e)}function Ix(t){var e=we.context[t.__c],r=$n(Cr++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(we)),e.props.value):t.__}function Ax(t,e){ie.useDebugValue&&ie.useDebugValue(e?e(t):t)}function kx(t){var e=$n(Cr++,10),r=zg();return e.__=t,we.componentDidCatch||(we.componentDidCatch=function(n,i){e.__&&e.__(n,i),r[1](n)}),[r[0],function(){r[1](void 0)}]}function Tx(){var t=$n(Cr++,11);if(!t.__){for(var e=we.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var r=e.__m||(e.__m=[0,0]);t.__="P"+r[0]+"-"+r[1]++}return t.__}function Ox(){for(var t;t=Vg.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(co),t.__H.__h.forEach(gc),t.__H.__h=[]}catch(e){t.__H.__h=[],ie.__e(e,t.__v)}}ie.__b=function(t){we=null,Yh&&Yh(t)},ie.__r=function(t){Kh&&Kh(t),Cr=0;var e=(we=t.__c).__H;e&&(Tu===we?(e.__h=[],we.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=uo,r.__N=r.i=void 0})):(e.__h.forEach(co),e.__h.forEach(gc),e.__h=[],Cr=0)),Tu=we},ie.diffed=function(t){Xh&&Xh(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Vg.push(e)!==1&&Qh===ie.requestAnimationFrame||((Qh=ie.requestAnimationFrame)||Nx)(Ox)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==uo&&(r.__=r.__V),r.i=void 0,r.__V=uo})),Tu=we=null},ie.__c=function(t,e){e.some(function(r){try{r.__h.forEach(co),r.__h=r.__h.filter(function(n){return!n.__||gc(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],ie.__e(n,r.__v)}}),ed&&ed(t,e)},ie.unmount=function(t){td&&td(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{co(n)}catch(i){e=i}}),r.__H=void 0,e&&ie.__e(e,r.__v))};var rd=typeof requestAnimationFrame=="function";function Nx(t){var e,r=function(){clearTimeout(n),rd&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);rd&&(e=requestAnimationFrame(r))}function co(t){var e=we,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),we=e}function gc(t){var e=we;t.__c=t.__(),we=e}function Cl(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function Jg(t,e){return typeof e=="function"?e(t):e}var Lx=Object.freeze({__proto__:null,useCallback:Rx,useContext:Ix,useDebugValue:Ax,useEffect:Mx,useErrorBoundary:kx,useId:Tx,useImperativeHandle:Cx,useLayoutEffect:Gg,useMemo:xl,useReducer:qg,useRef:xx,useState:zg}),Bs=Ut(Lx),pr={},ya={};Object.defineProperty(ya,"__esModule",{value:!0});ya.CloseIcon=void 0;const nd=Nt;function Px(t){return(0,nd.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,nd.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}ya.CloseIcon=Px;var Rl={};Object.defineProperty(Rl,"__esModule",{value:!0});Rl.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var Il={};Object.defineProperty(Il,"__esModule",{value:!0});Il.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var ma={};Object.defineProperty(ma,"__esModule",{value:!0});ma.QRCodeIcon=void 0;const sr=Nt;function $x(t){return(0,sr.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,sr.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,sr.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,sr.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,sr.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,sr.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,sr.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,sr.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,sr.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,sr.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}ma.QRCodeIcon=$x;var Al={};Object.defineProperty(Al,"__esModule",{value:!0});const Dx=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;Al.default=Dx;var kl={};Object.defineProperty(kl,"__esModule",{value:!0});kl.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var _a={};Object.defineProperty(_a,"__esModule",{value:!0});_a.StatusDotIcon=void 0;const id=Nt;function jx(t){return(0,id.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,id.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}_a.StatusDotIcon=jx;var wa={};function Zg(t){this.mode=It.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}Zg.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function gr(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}gr.prototype={addData:function(t){var e=new Zg(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=gr.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=Qe.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var u=a*i,l=this.modules[s][a];l&&(n.beginFill(0,100),n.moveTo(u,o),n.lineTo(u+i,o),n.lineTo(u+i,o+i),n.lineTo(u,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=Qe.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=Qe.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=Qe.getBCHTypeInfo(r),i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var u=!1;s<t.length&&(u=(t[s]>>>i&1)==1);var l=Qe.getMask(e,n,o-a);l&&(u=!u),this.modules[n][o-a]=u,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};gr.PAD0=236;gr.PAD1=17;gr.createData=function(t,e,r){for(var n=lr.getRSBlocks(t,e),i=new Qg,s=0;s<r.length;s++){var o=r[s];i.put(o.mode,4),i.put(o.getLength(),Qe.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<n.length;s++)a+=n[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(gr.PAD0,8),i.getLengthInBits()>=a*8));)i.put(gr.PAD1,8);return gr.createBytes(i,n)};gr.createBytes=function(t,e){for(var r=0,n=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var u=e[a].dataCount,l=e[a].totalCount-u;n=Math.max(n,u),i=Math.max(i,l),s[a]=new Array(u);for(var f=0;f<s[a].length;f++)s[a][f]=255&t.buffer[f+r];r+=u;var d=Qe.getErrorCorrectPolynomial(l),g=new fi(s[a],d.getLength()-1),w=g.mod(d);o[a]=new Array(d.getLength()-1);for(var f=0;f<o[a].length;f++){var M=f+w.getLength()-o[a].length;o[a][f]=M>=0?w.get(M):0}}for(var T=0,f=0;f<e.length;f++)T+=e[f].totalCount;for(var O=new Array(T),I=0,f=0;f<n;f++)for(var a=0;a<e.length;a++)f<s[a].length&&(O[I++]=s[a][f]);for(var f=0;f<i;f++)for(var a=0;a<e.length;a++)f<o[a].length&&(O[I++]=o[a][f]);return O};var It={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},jr={L:1,M:0,Q:3,H:2},Ar={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Qe={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(t){for(var e=t<<10;Qe.getBCHDigit(e)-Qe.getBCHDigit(Qe.G15)>=0;)e^=Qe.G15<<Qe.getBCHDigit(e)-Qe.getBCHDigit(Qe.G15);return(t<<10|e)^Qe.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;Qe.getBCHDigit(e)-Qe.getBCHDigit(Qe.G18)>=0;)e^=Qe.G18<<Qe.getBCHDigit(e)-Qe.getBCHDigit(Qe.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return Qe.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case Ar.PATTERN000:return(e+r)%2==0;case Ar.PATTERN001:return e%2==0;case Ar.PATTERN010:return r%3==0;case Ar.PATTERN011:return(e+r)%3==0;case Ar.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case Ar.PATTERN101:return e*r%2+e*r%3==0;case Ar.PATTERN110:return(e*r%2+e*r%3)%2==0;case Ar.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new fi([1],0),r=0;r<t;r++)e=e.multiply(new fi([1,lt.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case It.MODE_NUMBER:return 10;case It.MODE_ALPHA_NUM:return 9;case It.MODE_8BIT_BYTE:return 8;case It.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case It.MODE_NUMBER:return 12;case It.MODE_ALPHA_NUM:return 11;case It.MODE_8BIT_BYTE:return 16;case It.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case It.MODE_NUMBER:return 14;case It.MODE_ALPHA_NUM:return 13;case It.MODE_8BIT_BYTE:return 16;case It.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var u=-1;u<=1;u++)i+u<0||e<=i+u||a==0&&u==0||o==t.isDark(n+a,i+u)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var l=0;t.isDark(n,i)&&l++,t.isDark(n+1,i)&&l++,t.isDark(n,i+1)&&l++,t.isDark(n+1,i+1)&&l++,(l==0||l==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var f=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&f++;var d=Math.abs(100*f/e/e-50)/5;return r+=d*10,r}},lt={glog:function(t){if(t<1)throw new Error("glog("+t+")");return lt.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return lt.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var dt=0;dt<8;dt++)lt.EXP_TABLE[dt]=1<<dt;for(var dt=8;dt<256;dt++)lt.EXP_TABLE[dt]=lt.EXP_TABLE[dt-4]^lt.EXP_TABLE[dt-5]^lt.EXP_TABLE[dt-6]^lt.EXP_TABLE[dt-8];for(var dt=0;dt<255;dt++)lt.LOG_TABLE[lt.EXP_TABLE[dt]]=dt;function fi(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}fi.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=lt.gexp(lt.glog(this.get(r))+lt.glog(t.get(n)));return new fi(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=lt.glog(this.get(0))-lt.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=lt.gexp(lt.glog(t.get(n))+e);return new fi(r,0).mod(t)}};function lr(t,e){this.totalCount=t,this.dataCount=e}lr.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];lr.getRSBlocks=function(t,e){var r=lr.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[s*3+0],a=r[s*3+1],u=r[s*3+2],l=0;l<o;l++)i.push(new lr(a,u));return i};lr.getRsBlockTable=function(t,e){switch(e){case jr.L:return lr.RS_BLOCK_TABLE[(t-1)*4+0];case jr.M:return lr.RS_BLOCK_TABLE[(t-1)*4+1];case jr.Q:return lr.RS_BLOCK_TABLE[(t-1)*4+2];case jr.H:return lr.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function Qg(){this.buffer=[],this.length=0}Qg.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Ou=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function Yg(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(u){switch(u){case"L":return jr.L;case"M":return jr.M;case"Q":return jr.Q;case"H":return jr.H;default:throw new Error("Unknwon error correction level: "+u)}}function n(u,l){for(var f=i(u),d=1,g=0,w=0,M=Ou.length;w<=M;w++){var T=Ou[w];if(!T)throw new Error("Content too long: expected "+g+" but got "+f);switch(l){case"L":g=T[0];break;case"M":g=T[1];break;case"Q":g=T[2];break;case"H":g=T[3];break;default:throw new Error("Unknwon error correction level: "+l)}if(f<=g)break;d++}if(d>Ou.length)throw new Error("Content too long");return d}function i(u){var l=encodeURI(u).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return l.length+(l.length!=u?3:0)}var s=this.options.content,o=n(s,this.options.ecl),a=r(this.options.ecl);this.qrcode=new gr(o,a),this.qrcode.addData(s),this.qrcode.make()}Yg.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=e.width,a=e.height,u=r.length,l=o/(u+2*e.padding),f=a/(u+2*e.padding),d=typeof e.join<"u"?!!e.join:!1,g=typeof e.swap<"u"?!!e.swap:!1,w=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,M=typeof e.predefined<"u"?!!e.predefined:!1,T=M?i+'<defs><path id="qrmodule" d="M0 0 h'+f+" v"+l+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",O=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,I="",L="",P=0;P<u;P++)for(var R=0;R<u;R++){var N=r[R][P];if(N){var D=R*l+e.padding*l,H=P*f+e.padding*f;if(g){var V=D;D=H,H=V}if(d){var B=l+D,Q=f+H;D=Number.isInteger(D)?Number(D):D.toFixed(2),H=Number.isInteger(H)?Number(H):H.toFixed(2),B=Number.isInteger(B)?Number(B):B.toFixed(2),Q=Number.isInteger(Q)?Number(Q):Q.toFixed(2),L+="M"+D+","+H+" V"+Q+" H"+B+" V"+H+" H"+D+" Z "}else M?I+=i+'<use x="'+D.toString()+'" y="'+H.toString()+'" href="#qrmodule" />'+s:I+=i+'<rect x="'+D.toString()+'" y="'+H.toString()+'" width="'+l+'" height="'+f+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}d&&(I=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+L+'" />');let Z="";if(this.options.image!==void 0&&this.options.image.svg){const v=o*this.options.image.width/100,c=a*this.options.image.height/100,p=o/2-v/2,b=a/2-c/2;Z+=`<svg x="${p}" y="${b}" width="${v}" height="${c}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,Z+=this.options.image.svg+s,Z+="</svg>"}var X="";switch(t.container){case"svg":w&&(X+='<?xml version="1.0" standalone="yes"?>'+s),X+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,X+=T+O+I,X+=Z,X+="</svg>";break;case"svg-viewbox":w&&(X+='<?xml version="1.0" standalone="yes"?>'+s),X+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,X+=T+O+I,X+=Z,X+="</svg>";break;case"g":X+='<g width="'+o+'" height="'+a+'">'+s,X+=T+O+I,X+=Z,X+="</g>";break;default:X+=(T+O+I+Z).replace(/^\s+/,"");break}return X};var Bx=Yg,Fx=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wa,"__esModule",{value:!0});wa.QRCode=void 0;const Wx=Nt,sd=Bs,Hx=Fx(Bx),Ux=t=>{const[e,r]=(0,sd.useState)("");return(0,sd.useEffect)(()=>{var n,i;const s=new Hx.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=Buffer.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)}),e?(0,Wx.h)("img",{src:e,alt:"QR Code"}):null};wa.QRCode=Ux;var Sa={},Tl={};Object.defineProperty(Tl,"__esModule",{value:!0});Tl.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var Vx=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sa,"__esModule",{value:!0});Sa.Spinner=void 0;const eo=Nt,zx=Vx(Tl),qx=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,eo.h)("div",{class:"-cbwsdk-spinner"},(0,eo.h)("style",null,zx.default),(0,eo.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,eo.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};Sa.Spinner=qx;var Ol={};Object.defineProperty(Ol,"__esModule",{value:!0});Ol.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var Wi=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pr,"__esModule",{value:!0});pr.CoinbaseAppSteps=pr.CoinbaseWalletSteps=pr.ConnectItem=pr.ConnectContent=void 0;const Bt=Wi(va),te=Nt,od=Bs,Gx=Y,Jx=ds,Zx=ya,Qx=Wi(Rl),Yx=Wi(Il),Kg=ma,Kx=Wi(Al),Xx=Wi(kl),eC=_a,tC=wa,rC=Sa,nC=Wi(Ol),ad={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:Yx.default,steps:eb},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:Qx.default,steps:tb}},iC=t=>{switch(t){case"coinbase-app":return Kx.default;case"coinbase-wallet-app":default:return Xx.default}},bc=t=>t==="light"?"#FFFFFF":"#0A0B0D";function sC(t){const{theme:e}=t,[r,n]=(0,od.useState)("coinbase-wallet-app"),i=(0,od.useCallback)(l=>{n(l)},[]),s=(0,Gx.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),o=ad[r];if(!r)return null;const a=o.steps,u=r==="coinbase-app";return(0,te.h)("div",{"data-testid":"connect-content",class:(0,Bt.default)("-cbwsdk-connect-content",e)},(0,te.h)("style",null,nC.default),(0,te.h)("div",{class:"-cbwsdk-connect-content-header"},(0,te.h)("h2",{class:(0,Bt.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with one of our mobile apps"),t.onCancel&&(0,te.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:t.onCancel},(0,te.h)(Zx.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,te.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,te.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,te.h)("div",null,Object.entries(ad).map(([l,f])=>(0,te.h)(Xg,{key:l,title:f.title,description:f.description,icon:f.icon,selected:r===l,onClick:()=>i(l),theme:e}))),u&&(0,te.h)("div",{class:(0,Bt.default)("-cbwsdk-connect-content-update-app",e)},"Don\u2019t see a ",(0,te.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,te.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,te.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,te.h)(tC.QRCode,{content:s,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:iC(r),width:25,height:25}}),(0,te.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:Jx.LIB_VERSION}),(0,te.h)("input",{type:"hidden",value:s})),(0,te.h)(a,{theme:e}),!t.isConnected&&(0,te.h)("div",{"data-testid":"connecting-spinner",class:(0,Bt.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,te.h)(rC.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,te.h)("p",null,"Connecting...")))))}pr.ConnectContent=sC;function Xg({title:t,description:e,icon:r,selected:n,theme:i,onClick:s}){return(0,te.h)("div",{onClick:s,class:(0,Bt.default)("-cbwsdk-connect-item",i,{selected:n})},(0,te.h)("div",null,(0,te.h)("img",{src:r,alt:t})),(0,te.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,te.h)("h3",{class:"-cbwsdk-connect-item-title"},t),(0,te.h)("p",{class:"-cbwsdk-connect-item-description"},e)))}pr.ConnectItem=Xg;function eb({theme:t}){return(0,te.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,te.h)("li",{class:(0,Bt.default)("-cbwsdk-wallet-steps-item",t)},(0,te.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,te.h)("li",{class:(0,Bt.default)("-cbwsdk-wallet-steps-item",t)},(0,te.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,te.h)("span",null,"Tap ",(0,te.h)("strong",null,"Scan")," "),(0,te.h)("span",{class:(0,Bt.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,te.h)(Kg.QRCodeIcon,{fill:bc(t)})))))}pr.CoinbaseWalletSteps=eb;function tb({theme:t}){return(0,te.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,te.h)("li",{class:(0,Bt.default)("-cbwsdk-wallet-steps-item",t)},(0,te.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,te.h)("li",{class:(0,Bt.default)("-cbwsdk-wallet-steps-item",t)},(0,te.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,te.h)("span",null,"Tap ",(0,te.h)("strong",null,"More")),(0,te.h)("span",{class:(0,Bt.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,te.h)(eC.StatusDotIcon,{fill:bc(t)})),(0,te.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,te.h)("strong",null,"Scan")),(0,te.h)("span",{class:(0,Bt.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,te.h)(Kg.QRCodeIcon,{fill:bc(t)})))))}pr.CoinbaseAppSteps=tb;var Ea={},Ma={};Object.defineProperty(Ma,"__esModule",{value:!0});Ma.ArrowLeftIcon=void 0;const ud=Nt;function oC(t){return(0,ud.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,ud.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}Ma.ArrowLeftIcon=oC;var xa={};Object.defineProperty(xa,"__esModule",{value:!0});xa.LaptopIcon=void 0;const Nu=Nt;function aC(t){return(0,Nu.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,Nu.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,Nu.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}xa.LaptopIcon=aC;var Ca={};Object.defineProperty(Ca,"__esModule",{value:!0});Ca.SafeIcon=void 0;const cd=Nt;function uC(t){return(0,cd.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,cd.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}Ca.SafeIcon=uC;var Nl={};Object.defineProperty(Nl,"__esModule",{value:!0});Nl.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var rb=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ea,"__esModule",{value:!0});Ea.TryExtensionContent=void 0;const cn=rb(va),it=Nt,Lu=Bs,cC=Ma,lC=xa,fC=Ca,hC=rb(Nl);function dC({theme:t}){const[e,r]=(0,Lu.useState)(!1),n=(0,Lu.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,Lu.useCallback)(()=>{e?window.location.reload():(n(),r(!0))},[n,e]);return(0,it.h)("div",{class:(0,cn.default)("-cbwsdk-try-extension",t)},(0,it.h)("style",null,hC.default),(0,it.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,it.h)("h3",{class:(0,cn.default)("-cbwsdk-try-extension-heading",t)},"Or try the Coinbase Wallet browser extension"),(0,it.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,it.h)("button",{class:(0,cn.default)("-cbwsdk-try-extension-cta",t),onClick:i},e?"Refresh":"Install"),(0,it.h)("div",null,!e&&(0,it.h)(cC.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:t==="light"?"#0052FF":"#588AF5"})))),(0,it.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,it.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,it.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,it.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,it.h)("span",{class:(0,cn.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,it.h)(lC.LaptopIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,it.h)("div",{class:(0,cn.default)("-cbwsdk-try-extension-list-item-copy",t)},"Connect with dapps with just one click on your desktop browser")),(0,it.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,it.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,it.h)("span",{class:(0,cn.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,it.h)(fC.SafeIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,it.h)("div",{class:(0,cn.default)("-cbwsdk-try-extension-list-item-copy",t)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}Ea.TryExtensionContent=dC;var Ll={};Object.defineProperty(Ll,"__esModule",{value:!0});Ll.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var nb=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ba,"__esModule",{value:!0});ba.ConnectDialog=void 0;const Pu=nb(va),ln=Nt,$u=Bs,pC=pr,gC=Ea,bC=nb(Ll),vC=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,$u.useState)(!e),[s,o]=(0,$u.useState)(!e);(0,$u.useEffect)(()=>{const u=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):u.push(window.setTimeout(()=>{i(!0)},360)),()=>{u.forEach(window.clearTimeout)}},[t.isOpen]);const a=r?"dark":"light";return(0,ln.h)("div",{class:(0,Pu.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,ln.h)("style",null,bC.default),(0,ln.h)("div",{class:(0,Pu.default)("-cbwsdk-connect-dialog-backdrop",a,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,ln.h)("div",{class:"-cbwsdk-connect-dialog"},(0,ln.h)("div",{class:(0,Pu.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},t.connectDisabled?null:(0,ln.h)(pC.ConnectContent,{theme:a,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId,onCancel:t.onCancel}),(0,ln.h)(gC.TryExtensionContent,{theme:a}))))};ba.ConnectDialog=vC;Object.defineProperty(ha,"__esModule",{value:!0});ha.LinkFlow=void 0;const Du=Nt,ld=ga,yC=ba;class mC{constructor(e){this.extensionUI$=new ld.BehaviorSubject({}),this.subscriptions=new ld.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var e;this.root&&(this.subscriptions.unsubscribe(),(0,Du.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{this.root&&(0,Du.render)((0,Du.h)(yC.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}ha.LinkFlow=mC;var ib={},Pl={};Object.defineProperty(Pl,"__esModule",{value:!0});Pl.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=J&&J.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(va),n=Nt,i=Bs,s=e(Pl),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function a(d){switch(d){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class u{constructor(g){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=g.darkMode}attach(g){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",g.appendChild(this.root),this.render()}presentItem(g){const w=this.nextItemKey++;return this.items.set(w,g),this.render(),()=>{this.items.delete(w),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([g,w])=>(0,n.h)(t.SnackbarInstance,Object.assign({},w,{key:g}))))),this.root)}}t.Snackbar=u;const l=d=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},d.children));t.SnackbarContainer=l;const f=({autoExpand:d,message:g,menuItems:w,appSrc:M})=>{const[T,O]=(0,i.useState)(!0),[I,L]=(0,i.useState)(d??!1);(0,i.useEffect)(()=>{const R=[window.setTimeout(()=>{O(!1)},1),window.setTimeout(()=>{L(!0)},1e4)];return()=>{R.forEach(window.clearTimeout)}});const P=()=>{L(!I)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",T&&"-cbwsdk-snackbar-instance-hidden",I&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:P},(0,n.h)("img",{src:a(M),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},g),(0,n.h)("div",{class:"-gear-container"},!I&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:o,class:"-gear-icon",title:"Expand"}))),w&&w.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},w.map((R,N)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",R.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:R.onClick,key:N},(0,n.h)("svg",{width:R.svgWidth,height:R.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":R.defaultFillRule,"clip-rule":R.defaultClipRule,d:R.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",R.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},R.info)))))};t.SnackbarInstance=f})(ib);var Ra={},$l={};Object.defineProperty($l,"__esModule",{value:!0});$l.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var _C=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ra,"__esModule",{value:!0});Ra.injectCssReset=void 0;const wC=_C($l);function SC(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(wC.default)),document.documentElement.appendChild(t)}Ra.injectCssReset=SC;Object.defineProperty(fa,"__esModule",{value:!0});fa.WalletSDKUI=void 0;const EC=ha,MC=ib,xC=Ra;class CC{constructor(e){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new MC.Snackbar({darkMode:e.darkMode}),this.linkFlow=new EC.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,xC.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}setAppSrc(e){this.appSrc=e}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}fa.WalletSDKUI=CC;var Ia={},Aa={};Object.defineProperty(Aa,"__esModule",{value:!0});var ni;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(ni||(ni={}));function sb(t,e,r){if(!r||typeof r.value!==ni.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:ni.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:ni.boolTrue,writable:ni.boolTrue}),n}}}Aa.bind=sb;Aa.default=sb;function ob(t){return function(r){return r.lift(new RC(t))}}var RC=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new IC(e,this.durationSelector))},t}(),IC=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(o){return this.destination.error(o)}var s=rt(n,new et(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,s=r.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(tt);function AC(t,e){return e===void 0&&(e=Et),ob(function(){return Fg(t,e)})}function kC(t){return function(r){return r.lift(new TC(t))}}var TC=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new OC(e,this.closingNotifier))},t}(),OC=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(rt(n,new et(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(tt);function NC(t,e){return e===void 0&&(e=null),function(n){return n.lift(new LC(t,e))}}var LC=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=PC:this.subscriberClass=$C}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),PC=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}(K),$C=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.bufferSize=n,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(r){var n=this,i=n.bufferSize,s=n.startBufferEvery,o=n.buffers,a=n.count;this.count++,a%s===0&&o.push([]);for(var u=o.length;u--;){var l=o[u];l.push(r),l.length===i&&(o.splice(u,1),this.destination.next(l))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var s=n.shift();s.length>0&&i.next(s)}t.prototype._complete.call(this)},e}(K);function DC(t){var e=arguments.length,r=Et;kt(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(o){return o.lift(new jC(t,n,i,r))}}var jC=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new FC(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),BC=function(){function t(){this.buffer=[]}return t}(),FC=function(t){F(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=s,a.scheduler=o,a.contexts=[];var u=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var l={subscriber:a,context:u,bufferTimeSpan:n};a.add(u.closeAction=o.schedule(fd,n,l))}else{var f={subscriber:a,context:u},d={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:o};a.add(u.closeAction=o.schedule(ab,n,f)),a.add(o.schedule(WC,i,d))}return a}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s,o=0;o<i;o++){var a=n[o],u=a.buffer;u.push(r),u.length==this.maxBufferSize&&(s=a)}s&&this.onBufferFull(s)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var s=n.shift();i.next(s.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(fd,i,s))}},e.prototype.openContext=function(){var r=new BC;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}(K);function fd(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function WC(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,s=n.openContext(),o=this;n.closed||(n.add(s.closeAction=i.schedule(ab,r,{subscriber:n,context:s})),o.schedule(t,e))}function ab(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function HC(t,e){return function(n){return n.lift(new UC(t,e))}}var UC=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new VC(e,this.openings,this.closingSelector))},t}(),VC=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.closingSelector=i,s.contexts=[],s.add(xr(s,n)),s}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s=0;s<i;s++)n[s].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,s=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],s=new Xe,o={buffer:i,subscription:s};n.push(o);var a=xr(this,r,o);!a||a.closed?this.closeBuffer(o):(a.context=o,this.add(a),s.add(a))},e}(Pn);function zC(t){return function(e){return e.lift(new qC(t))}}var qC=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new GC(e,this.closingSelector))},t}(),GC=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}r=new Xe,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(rt(i,new et(this))),this.subscribing=!1},e}(tt);function JC(t){return function(r){var n=new ZC(t),i=r.lift(n);return n.caught=i}}var ZC=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new QC(e,this.selector,this.caught))},t}(),QC=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.selector=n,s.caught=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(o){t.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new et(this);this.add(i);var s=rt(n,i);s!==i&&this.add(s)}},e}(tt);function YC(t){return function(e){return e.lift(new Sl(t))}}function KC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&St(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(Rr([n].concat(t)),new Sl(r))}}function XC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(cs.apply(void 0,[r].concat(t)))}}function ub(t,e){return Mn(t,e,1)}function eR(t,e){return ub(function(){return t},e)}function tR(t){return function(e){return e.lift(new rR(t,e))}}var rR=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new nR(e,this.predicate,this.source))},t}(),nR=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(K);function iR(t){return function(e){return e.lift(new sR(t))}}var sR=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new oR(e,this.durationSelector))},t}(),oR=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=rt(n,new et(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(tt);function aR(t,e){return e===void 0&&(e=Et),function(r){return r.lift(new uR(t,e))}}var uR=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new cR(e,this.dueTime,this.scheduler))},t}(),cR=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dueTime=n,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(lR,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}(K);function lR(t){t.debouncedNext()}function Fs(t){return t===void 0&&(t=null),function(e){return e.lift(new fR(t))}}var fR=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new hR(e,this.defaultValue))},t}(),hR=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(K);function cb(t){return t instanceof Date&&!isNaN(+t)}function dR(t,e){e===void 0&&(e=Et);var r=cb(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new pR(n,e))}}var pR=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new gR(e,this.delay,this.scheduler))},t}(),gR=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.delay=n,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(r){for(var n=r.source,i=n.queue,s=r.scheduler,o=r.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var a=Math.max(0,i[0].time-s.now());this.schedule(r,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new bR(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(Er.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(Er.createComplete()),this.unsubscribe()},e}(K),bR=function(){function t(e,r){this.time=e,this.notification=r}return t}();function vR(t,e){return e?function(r){return new mR(r,e).lift(new hd(t))}:function(r){return r.lift(new hd(t))}}var hd=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new yR(e,this.delayDurationSelector))},t}(),yR=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(r),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=xr(this,r,n);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(Pn),mR=function(t){F(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new _R(r,this.source))},e}(ue),_R=function(t){F(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(K);function wR(){return function(e){return e.lift(new SR)}}var SR=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new ER(e))},t}(),ER=function(t){F(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}(K);function MR(t,e){return function(r){return r.lift(new xR(t,e))}}var xR=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new CR(e,this.keySelector,this.flushes))},t}(),CR=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=n,s.values=new Set,i&&s.add(rt(i,new et(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(s){i.error(s);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(tt);function lb(t,e){return function(r){return r.lift(new RR(t,e))}}var RR=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new IR(e,this.compare,this.keySelector))},t}(),IR=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=i,s.hasKey=!1,typeof n=="function"&&(s.compare=n),s}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(a){return this.destination.error(a)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=n,this.destination.next(r))},e}(K);function AR(t,e){return lb(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function ka(t){return t===void 0&&(t=OR),function(e){return e.lift(new kR(t))}}var kR=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new TR(e,this.errorFactory))},t}(),TR=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(K);function OR(){return new js}function Dl(t){return function(e){return t===0?Bi():e.lift(new NR(t))}}var NR=function(){function t(e){if(this.total=e,this.total<0)throw new Mi}return t.prototype.call=function(e,r){return r.subscribe(new LR(e,this.total))},t}(),LR=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(K);function PR(t,e){if(t<0)throw new Mi;var r=arguments.length>=2;return function(n){return n.pipe(Ur(function(i,s){return s===t}),Dl(1),r?Fs(e):ka(function(){return new Mi}))}}function $R(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return cs(r,pa.apply(void 0,t))}}function DR(t,e){return function(r){return r.lift(new jR(t,e,r))}}var jR=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new BR(e,this.predicate,this.thisArg,this.source))},t}(),BR=function(t){F(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(K);function FR(){return function(t){return t.lift(new WR)}}var WR=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new HR(e))},t}(),HR=function(t){F(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(rt(r,new et(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(tt);function fb(t,e){return e?function(r){return r.pipe(fb(function(n,i){return Rr(t(n,i)).pipe(zt(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new UR(t))}}var UR=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new VR(e,this.project))},t}(),VR=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new et(this),i=this.destination;i.add(n);var s=rt(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(tt);function zR(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new qR(t,e,r))}}var qR=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new GR(e,this.project,this.concurrent,this.scheduler))},t}(),GR=function(t){F(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return e.dispatch=function(r){var n=r.subscriber,i=r.result,s=r.value,o=r.index;n.subscribeToProjection(i,s,o)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var s=this.project,o=s(r,i);if(!this.scheduler)this.subscribeToProjection(o,r,i);else{var a={subscriber:this,result:o,value:r,index:i},u=this.destination;u.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(l){n.error(l)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var s=this.destination;s.add(rt(r,new et(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(tt);function JR(t){return function(e){return e.lift(new ZR(t))}}var ZR=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new QR(e,this.callback))},t}(),QR=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new Xe(n)),i}return e}(K);function YR(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new hb(t,r,!1,e))}}var hb=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new KR(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),KR=function(t){F(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.predicate=n,a.source=i,a.yieldIndex=s,a.thisArg=o,a.index=0,a}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,s=n.thisArg,o=this.index++;try{var a=i.call(s||this,r,o,this.source);a&&this.notifyComplete(this.yieldIndex?o:r)}catch(u){this.destination.error(u)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(K);function XR(t,e){return function(r){return r.lift(new hb(t,r,!0,e))}}function e6(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Ur(function(i,s){return t(i,s,n)}):Wr,Dl(1),r?Fs(e):ka(function(){return new js}))}}function t6(){return function(e){return e.lift(new r6)}}var r6=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new n6(e))},t}(),n6=function(t){F(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}(K);function i6(){return function(t){return t.lift(new s6)}}var s6=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new o6(e))},t}(),o6=function(t){F(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(K);function Ro(t){return function(r){return t===0?Bi():r.lift(new a6(t))}}var a6=function(){function t(e){if(this.total=e,this.total<0)throw new Mi}return t.prototype.call=function(e,r){return r.subscribe(new u6(e,this.total))},t}(),u6=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,s=this.count++;if(n.length<i)n.push(r);else{var o=s%i;n[o]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var a=n++%i;r.next(s[a])}r.complete()},e}(K);function c6(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Ur(function(i,s){return t(i,s,n)}):Wr,Ro(1),r?Fs(e):ka(function(){return new js}))}}function l6(t){return function(e){return e.lift(new f6(t))}}var f6=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new h6(e,this.value))},t}(),h6=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}(K);function d6(){return function(e){return e.lift(new p6)}}var p6=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new g6(e))},t}(),g6=function(t){F(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next(Er.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next(Er.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next(Er.createComplete()),r.complete()},e}(K);function Io(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new b6(t,e,r))}}var b6=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new v6(e,this.accumulator,this.seed,this.hasSeed))},t}(),v6=function(t){F(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}(K);function Ta(t,e){return arguments.length>=2?function(n){return cc(Io(t,e),Ro(1),Fs(e))(n)}:function(n){return cc(Io(function(i,s,o){return t(i,s,o+1)}),Ro(1))(n)}}function y6(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return Ta(e)}function m6(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call($g.apply(void 0,[r].concat(t)))}}function _6(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?Mn(function(){return t},e,r):(typeof e=="number"&&(r=e),Mn(function(){return t},r))}function w6(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new S6(t,e,r))}}var S6=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new E6(e,this.accumulator,this.seed,this.concurrent))},t}(),E6=function(t){F(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,r,n)}catch(a){return i.error(a)}this.active++,this._innerSub(s)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new et(this),i=this.destination;i.add(n);var s=rt(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(tt);function M6(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return Ta(e)}function xn(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new x6(i,e));var s=Object.create(n,r5);return s.source=n,s.subjectFactory=i,s}}var x6=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),s=n(i).subscribe(e);return s.add(r.subscribe(i)),s},t}();function C6(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&St(t[0])&&(t=t[0]),function(r){return r.lift(new R6(t))}}var R6=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new I6(e,this.nextSources))},t}(),I6=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new et(this),i=this.destination;i.add(n);var s=rt(r,n);s!==n&&i.add(s)}else this.destination.complete()},e}(tt);function A6(){return function(t){return t.lift(new k6)}}var k6=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new T6(e))},t}(),T6=function(t){F(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}(K);function O6(t,e){return function(r){return[Ur(t,e)(r),Ur(jg(t,e))(r)]}}function N6(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return zt(L6(t,r))(n)}}function L6(t,e){var r=function(n){for(var i=n,s=0;s<e;s++){var o=i?.[t[s]];if(o!==void 0)i=o;else return}return i};return r}function P6(t){return t?xn(function(){return new ft},t):xn(new ft)}function $6(t){return function(e){return xn(new vg(t))(e)}}function D6(){return function(t){return xn(new Fi)(t)}}function j6(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,s=new wl(t,e,n);return function(o){return xn(function(){return s},i)(o)}}function B6(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&St(t[0])&&(t=t[0]),n.lift.call(Bg.apply(void 0,[n].concat(t)))}}function F6(t){return t===void 0&&(t=-1),function(e){return t===0?Bi():t<0?e.lift(new dd(-1,e)):e.lift(new dd(t-1,e))}}var dd=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new W6(e,this.count,this.source))},t}(),W6=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(K);function H6(t){return function(e){return e.lift(new U6(t))}}var U6=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new V6(e,this.notifier,r))},t}(),V6=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new ft;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=rt(r,new et(this))},e}(tt);function z6(t){return t===void 0&&(t=-1),function(e){return e.lift(new q6(t,e))}}var q6=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new G6(e,this.count,this.source))},t}(),G6=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,s=n.count;if(s===0)return t.prototype.error.call(this,r);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(K);function J6(t){return function(e){return e.lift(new Z6(t,e))}}var Z6=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new Q6(e,this.notifier,this.source))},t}(),Q6=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new ft;try{var o=this.notifier;i=o(n)}catch(a){return t.prototype.error.call(this,a)}s=rt(i,new et(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(tt);function Y6(t){return function(e){return e.lift(new K6(t))}}var K6=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new X6(e),i=r.subscribe(n);return i.add(rt(this.notifier,new et(n))),i},t}(),X6=function(t){F(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(tt);function eI(t,e){return e===void 0&&(e=Et),function(r){return r.lift(new tI(t,e))}}var tI=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new rI(e,this.period,this.scheduler))},t}(),rI=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.period=n,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(nI,n,{subscriber:s,period:n})),s}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(K);function nI(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function iI(t,e){return function(r){return r.lift(new sI(t,e))}}var sI=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new oI(e,this.compareTo,this.comparator))},t}(),oI=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.compareTo=n,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(n.subscribe(new aI(r,s))),s}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,s=r.comparator;n.length>0&&i.length>0;){var o=n.shift(),a=i.shift(),u=!1;try{u=s?s(o,a):o===a}catch(l){this.destination.error(l)}u||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(K),aI=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(K);function uI(){return new ft}function cI(){return function(t){return yl()(xn(uI)(t))}}function lI(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(fI(n))}}function fI(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,s=t.refCount,o=t.scheduler,a,u=0,l,f=!1,d=!1;return function(w){u++;var M;!a||f?(f=!1,a=new wl(r,i,o),M=a.subscribe(this),l=w.subscribe({next:function(T){a.next(T)},error:function(T){f=!0,a.error(T)},complete:function(){d=!0,l=void 0,a.complete()}}),d&&(l=void 0)):M=a.subscribe(this),this.add(function(){u--,M.unsubscribe(),M=void 0,l&&!d&&s&&u===0&&(l.unsubscribe(),l=void 0,a=void 0)})}}function hI(t){return function(e){return e.lift(new dI(t,e))}}var dI=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new pI(e,this.predicate,this.source))},t}(),pI=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new js)},e}(K);function gI(t){return function(e){return e.lift(new bI(t))}}var bI=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new vI(e,this.total))},t}(),vI=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}(K);function yI(t){return function(e){return e.lift(new mI(t))}}var mI=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new Mi}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new K(e)):r.subscribe(new _I(e,this._skipCount))},t}(),_I=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var s=i%n,o=this._ring,a=o[s];o[s]=r,this.destination.next(a)}},e}(K);function wI(t){return function(e){return e.lift(new SI(t))}}var SI=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new EI(e,this.notifier))},t}(),EI=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var s=new et(i);i.add(s),i.innerSubscription=s;var o=rt(n,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(tt);function MI(t){return function(e){return e.lift(new xI(t))}}var xI=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new CI(e,this.predicate))},t}(),CI=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=Boolean(n)}catch(i){this.destination.error(i)}},e}(K);function RI(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return kt(r)?(t.pop(),function(n){return cs(t,n,r)}):function(n){return cs(t,n)}}var II=function(t){F(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=ao);var s=t.call(this)||this;return s.source=r,s.delayTime=n,s.scheduler=i,(!xi(n)||n<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=ao),s}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=ao),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(ue);function AI(t,e){return e===void 0&&(e=0),function(n){return n.lift(new kI(t,e))}}var kI=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new II(r,this.delay,this.scheduler).subscribe(e)},t}();function ls(t,e){return typeof e=="function"?function(r){return r.pipe(ls(function(n,i){return Rr(t(n,i)).pipe(zt(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new TI(t))}}var TI=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new OI(e,this.project))},t}(),OI=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new et(this),s=this.destination;s.add(i),this.innerSubscription=rt(r,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(tt);function NI(){return ls(Wr)}function LI(t,e){return e?ls(function(){return t},e):ls(function(){return t})}function PI(t){return function(e){return e.lift(new $I(t))}}var $I=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new DI(e),i=rt(this.notifier,new et(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),DI=function(t){F(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(tt);function jI(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new BI(t,e))}}var BI=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new FI(e,this.predicate,this.inclusive))},t}(),FI=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.inclusive=i,s.index=0,s}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(s){n.error(s);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;Boolean(n)?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}(K);function WI(t,e,r){return function(i){return i.lift(new HI(t,e,r))}}var HI=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new UI(e,this.nextOrObserver,this.error,this.complete))},t}(),UI=function(t){F(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o._tapNext=ur,o._tapError=ur,o._tapComplete=ur,o._tapError=i||ur,o._tapComplete=s||ur,Si(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||ur,o._tapError=n.error||ur,o._tapComplete=n.complete||ur),o}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(K),db={leading:!0,trailing:!1};function VI(t,e){return e===void 0&&(e=db),function(r){return r.lift(new zI(t,!!e.leading,!!e.trailing))}}var zI=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new qI(e,this.durationSelector,this.leading,this.trailing))},t}(),qI=function(t){F(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.destination=r,o.durationSelector=n,o._leading=i,o._trailing=s,o._hasValue=!1,o}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=rt(n,new et(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(tt);function GI(t,e,r){return e===void 0&&(e=Et),r===void 0&&(r=db),function(n){return n.lift(new JI(t,e,r.leading,r.trailing))}}var JI=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new ZI(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),ZI=function(t){F(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.duration=n,a.scheduler=i,a.leading=s,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(QI,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(K);function QI(t){var e=t.subscriber;e.clearThrottle()}function YI(t){return t===void 0&&(t=Et),function(e){return Ml(function(){return e.pipe(Io(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),zt(function(r){var n=r.current,i=r.last,s=r.value;return new KI(s,n-i)}))})}}var KI=function(){function t(e,r){this.value=e,this.interval=r}return t}();function pb(t,e,r){return r===void 0&&(r=Et),function(n){var i=cb(t),s=i?+t-r.now():Math.abs(t);return n.lift(new XI(s,i,e,r))}}var XI=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new eA(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),eA=function(t){F(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=s,a.scheduler=o,a.scheduleTimeout(),a}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(rt(n,new et(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(tt);function tA(t,e){return e===void 0&&(e=Et),pb(t,_l(new Cg),e)}function rA(t){return t===void 0&&(t=Et),zt(function(e){return new nA(e,t.now())})}var nA=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function iA(t,e,r){return r===0?[e]:(t.push(e),t)}function sA(){return Ta(iA,[])}function oA(t){return function(r){return r.lift(new aA(t))}}var aA=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new uA(e),i=r.subscribe(n);return i.closed||n.add(rt(this.windowBoundaries,new et(n))),i},t}(),uA=function(t){F(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new ft,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new ft;n.next(i)},e}(tt);function cA(t,e){return e===void 0&&(e=0),function(n){return n.lift(new lA(t,e))}}var lA=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new fA(e,this.windowSize,this.startWindowEvery))},t}(),fA=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.destination=r,s.windowSize=n,s.startWindowEvery=i,s.windows=[new ft],s.count=0,r.next(s.windows[0]),s}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,a=o.length,u=0;u<a&&!this.closed;u++)o[u].next(r);var l=this.count-s+1;if(l>=0&&l%n===0&&!this.closed&&o.shift().complete(),++this.count%n===0&&!this.closed){var f=new ft;o.push(f),i.next(f)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(K);function hA(t){var e=Et,r=null,n=Number.POSITIVE_INFINITY;return kt(arguments[3])&&(e=arguments[3]),kt(arguments[2])?e=arguments[2]:xi(arguments[2])&&(n=Number(arguments[2])),kt(arguments[1])?e=arguments[1]:xi(arguments[1])&&(r=Number(arguments[1])),function(s){return s.lift(new dA(t,r,n,e))}}var dA=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new gA(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),pA=function(t){F(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(ft),gA=function(t){F(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.destination=r,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=s,a.scheduler=o,a.windows=[];var u=a.openWindow();if(i!==null&&i>=0){var l={subscriber:a,window:u,context:null},f={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:o};a.add(o.schedule(gb,n,l)),a.add(o.schedule(vA,i,f))}else{var d={subscriber:a,window:u,windowTimeSpan:n};a.add(o.schedule(bA,n,d))}return a}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,s=0;s<i;s++){var o=n[s];o.closed||(o.next(r),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new pA;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}(K);function bA(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function vA(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,s=r.openWindow(),o=this,a={action:o,subscription:null},u={subscriber:r,window:s,context:a};a.subscription=n.schedule(gb,e,u),o.add(a.subscription),o.schedule(t,i)}function gb(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function yA(t,e){return function(r){return r.lift(new mA(t,e))}}var mA=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new _A(e,this.openings,this.closingSelector))},t}(),_A=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.openings=n,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=xr(s,n,n)),s}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,s=0;s<i;s++)n[s].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,s=-1;++s<i;){var o=n[s];o.window.error(r),o.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.complete(),s.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,s,o){if(r===this.openings){var a=void 0;try{var u=this.closingSelector;a=u(n)}catch(w){return this.error(w)}var l=new ft,f=new Xe,d={window:l,subscription:f};this.contexts.push(d);var g=xr(this,a,d);g.closed?this.closeWindow(this.contexts.length-1):(g.context=d,f.add(g)),this.destination.next(l)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],s=i.window,o=i.subscription;n.splice(r,1),s.complete(),o.unsubscribe()}},e}(Pn);function wA(t){return function(r){return r.lift(new SA(t))}}var SA=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new EA(e,this.closingSelector))},t}(),EA=function(t){F(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,s,o){this.openWindow(o)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new ft;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=xr(this,s))},e}(Pn);function MA(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new xA(i,n))}}var xA=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new CA(e,this.observables,this.project))},t}(),CA=function(t){F(e,t);function e(r,n,i){var s=t.call(this,r)||this;s.observables=n,s.project=i,s.toRespond=[];var o=n.length;s.values=new Array(o);for(var a=0;a<o;a++)s.toRespond.push(a);for(var a=0;a<o;a++){var u=n[a];s.add(xr(s,u,void 0,a))}return s}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Pn);function RA(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(Wg.apply(void 0,[n].concat(t)))}}function IA(t){return function(e){return e.lift(new Hg(t))}}var AA=Object.freeze({__proto__:null,audit:ob,auditTime:AC,buffer:kC,bufferCount:NC,bufferTime:DC,bufferToggle:HC,bufferWhen:zC,catchError:JC,combineAll:YC,combineLatest:KC,concat:XC,concatAll:Og,concatMap:ub,concatMapTo:eR,count:tR,debounce:iR,debounceTime:aR,defaultIfEmpty:Fs,delay:dR,delayWhen:vR,dematerialize:wR,distinct:MR,distinctUntilChanged:lb,distinctUntilKeyChanged:AR,elementAt:PR,endWith:$R,every:DR,exhaust:FR,exhaustMap:fb,expand:zR,filter:Ur,finalize:JR,find:YR,findIndex:XR,first:e6,flatMap:Q5,groupBy:i5,ignoreElements:t6,isEmpty:i6,last:c6,map:zt,mapTo:l6,materialize:d6,max:y6,merge:m6,mergeAll:El,mergeMap:Mn,mergeMapTo:_6,mergeScan:w6,min:M6,multicast:xn,observeOn:p5,onErrorResumeNext:C6,pairwise:A6,partition:O6,pluck:N6,publish:P6,publishBehavior:$6,publishLast:D6,publishReplay:j6,race:B6,reduce:Ta,refCount:yl,repeat:F6,repeatWhen:H6,retry:z6,retryWhen:J6,sample:Y6,sampleTime:eI,scan:Io,sequenceEqual:iI,share:cI,shareReplay:lI,single:hI,skip:gI,skipLast:yI,skipUntil:wI,skipWhile:MI,startWith:RI,subscribeOn:AI,switchAll:NI,switchMap:ls,switchMapTo:LI,take:Dl,takeLast:Ro,takeUntil:PI,takeWhile:jI,tap:WI,throttle:VI,throttleTime:GI,throwIfEmpty:ka,timeInterval:YI,timeout:tA,timeoutWith:pb,timestamp:rA,toArray:sA,window:oA,windowCount:cA,windowTime:hA,windowToggle:yA,windowWhen:wA,withLatestFrom:MA,zip:RA,zipAll:IA}),jl=Ut(AA),Oa={},jt={};Object.defineProperty(jt,"__esModule",{value:!0});jt.ClientMessagePublishEvent=jt.ClientMessageSetSessionConfig=jt.ClientMessageGetSessionConfig=jt.ClientMessageIsLinked=jt.ClientMessageHostSession=void 0;function kA(t){return Object.assign({type:"HostSession"},t)}jt.ClientMessageHostSession=kA;function TA(t){return Object.assign({type:"IsLinked"},t)}jt.ClientMessageIsLinked=TA;function OA(t){return Object.assign({type:"GetSessionConfig"},t)}jt.ClientMessageGetSessionConfig=OA;function NA(t){return Object.assign({type:"SetSessionConfig"},t)}jt.ClientMessageSetSessionConfig=NA;function LA(t){return Object.assign({type:"PublishEvent"},t)}jt.ClientMessagePublishEvent=LA;var bb={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=ga,r=jl;var n;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(o,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(o=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(u){o.error(u);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=u=>{this.clearWebSocket(),o.error(new Error(`websocket error ${u.code}: ${u.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=u=>{o.next(),o.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=u=>{this.incomingDataSubject.next(u.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:o}=this;if(o){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(o=>{let a;try{a=JSON.parse(o)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(o){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(o)}clearWebSocket(){const{webSocket:o}=this;o&&(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}t.RxWebSocket=i})(bb);var Na={};Object.defineProperty(Na,"__esModule",{value:!0});Na.isServerMessageFail=void 0;function PA(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}Na.isServerMessageFail=PA;Object.defineProperty(Oa,"__esModule",{value:!0});Oa.WalletSDKConnection=void 0;const Gt=ga,fe=jl,zi=ki,Yn=ws,qi=jt,Gi=Ai,to=bb,ju=Na,pd=1e4,$A=6e4;class DA{constructor(e,r,n,i,s=WebSocket){this.sessionId=e,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new Gt.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,Yn.IntNumber)(1),this.connectedSubject=new Gt.BehaviorSubject(!1),this.linkedSubject=new Gt.BehaviorSubject(!1),this.sessionConfigSubject=new Gt.ReplaySubject(1);const o=new to.RxWebSocket(n+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,fe.tap)(a=>{var u;return(u=this.diagnostic)===null||u===void 0?void 0:u.log(Gi.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:zi.Session.hash(e)})}),(0,fe.skip)(1),(0,fe.filter)(a=>a===to.ConnectionState.DISCONNECTED&&!this.destroyed),(0,fe.delay)(5e3),(0,fe.filter)(a=>!this.destroyed),(0,fe.flatMap)(a=>o.connect()),(0,fe.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,fe.skip)(2),(0,fe.switchMap)(a=>(0,Gt.iif)(()=>a===to.ConnectionState.CONNECTED,this.authenticate().pipe((0,fe.tap)(u=>this.sendIsLinked()),(0,fe.tap)(u=>this.sendGetSessionConfig()),(0,fe.map)(u=>!0)),(0,Gt.of)(!1))),(0,fe.distinctUntilChanged)(),(0,fe.catchError)(a=>(0,Gt.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(o.connectionState$.pipe((0,fe.skip)(1),(0,fe.switchMap)(a=>(0,Gt.iif)(()=>a===to.ConnectionState.CONNECTED,(0,Gt.timer)(0,pd)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,fe.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,fe.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var u;const l=a;(u=this.diagnostic)===null||u===void 0||u.log(Gi.EVENTS.LINKED,{sessionIdHash:zi.Session.hash(e),linked:l.linked,type:a.type,onlineGuests:l.onlineGuests}),this.linkedSubject.next(l.linked||l.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,fe.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var u;const l=a;(u=this.diagnostic)===null||u===void 0||u.log(Gi.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:zi.Session.hash(e),metadata_keys:l&&l.metadata?Object.keys(l.metadata):void 0}),this.sessionConfigSubject.next({webhookId:l.webhookId,webhookUrl:l.webhookUrl,metadata:l.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(Gi.EVENTS.STARTED_CONNECTING,{sessionIdHash:zi.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(Gi.EVENTS.DISCONNECTED,{sessionIdHash:zi.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,fe.filter)(e=>e),(0,fe.take)(1),(0,fe.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,fe.filter)(e=>e),(0,fe.take)(1),(0,fe.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,fe.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,fe.map)(e=>e))}setSessionMetadata(e,r){const n=(0,qi.ClientMessageSetSessionConfig)({id:(0,Yn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,fe.flatMap)(i=>this.makeRequest(n)),(0,fe.map)(i=>{if((0,ju.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,qi.ClientMessagePublishEvent)({id:(0,Yn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,fe.flatMap)(s=>this.makeRequest(i)),(0,fe.map)(s=>{if((0,ju.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>pd*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=$A){const n=e.id;try{this.sendData(e)}catch(i){return(0,Gt.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,fe.timeoutWith)(r,(0,Gt.throwError)(new Error(`request ${n} timed out`))),(0,fe.filter)(i=>i.id===n),(0,fe.take)(1))}authenticate(){const e=(0,qi.ClientMessageHostSession)({id:(0,Yn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,fe.map)(r=>{if((0,ju.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,qi.ClientMessageIsLinked)({id:(0,Yn.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,qi.ClientMessageGetSessionConfig)({id:(0,Yn.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}Oa.WalletSDKConnection=DA;var Ri={};Object.defineProperty(Ri,"__esModule",{value:!0});Ri.decrypt=Ri.encrypt=void 0;const Ao=Y;async function jA(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,Ao.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),o=16,a=s.slice(s.byteLength-o),u=s.slice(0,s.byteLength-o),l=new Uint8Array(a),f=new Uint8Array(u),d=new Uint8Array([...r,...l,...f]);return(0,Ao.uint8ArrayToHex)(d)}Ri.encrypt=jA;function BA(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new Promise((r,n)=>{(async function(){const i=await crypto.subtle.importKey("raw",(0,Ao.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=(0,Ao.hexStringToUint8Array)(t),o=s.slice(0,12),a=s.slice(12,28),u=s.slice(28),l=new Uint8Array([...u,...a]),f={name:"AES-GCM",iv:new Uint8Array(o)};try{const d=await window.crypto.subtle.decrypt(f,i,l),g=new TextDecoder;r(g.decode(d))}catch(d){n(d)}})()})}Ri.decrypt=BA;var La={},Pa={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(Pa);Object.defineProperty(La,"__esModule",{value:!0});La.Web3RequestCanceledMessage=void 0;const FA=Pa;function WA(t){return{type:FA.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}La.Web3RequestCanceledMessage=WA;var $a={};Object.defineProperty($a,"__esModule",{value:!0});$a.Web3RequestMessage=void 0;const HA=Pa;function UA(t){return Object.assign({type:HA.RelayMessageType.WEB3_REQUEST},t)}$a.Web3RequestMessage=UA;var Ii={};Object.defineProperty(Ii,"__esModule",{value:!0});Ii.isWeb3ResponseMessage=Ii.Web3ResponseMessage=void 0;const vb=Pa;function VA(t){return Object.assign({type:vb.RelayMessageType.WEB3_RESPONSE},t)}Ii.Web3ResponseMessage=VA;function zA(t){return t&&t.type===vb.RelayMessageType.WEB3_RESPONSE}Ii.isWeb3ResponseMessage=zA;var qA=J&&J.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),GA=J&&J.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),yb=J&&J.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},JA=J&&J.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&qA(e,t,r);return GA(e,t),e},ZA=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ia,"__esModule",{value:!0});Ia.WalletSDKRelay=void 0;const mb=ZA(Aa),fn=ga,st=jl,vt=Ai,QA=Oa,Kn=hs,YA=ws,Ze=Y,kr=JA(Ri),Tr=ki,ro=Qt,ht=Po,KA=La,XA=$a,$t=Ee,xt=Ii;class Zt extends ro.WalletSDKRelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new fn.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new fn.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:s}=this.subscribe();if(this._session=n,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=Tr.Session.load(this.storage)||new Tr.Session(this.storage).save(),r=new QA.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(vt.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,st.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,st.skip)(1),(0,st.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem(ro.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),u=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!u){this.isUnlinkedErrorState=!0;const l=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(vt.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:l})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,st.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(vt.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,st.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,st.mergeMap)(i=>kr.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(ro.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(vt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,st.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,st.mergeMap)(i=>kr.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(ro.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(vt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,st.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,st.mergeMap)(i=>(0,fn.zip)(kr.decrypt(i.metadata.ChainId,e.secret),kr.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,st.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(vt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,st.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,st.mergeMap)(i=>kr.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),Zt.accountRequestCallbackIds.size>0&&(Array.from(Zt.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,xt.Web3ResponseMessage)({id:s,response:(0,$t.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),Zt.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(vt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,st.filter)(i=>i.metadata&&i.metadata.AppSrc!==void 0)).pipe((0,st.mergeMap)(i=>kr.decrypt(i.metadata.AppSrc,e.secret))).subscribe({next:i=>{this.ui.setAppSrc(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(vt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:e,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,st.timeout)(1e3),(0,st.catchError)(e=>(0,fn.of)(null))).subscribe(e=>{var r,n,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(vt.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(vt.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=Tr.Session.load(this.storage);if(o?.id===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(vt.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Tr.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0),this.subscriptions=new fn.Subscription;const{session:a,ui:u,connection:l}=this.subscribe();this._session=a,this.connection=l,this.ui=u,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(vt.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:ht.Web3Method.signEthereumMessage,params:{message:(0,Ze.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:ht.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,Ze.hexStringFromBuffer)(e,!0),signature:(0,Ze.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:ht.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,Ze.bigIntStringFromBN)(e.weiValue),data:(0,Ze.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,Ze.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,Ze.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,Ze.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,Ze.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:ht.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,Ze.bigIntStringFromBN)(e.weiValue),data:(0,Ze.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,Ze.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,Ze.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,Ze.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,Ze.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:ht.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,Ze.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:ht.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,Ze.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:ht.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,Ze.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,o),r?.()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,u=>{if(r?.(),u.errorMessage)return a(new Error(u.errorMessage));o(u)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,r){var n;const i=(0,XA.Web3RequestMessage)({id:e,request:r}),s=Tr.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(vt.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Tr.Session.hash(s.id):"",isSessionMismatched:(s?.id!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(vt.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Tr.Session.hash(s.id):"",isSessionMismatched:(s?.id!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,KA.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new fn.Observable(s=>{kr.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,st.mergeMap)(s=>this.connection.publishEvent(e,s,n)))}handleIncomingEvent(e){try{this.subscriptions.add((0,fn.from)(kr.decrypt(e.data,this.session.secret)).pipe((0,st.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,xt.isWeb3ResponseMessage)(r)?r:null;n&&this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(vt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(vt.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,$t.isRequestEthereumAccountsResponse)(n)){Zt.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),Zt.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){var s;const o=(s=n?.message)!==null&&s!==void 0?s:(0,Kn.standardErrorMessage)(i);this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:e,response:{method:r,errorMessage:o,errorCode:i}}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:ht.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,Ze.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s)};return{promise:new Promise((s,o)=>{var a;this.relayEventManager.callbacks.set(r,l=>{if(this.ui.hideRequestEthereumAccounts(),l.errorMessage)return o(new Error(l.errorMessage));s(l)});const u=((a=window?.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(u&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(u)){let l;try{(0,Ze.isInIFrame)()&&window.top?l=window.top.location:l=window.location}catch{l=window.location}l.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(l.href)}`;return}if(this.ui.inlineAccountsResponse()){const l=f=>{this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:r,response:(0,$t.RequestEthereumAccountsResponse)(f)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:l})}else{const l=Kn.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(l)})}Zt.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:ht.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,Ze.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,f=>{if(f.errorMessage)return a(new Error(f.errorMessage));o(f)});const u=f=>{this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:n,response:(0,$t.SelectProviderResponse)(YA.ProviderType.Unselected)}))},l=f=>{this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:n,response:(0,$t.SelectProviderResponse)(f)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:l,onCancel:u,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,r,n,i,s,o){const a={method:ht.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let u=null;const l=(0,Ze.randomBytesHex)(8),f=g=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,g),u?.()};this.ui.inlineWatchAsset()||(u=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:f,onResetConnection:this.resetAndReload}));const d=new Promise((g,w)=>{this.relayEventManager.callbacks.set(l,O=>{if(u?.(),O.errorMessage)return w(new Error(O.errorMessage));g(O)});const M=O=>{this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:l,response:(0,$t.WatchAssetReponse)(!1)}))},T=()=>{this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:l,response:(0,$t.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:T,onCancel:M,type:e,address:r,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(l,a)});return{cancel:f,promise:d}}addEthereumChain(e,r,n,i,s,o){const a={method:ht.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let u=null;const l=(0,Ze.randomBytesHex)(8),f=g=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,g),u?.()};return this.ui.inlineAddEthereumChain(e)||(u=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:f,onResetConnection:this.resetAndReload})),{promise:new Promise((g,w)=>{this.relayEventManager.callbacks.set(l,O=>{if(u?.(),O.errorMessage)return w(new Error(O.errorMessage));g(O)});const M=O=>{this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:l,response:(0,$t.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},T=O=>{this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:l,response:(0,$t.AddEthereumChainResponse)({isApproved:!0,rpcUrl:O})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:M,onApprove:T,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(l,a)}),cancel:f}}switchEthereumChain(e,r){const n={method:ht.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:r})},i=(0,Ze.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,u)=>{this.relayEventManager.callbacks.set(i,d=>{if((0,$t.isErrorResponse)(d)&&d.errorCode)return u(Kn.standardErrors.provider.custom({code:d.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(d.errorMessage)return u(new Error(d.errorMessage));a(d)});const l=d=>{var g;if(d){const w=(g=(0,Kn.getErrorCode)(d))!==null&&g!==void 0?g:Kn.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(i,ht.Web3Method.switchEthereumChain,d instanceof Error?d:Kn.standardErrors.provider.unsupportedChain(e),w)}else this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:i,response:(0,$t.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},f=d=>{this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:i,response:(0,$t.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:d})}))};this.ui.switchEthereumChain({onCancel:l,onApprove:f,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return Tr.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=s=>{this.handleErrorResponse(e,r.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:e,response:s}))};switch(r.method){case ht.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case ht.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case ht.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case ht.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}Zt.accountRequestCallbackIds=new Set;yb([mb.default],Zt.prototype,"resetAndReload",null);yb([mb.default],Zt.prototype,"handleIncomingEvent",null);Ia.WalletSDKRelay=Zt;var Da={};Object.defineProperty(Da,"__esModule",{value:!0});Da.WalletSDKRelayEventManager=void 0;const ek=Y;class tk{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,ek.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}Da.WalletSDKRelayEventManager=tk;var rk="@coinbase/wallet-sdk",nk="3.7.1",ik="Coinbase Wallet JavaScript SDK",sk=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],ok="dist/index.js",ak="dist/index.d.ts",uk="https://github.com/coinbase/coinbase-wallet-sdk.git",ck="Coinbase, Inc.",lk="Apache-2.0",fk={"pretest:unit":"node compile-assets.js","test:unit":"jest","test:unit:coverage":"yarn test:unit && open coverage/lcov-report/index.html","test:karma":"yarn build-npm && karma start",prebuild:`rm -rf ./build && node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,build:"node compile-assets.js && webpack --config webpack.config.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export LINK_API_URL='http://localhost:3000'; yarn build","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-npm && cp ./package.json ../../README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,"lint:types":"tsc --noEmit","lint:prettier":'prettier --check "{src,__tests__}/**/*.(js|ts|tsx)"',"lint:eslint":"eslint ./src --ext .ts,.tsx",lint:"yarn lint:eslint && yarn lint:types && yarn lint:prettier","fix:eslint":"yarn lint:eslint --fix","fix:prettier":"prettier . --write",release:"./scripts/release.sh"},hk={"@metamask/safe-event-emitter":"2.0.0","@solana/web3.js":"^1.70.1","bind-decorator":"^1.0.11","bn.js":"^5.1.1",buffer:"^6.0.3",clsx:"^1.1.0","eth-block-tracker":"6.1.0","eth-json-rpc-filters":"5.1.0","eth-rpc-errors":"4.0.2","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",qs:"^6.10.3",rxjs:"^6.6.3","sha.js":"^2.4.11","stream-browserify":"^3.0.0",util:"^0.12.4"},dk={"@babel/core":"^7.17.9","@babel/plugin-proposal-decorators":"^7.17.9","@babel/plugin-transform-react-jsx":"^7.17.3","@babel/preset-env":"^7.16.11","@babel/preset-typescript":"^7.16.7","@peculiar/webcrypto":"^1.3.3","@testing-library/jest-dom":"^5.16.4","@testing-library/preact":"^2.0.1","@types/bn.js":"^4.11.6","@types/jest":"^27.4.1","@types/node":"^14.14.20","@types/qs":"^6.9.7","@types/sha.js":"^2.4.0","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0","babel-jest":"^27.5.1",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",jest:"^27.5.1","jest-chrome":"^0.7.2","jest-websocket-mock":"^2.3.0",karma:"^6.4.0","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.50.0",svgo:"^2.8.0","ts-jest":"^27.1.4","ts-loader":"^8.0.13","ts-node":"^10.7.0",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.76.0","webpack-cli":"^4.9.2","whatwg-fetch":"^3.5.0"},pk={node:">= 10.0.0"},gk={name:rk,version:nk,description:ik,keywords:sk,main:ok,types:ak,repository:uk,author:ck,license:lk,scripts:fk,dependencies:hk,devDependencies:dk,engines:pk};Object.defineProperty(is,"__esModule",{value:!0});is.CoinbaseWalletSDK=void 0;const bk=To,vk=Oo,yk=hi,mk=fa,_k=Ia,wk=Da,Sk=Y,Ek=process.env.LINK_API_URL||"https://www.walletlink.org",_b=process.env.SDK_VERSION||gk.version||"unknown";class ja{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||Ek;let o;if(e.uiConstructor?o=e.uiConstructor:o=l=>new mk.WalletSDKUI(l),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(s),u=`${a.protocol}//${a.host}`;this._storage=new vk.ScopedLocalStorage(`-walletlink:${u}`),this._storage.setItem("version",ja.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new wk.WalletSDKRelayEventManager,this._relay=new _k.WalletSDKRelay({linkAPIUrl:s,version:_b,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new yk.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,Sk.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,bk.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}is.CoinbaseWalletSDK=ja;ja.VERSION=_b;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=is,r=hi;var n=is;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=hi;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(bd);var Mk=wb(bd),Pk=Object.freeze({__proto__:null,default:Mk});export{Pk as i};
//# sourceMappingURL=index-3c0bc5c4.js.map
